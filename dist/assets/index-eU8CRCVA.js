import{r as F,j as s,A as Mt,m as Ee,R as Ae}from"./motion-BI6BGv4p.js";import{r as ex,a as tx}from"./vendor-gH-7aFTg.js";import{u as el,w as br}from"./excel-3SA47z_C.js";import{S as lx,U as ax,B as sx,a as nx,D as ix,G as cx,C as rx,F as ux,b as dx,c as ox,d as pf,H as gf,M as fx,e as mx,W as hx}from"./icons-tYe9cL6I.js";(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))d(j);new MutationObserver(j=>{for(const w of j)if(w.type==="childList")for(const g of w.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function m(j){const w={};return j.integrity&&(w.integrity=j.integrity),j.referrerPolicy&&(w.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?w.credentials="include":j.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function d(j){if(j.ep)return;j.ep=!0;const w=m(j);fetch(j.href,w)}})();var gr={exports:{}},Os={},yr={exports:{}},vr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf;function xx(){return yf||(yf=1,(function(u){function b(z,J){var te=z.length;z.push(J);e:for(;0<te;){var ue=te-1>>>1,de=z[ue];if(0<j(de,J))z[ue]=J,z[te]=de,te=ue;else break e}}function m(z){return z.length===0?null:z[0]}function d(z){if(z.length===0)return null;var J=z[0],te=z.pop();if(te!==J){z[0]=te;e:for(var ue=0,de=z.length,Me=de>>>1;ue<Me;){var ye=2*(ue+1)-1,v=z[ye],V=ye+1,W=z[V];if(0>j(v,te))V<de&&0>j(W,v)?(z[ue]=W,z[V]=te,ue=V):(z[ue]=v,z[ye]=te,ue=ye);else if(V<de&&0>j(W,te))z[ue]=W,z[V]=te,ue=V;else break e}}return J}function j(z,J){var te=z.sortIndex-J.sortIndex;return te!==0?te:z.id-J.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;u.unstable_now=function(){return w.now()}}else{var g=Date,E=g.now();u.unstable_now=function(){return g.now()-E}}var D=[],k=[],M=1,C=null,h=3,x=!1,U=!1,S=!1,K=!1,ae=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(z){for(var J=m(k);J!==null;){if(J.callback===null)d(k);else if(J.startTime<=z)d(k),J.sortIndex=J.expirationTime,b(D,J);else break;J=m(k)}}function _(z){if(S=!1,O(z),!U)if(m(D)!==null)U=!0,Q||(Q=!0,X());else{var J=m(k);J!==null&&I(_,J.startTime-z)}}var Q=!1,Y=-1,N=5,p=-1;function o(){return K?!0:!(u.unstable_now()-p<N)}function H(){if(K=!1,Q){var z=u.unstable_now();p=z;var J=!0;try{e:{U=!1,S&&(S=!1,ee(Y),Y=-1),x=!0;var te=h;try{t:{for(O(z),C=m(D);C!==null&&!(C.expirationTime>z&&o());){var ue=C.callback;if(typeof ue=="function"){C.callback=null,h=C.priorityLevel;var de=ue(C.expirationTime<=z);if(z=u.unstable_now(),typeof de=="function"){C.callback=de,O(z),J=!0;break t}C===m(D)&&d(D),O(z)}else d(D);C=m(D)}if(C!==null)J=!0;else{var Me=m(k);Me!==null&&I(_,Me.startTime-z),J=!1}}break e}finally{C=null,h=te,x=!1}J=void 0}}finally{J?X():Q=!1}}}var X;if(typeof L=="function")X=function(){L(H)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,se=P.port2;P.port1.onmessage=H,X=function(){se.postMessage(null)}}else X=function(){ae(H,0)};function I(z,J){Y=ae(function(){z(u.unstable_now())},J)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(z){z.callback=null},u.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},u.unstable_getCurrentPriorityLevel=function(){return h},u.unstable_next=function(z){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var te=h;h=J;try{return z()}finally{h=te}},u.unstable_requestPaint=function(){K=!0},u.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=h;h=z;try{return J()}finally{h=te}},u.unstable_scheduleCallback=function(z,J,te){var ue=u.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=te+de,z={id:M++,callback:J,priorityLevel:z,startTime:te,expirationTime:de,sortIndex:-1},te>ue?(z.sortIndex=te,b(k,z),m(D)===null&&z===m(k)&&(S?(ee(Y),Y=-1):S=!0,I(_,te-ue))):(z.sortIndex=de,b(D,z),U||x||(U=!0,Q||(Q=!0,X()))),z},u.unstable_shouldYield=o,u.unstable_wrapCallback=function(z){var J=h;return function(){var te=h;h=J;try{return z.apply(this,arguments)}finally{h=te}}}})(vr)),vr}var vf;function px(){return vf||(vf=1,yr.exports=xx()),yr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function gx(){if(bf)return Os;bf=1;var u=px(),b=ex(),m=tx();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(w(e)!==e)throw Error(d(188))}function D(e){var t=e.alternate;if(!t){if(t=w(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return E(n),e;if(i===a)return E(n),t;i=i.sibling}throw Error(d(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,r=n.child;r;){if(r===l){c=!0,l=n,a=i;break}if(r===a){c=!0,a=n,l=i;break}r=r.sibling}if(!c){for(r=i.child;r;){if(r===l){c=!0,l=i,a=n;break}if(r===a){c=!0,a=i,l=n;break}r=r.sibling}if(!c)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function k(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=k(e),t!==null)return t;e=e.sibling}return null}var M=Object.assign,C=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),o=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case K:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case Q:return"SuspenseList";case p:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case L:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var I=Array.isArray,z=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ue=[],de=-1;function Me(e){return{current:e}}function ye(e){0>de||(e.current=ue[de],ue[de]=null,de--)}function v(e,t){de++,ue[de]=e.current,e.current=t}var V=Me(null),W=Me(null),pe=Me(null),De=Me(null);function Jl(e,t){switch(v(pe,t),v(W,e),v(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Go(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Go(t),e=Qo(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(V),v(V,e)}function tl(){ye(V),ye(W),ye(pe)}function li(e){e.memoizedState!==null&&v(De,e);var t=V.current,l=Qo(t,e.type);t!==l&&(v(W,e),v(V,l))}function Hs(e){W.current===e&&(ye(V),ye(W)),De.current===e&&(ye(De),Ds._currentValue=te)}var ai=Object.prototype.hasOwnProperty,si=u.unstable_scheduleCallback,ni=u.unstable_cancelCallback,zf=u.unstable_shouldYield,Uf=u.unstable_requestPaint,Rt=u.unstable_now,Of=u.unstable_getCurrentPriorityLevel,Nr=u.unstable_ImmediatePriority,Sr=u.unstable_UserBlockingPriority,ks=u.unstable_NormalPriority,qf=u.unstable_LowPriority,wr=u.unstable_IdlePriority,_f=u.log,Bf=u.unstable_setDisableYieldValue,Ba=null,ut=null;function ll(e){if(typeof _f=="function"&&Bf(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Ba,e)}catch{}}var dt=Math.clz32?Math.clz32:Xf,Hf=Math.log,kf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Hf(e)/kf|0)|0}var Xs=256,Ls=4194304;function Dl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var r=a&134217727;return r!==0?(a=r&~i,a!==0?n=Dl(a):(c&=r,c!==0?n=Dl(c):l||(l=r&~e,l!==0&&(n=Dl(l))))):(r=a&~i,r!==0?n=Dl(r):c!==0?n=Dl(c):l||(l=a&~e,l!==0&&(n=Dl(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Ha(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Lf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(){var e=Xs;return Xs<<=1,(Xs&4194048)===0&&(Xs=256),e}function Ar(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function ii(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ka(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yf(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var r=e.entanglements,f=e.expirationTimes,R=e.hiddenUpdates;for(l=c&~l;0<l;){var G=31-dt(l),$=1<<G;r[G]=0,f[G]=-1;var q=R[G];if(q!==null)for(R[G]=null,G=0;G<q.length;G++){var B=q[G];B!==null&&(B.lane&=-536870913)}l&=~$}a!==0&&Er(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Er(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-dt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function Tr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-dt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dr(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:df(e.type))}function Gf(e,t){var l=J.p;try{return J.p=e,t()}finally{J.p=l}}var al=Math.random().toString(36).slice(2),et="__reactFiber$"+al,at="__reactProps$"+al,$l="__reactContainer$"+al,ui="__reactEvents$"+al,Qf="__reactListeners$"+al,Vf="__reactHandles$"+al,Mr="__reactResources$"+al,Xa="__reactMarker$"+al;function di(e){delete e[et],delete e[at],delete e[ui],delete e[Qf],delete e[Vf]}function Fl(e){var t=e[et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[$l]||l[et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Jo(e);e!==null;){if(l=e[et])return l;e=Jo(e)}return t}e=l,l=e.parentNode}return null}function Wl(e){if(e=e[et]||e[$l]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function La(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Il(e){var t=e[Mr];return t||(t=e[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Xa]=!0}var Rr=new Set,zr={};function Ml(e,t){Pl(e,t),Pl(e+"Capture",t)}function Pl(e,t){for(zr[e]=t,e=0;e<t.length;e++)Rr.add(t[e])}var Zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ur={},Or={};function Kf(e){return ai.call(Or,e)?!0:ai.call(Ur,e)?!1:Zf.test(e)?Or[e]=!0:(Ur[e]=!0,!1)}function Gs(e,t,l){if(Kf(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Qs(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function kt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var oi,qr;function ea(e){if(oi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);oi=t&&t[1]||"",qr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oi+e+qr}var fi=!1;function mi(e,t){if(!e||fi)return"";fi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var q=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){q=B}e.call($.prototype)}}else{try{throw Error()}catch(B){q=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&q&&typeof B.stack=="string")return[B.stack,q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],r=i[1];if(c&&r){var f=c.split(`
`),R=r.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<R.length&&!R[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===R.length)for(a=f.length-1,n=R.length-1;1<=a&&0<=n&&f[a]!==R[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==R[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==R[n]){var G=`
`+f[a].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=a&&0<=n);break}}}finally{fi=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ea(l):""}function Jf(e){switch(e.tag){case 26:case 27:case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return ea("Activity");default:return""}}function _r(e){try{var t="";do t+=Jf(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Br(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $f(e){var t=Br(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vs(e){e._valueTracker||(e._valueTracker=$f(e))}function Hr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Br(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ff=/[\n"\\]/g;function vt(e){return e.replace(Ff,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hi(e,t,l,a,n,i,c,r){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?xi(e,c,yt(t)):l!=null?xi(e,c,yt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+yt(r):e.removeAttribute("name")}function kr(e,t,l,a,n,i,c,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+yt(l):"",t=t!=null?""+yt(t):l,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function xi(e,t,l){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ta(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+yt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Xr(e,t,l){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+yt(l):""}function Lr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(I(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=yt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function la(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Wf.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Gr(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&Yr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&Yr(e,i,t[i])}function pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return Pf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,sa=null;function Qr(e){var t=Wl(e);if(t&&(e=t.stateNode)){var l=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(hi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[at]||null;if(!n)throw Error(d(90));hi(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Hr(a)}break e;case"textarea":Xr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ta(e,!!l.multiple,t,!1)}}}var vi=!1;function Vr(e,t,l){if(vi)return e(t,l);vi=!0;try{var a=e(t);return a}finally{if(vi=!1,(aa!==null||sa!==null)&&(Un(),aa&&(t=aa,e=sa,sa=aa=null,Qr(t),e)))for(t=0;t<e.length;t++)Qr(e[t])}}function Ya(e,t){var l=e.stateNode;if(l===null)return null;var a=l[at]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(Xt)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{bi=!1}var sl=null,ji=null,Js=null;function Zr(){if(Js)return Js;var e,t=ji,l=t.length,a,n="value"in sl?sl.value:sl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return Js=n.slice(e,1<a?1-a:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function Kr(){return!1}function st(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(l=e[r],this[r]=l?l(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:Kr,this.isPropagationStopped=Kr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=st(Rl),Qa=M({},Rl,{view:0,detail:0}),em=st(Qa),Ni,Si,Va,Is=M({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(Ni=e.screenX-Va.screenX,Si=e.screenY-Va.screenY):Si=Ni=0,Va=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:Si}}),Jr=st(Is),tm=M({},Is,{dataTransfer:0}),lm=st(tm),am=M({},Qa,{relatedTarget:0}),wi=st(am),sm=M({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),nm=st(sm),im=M({},Rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=st(im),rm=M({},Rl,{data:0}),$r=st(rm),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function Ci(){return fm}var mm=M({},Qa,{key:function(e){if(e.key){var t=um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hm=st(mm),xm=M({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fr=st(xm),pm=M({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),gm=st(pm),ym=M({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=st(ym),bm=M({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=st(bm),Nm=M({},Rl,{newState:0,oldState:0}),Sm=st(Nm),wm=[9,13,27,32],Ai=Xt&&"CompositionEvent"in window,Za=null;Xt&&"documentMode"in document&&(Za=document.documentMode);var Cm=Xt&&"TextEvent"in window&&!Za,Wr=Xt&&(!Ai||Za&&8<Za&&11>=Za),Ir=" ",Pr=!1;function eu(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function Am(e,t){switch(e){case"compositionend":return tu(t);case"keypress":return t.which!==32?null:(Pr=!0,Ir);case"textInput":return e=t.data,e===Ir&&Pr?null:e;default:return null}}function Em(e,t){if(na)return e==="compositionend"||!Ai&&eu(e,t)?(e=Zr(),Js=ji=sl=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wr&&t.locale!=="ko"?null:t.data;default:return null}}var Tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tm[e.type]:t==="textarea"}function au(e,t,l,a){aa?sa?sa.push(a):sa=[a]:aa=a,t=kn(t,"onChange"),0<t.length&&(l=new Ws("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Ka=null,Ja=null;function Dm(e){Ho(e,0)}function Ps(e){var t=La(e);if(Hr(t))return e}function su(e,t){if(e==="change")return t}var nu=!1;if(Xt){var Ei;if(Xt){var Ti="oninput"in document;if(!Ti){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),Ti=typeof iu.oninput=="function"}Ei=Ti}else Ei=!1;nu=Ei&&(!document.documentMode||9<document.documentMode)}function cu(){Ka&&(Ka.detachEvent("onpropertychange",ru),Ja=Ka=null)}function ru(e){if(e.propertyName==="value"&&Ps(Ja)){var t=[];au(t,Ja,e,yi(e)),Vr(Dm,t)}}function Mm(e,t,l){e==="focusin"?(cu(),Ka=t,Ja=l,Ka.attachEvent("onpropertychange",ru)):e==="focusout"&&cu()}function Rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(Ja)}function zm(e,t){if(e==="click")return Ps(t)}function Um(e,t){if(e==="input"||e==="change")return Ps(t)}function Om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Om;function $a(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!ai.call(t,n)||!ot(e[n],t[n]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var l=uu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uu(l)}}function ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qm=Xt&&"documentMode"in document&&11>=document.documentMode,ia=null,Mi=null,Fa=null,Ri=!1;function mu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ri||ia==null||ia!==Zs(a)||(a=ia,"selectionStart"in a&&Di(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fa&&$a(Fa,a)||(Fa=a,a=kn(Mi,"onSelect"),0<a.length&&(t=new Ws("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ia)))}function zl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ca={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},zi={},hu={};Xt&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Ul(e){if(zi[e])return zi[e];if(!ca[e])return e;var t=ca[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in hu)return zi[e]=t[l];return e}var xu=Ul("animationend"),pu=Ul("animationiteration"),gu=Ul("animationstart"),_m=Ul("transitionrun"),Bm=Ul("transitionstart"),Hm=Ul("transitioncancel"),yu=Ul("transitionend"),vu=new Map,Ui="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ui.push("scrollEnd");function Et(e,t){vu.set(e,t),Ml(t,[e])}var bu=new WeakMap;function bt(e,t){if(typeof e=="object"&&e!==null){var l=bu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:_r(t)},bu.set(e,t),t)}return{value:e,source:t,stack:_r(t)}}var jt=[],ra=0,Oi=0;function en(){for(var e=ra,t=Oi=ra=0;t<e;){var l=jt[t];jt[t++]=null;var a=jt[t];jt[t++]=null;var n=jt[t];jt[t++]=null;var i=jt[t];if(jt[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&ju(l,n,i)}}function tn(e,t,l,a){jt[ra++]=e,jt[ra++]=t,jt[ra++]=l,jt[ra++]=a,Oi|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function qi(e,t,l,a){return tn(e,t,l,a),ln(e)}function ua(e,t){return tn(e,null,null,t),ln(e)}function ju(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-dt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function ln(e){if(50<js)throw js=0,Lc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var da={};function km(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,l,a){return new km(e,t,l,a)}function _i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lt(e,t){var l=e.alternate;return l===null?(l=ft(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Nu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function an(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")_i(e)&&(c=1);else if(typeof e=="string")c=Lh(e,l,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case p:return e=ft(31,l,t,n),e.elementType=p,e.lanes=i,e;case U:return Ol(l.children,n,i,t);case S:c=8,n|=24;break;case K:return e=ft(12,l,t,n|2),e.elementType=K,e.lanes=i,e;case _:return e=ft(13,l,t,n),e.elementType=_,e.lanes=i,e;case Q:return e=ft(19,l,t,n),e.elementType=Q,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:case L:c=10;break e;case ee:c=9;break e;case O:c=11;break e;case Y:c=14;break e;case N:c=16,a=null;break e}c=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=ft(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ol(e,t,l,a){return e=ft(7,e,a,t),e.lanes=l,e}function Bi(e,t,l){return e=ft(6,e,null,t),e.lanes=l,e}function Hi(e,t,l){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var oa=[],fa=0,sn=null,nn=0,Nt=[],St=0,ql=null,Yt=1,Gt="";function _l(e,t){oa[fa++]=nn,oa[fa++]=sn,sn=e,nn=t}function Su(e,t,l){Nt[St++]=Yt,Nt[St++]=Gt,Nt[St++]=ql,ql=e;var a=Yt;e=Gt;var n=32-dt(a)-1;a&=~(1<<n),l+=1;var i=32-dt(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Yt=1<<32-dt(t)+n|l<<n|a,Gt=i+e}else Yt=1<<i|l<<n|a,Gt=e}function ki(e){e.return!==null&&(_l(e,1),Su(e,1,0))}function Xi(e){for(;e===sn;)sn=oa[--fa],oa[fa]=null,nn=oa[--fa],oa[fa]=null;for(;e===ql;)ql=Nt[--St],Nt[St]=null,Gt=Nt[--St],Nt[St]=null,Yt=Nt[--St],Nt[St]=null}var lt=null,_e=null,ve=!1,Bl=null,zt=!1,Li=Error(d(519));function Hl(e){var t=Error(d(418,""));throw Pa(bt(t,e)),Li}function wu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[et]=e,t[at]=a,l){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(l=0;l<Ss.length;l++)he(Ss[l],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),kr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Vs(t);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Lr(t,a.value,a.defaultValue,a.children),Vs(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Yo(t.textContent,l)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=Xn),t=!0):t=!1,t||Hl(e)}function Cu(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:lt=lt.return}}function Wa(e){if(e!==lt)return!1;if(!ve)return Cu(e),ve=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ar(e.type,e.memoizedProps)),l=!l),l&&_e&&Hl(e),Cu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){_e=Dt(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}_e=null}}else t===27?(t=_e,bl(e.type)?(e=cr,cr=null,_e=e):_e=t):_e=lt?Dt(e.stateNode.nextSibling):null;return!0}function Ia(){_e=lt=null,ve=!1}function Au(){var e=Bl;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Bl=null),e}function Pa(e){Bl===null?Bl=[e]:Bl.push(e)}var Yi=Me(null),kl=null,Qt=null;function nl(e,t,l){v(Yi,t._currentValue),t._currentValue=l}function Vt(e){e._currentValue=Yi.current,ye(Yi)}function Gi(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Qi(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=n;for(var f=0;f<t.length;f++)if(r.context===t[f]){i.lanes|=l,r=i.alternate,r!==null&&(r.lanes|=l),Gi(i.return,l,e),a||(c=null);break e}i=r.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(d(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),Gi(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function es(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(d(387));if(c=c.memoizedProps,c!==null){var r=n.type;ot(n.pendingProps.value,c.value)||(e!==null?e.push(r):e=[r])}}else if(n===De.current){if(c=n.alternate,c===null)throw Error(d(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ds):e=[Ds])}n=n.return}e!==null&&Qi(t,e,l,a),t.flags|=262144}function cn(e){for(e=e.firstContext;e!==null;){if(!ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xl(e){kl=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return Eu(kl,e)}function rn(e,t){return kl===null&&Xl(e),Eu(e,t)}function Eu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Qt===null){if(e===null)throw Error(d(308));Qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qt=Qt.next=t;return l}var Xm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Lm=u.unstable_scheduleCallback,Ym=u.unstable_NormalPriority,Ve={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Xm,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&Lm(Ym,function(){e.controller.abort()})}var ls=null,Zi=0,ma=0,ha=null;function Gm(e,t){if(ls===null){var l=ls=[];Zi=0,ma=Jc(),ha={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Zi++,t.then(Tu,Tu),t}function Tu(){if(--Zi===0&&ls!==null){ha!==null&&(ha.status="fulfilled");var e=ls;ls=null,ma=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Du=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gm(e,t),Du!==null&&Du(e,t)};var Ll=Me(null);function Ki(){var e=Ll.current;return e!==null?e:Te.pooledCache}function un(e,t){t===null?v(Ll,Ll.current):v(Ll,t.pool)}function Mu(){var e=Ki();return e===null?null:{parent:Ve._currentValue,pool:e}}var as=Error(d(460)),Ru=Error(d(474)),dn=Error(d(542)),Ji={then:function(){}};function zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function on(){}function Uu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(on,on),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e}throw ss=t,as}}var ss=null;function Ou(){if(ss===null)throw Error(d(459));var e=ss;return ss=null,e}function qu(e){if(e===as||e===dn)throw Error(d(483))}var il=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(be&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=ln(e),ju(e,null,l),t}return tn(e,a,t,l),ln(e)}function ns(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Tr(e,l)}}function Wi(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ii=!1;function is(){if(Ii){var e=ha;if(e!==null)throw e}}function cs(e,t,l,a){Ii=!1;var n=e.updateQueue;il=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,r=n.shared.pending;if(r!==null){n.shared.pending=null;var f=r,R=f.next;f.next=null,c===null?i=R:c.next=R,c=f;var G=e.alternate;G!==null&&(G=G.updateQueue,r=G.lastBaseUpdate,r!==c&&(r===null?G.firstBaseUpdate=R:r.next=R,G.lastBaseUpdate=f))}if(i!==null){var $=n.baseState;c=0,G=R=f=null,r=i;do{var q=r.lane&-536870913,B=q!==r.lane;if(B?(xe&q)===q:(a&q)===q){q!==0&&q===ma&&(Ii=!0),G!==null&&(G=G.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var re=e,ie=r;q=t;var we=l;switch(ie.tag){case 1:if(re=ie.payload,typeof re=="function"){$=re.call(we,$,q);break e}$=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,q=typeof re=="function"?re.call(we,$,q):re,q==null)break e;$=M({},$,q);break e;case 2:il=!0}}q=r.callback,q!==null&&(e.flags|=64,B&&(e.flags|=8192),B=n.callbacks,B===null?n.callbacks=[q]:B.push(q))}else B={lane:q,tag:r.tag,payload:r.payload,callback:r.callback,next:null},G===null?(R=G=B,f=$):G=G.next=B,c|=q;if(r=r.next,r===null){if(r=n.shared.pending,r===null)break;B=r,r=B.next,B.next=null,n.lastBaseUpdate=B,n.shared.pending=null}}while(!0);G===null&&(f=$),n.baseState=f,n.firstBaseUpdate=R,n.lastBaseUpdate=G,i===null&&(n.shared.lanes=0),pl|=c,e.lanes=c,e.memoizedState=$}}function _u(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function Bu(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)_u(l[e],t)}var xa=Me(null),fn=Me(0);function Hu(e,t){e=It,v(fn,e),v(xa,t),It=e|t.baseLanes}function Pi(){v(fn,It),v(xa,xa.current)}function ec(){It=fn.current,ye(xa),ye(fn)}var ul=0,oe=null,Ne=null,Le=null,mn=!1,pa=!1,Yl=!1,hn=0,rs=0,ga=null,Vm=0;function He(){throw Error(d(321))}function tc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!ot(e[l],t[l]))return!1;return!0}function lc(e,t,l,a,n,i){return ul=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?jd:Nd,Yl=!1,i=l(a,n),Yl=!1,pa&&(i=Xu(t,l,a,n)),ku(e),i}function ku(e){z.H=bn;var t=Ne!==null&&Ne.next!==null;if(ul=0,Le=Ne=oe=null,mn=!1,rs=0,ga=null,t)throw Error(d(300));e===null||Je||(e=e.dependencies,e!==null&&cn(e)&&(Je=!0))}function Xu(e,t,l,a){oe=e;var n=0;do{if(pa&&(ga=null),rs=0,pa=!1,25<=n)throw Error(d(301));if(n+=1,Le=Ne=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}z.H=Im,i=t(l,a)}while(pa);return i}function Zm(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?us(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(oe.flags|=1024),t}function ac(){var e=hn!==0;return hn=0,e}function sc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function nc(e){if(mn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mn=!1}ul=0,Le=Ne=oe=null,pa=!1,rs=hn=0,ga=null}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?oe.memoizedState=Le=e:Le=Le.next=e,Le}function Ye(){if(Ne===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Le===null?oe.memoizedState:Le.next;if(t!==null)Le=t,Ne=e;else{if(e===null)throw oe.alternate===null?Error(d(467)):Error(d(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?oe.memoizedState=Le=e:Le=Le.next=e}return Le}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(e){var t=rs;return rs+=1,ga===null&&(ga=[]),e=Uu(ga,e,t),t=oe,(Le===null?t.memoizedState:Le.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?jd:Nd),e}function xn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return us(e);if(e.$$typeof===L)return tt(e)}throw Error(d(438,String(e)))}function cc(e){var t=null,l=oe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=oe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ic(),oe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=o;return t.index++,l}function Zt(e,t){return typeof t=="function"?t(e):t}function pn(e){var t=Ye();return rc(t,Ne,e)}function rc(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var r=c=null,f=null,R=t,G=!1;do{var $=R.lane&-536870913;if($!==R.lane?(xe&$)===$:(ul&$)===$){var q=R.revertLane;if(q===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),$===ma&&(G=!0);else if((ul&q)===q){R=R.next,q===ma&&(G=!0);continue}else $={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},f===null?(r=f=$,c=i):f=f.next=$,oe.lanes|=q,pl|=q;$=R.action,Yl&&l(i,$),i=R.hasEagerState?R.eagerState:l(i,$)}else q={lane:$,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},f===null?(r=f=q,c=i):f=f.next=q,oe.lanes|=$,pl|=$;R=R.next}while(R!==null&&R!==t);if(f===null?c=i:f.next=r,!ot(i,e.memoizedState)&&(Je=!0,G&&(l=ha,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=f,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function uc(e){var t=Ye(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);ot(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Lu(e,t,l){var a=oe,n=Ye(),i=ve;if(i){if(l===void 0)throw Error(d(407));l=l()}else l=t();var c=!ot((Ne||n).memoizedState,l);c&&(n.memoizedState=l,Je=!0),n=n.queue;var r=Qu.bind(null,a,n,e);if(ds(2048,8,r,[e]),n.getSnapshot!==t||c||Le!==null&&Le.memoizedState.tag&1){if(a.flags|=2048,ya(9,gn(),Gu.bind(null,a,n,l,t),null),Te===null)throw Error(d(349));i||(ul&124)!==0||Yu(a,t,l)}return l}function Yu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=oe.updateQueue,t===null?(t=ic(),oe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Gu(e,t,l,a){t.value=l,t.getSnapshot=a,Vu(t)&&Zu(e)}function Qu(e,t,l){return l(function(){Vu(t)&&Zu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!ot(e,l)}catch{return!0}}function Zu(e){var t=ua(e,2);t!==null&&gt(t,e,2)}function dc(e){var t=nt();if(typeof e=="function"){var l=e;if(e=l(),Yl){ll(!0);try{l()}finally{ll(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:e},t}function Ku(e,t,l,a){return e.baseState=l,rc(e,Ne,typeof a=="function"?a:Zt)}function Km(e,t,l,a,n){if(vn(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};z.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Ju(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Ju(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=z.T,c={};z.T=c;try{var r=l(n,a),f=z.S;f!==null&&f(c,r),$u(e,t,r)}catch(R){oc(e,t,R)}finally{z.T=i}}else try{i=l(n,a),$u(e,t,i)}catch(R){oc(e,t,R)}}function $u(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Fu(e,t,a)},function(a){return oc(e,t,a)}):Fu(e,t,l)}function Fu(e,t,l){t.status="fulfilled",t.value=l,Wu(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Ju(e,l)))}function oc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Wu(t),t=t.next;while(t!==a)}e.action=null}function Wu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Iu(e,t){return t}function Pu(e,t){if(ve){var l=Te.formState;if(l!==null){e:{var a=oe;if(ve){if(_e){t:{for(var n=_e,i=zt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Dt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){_e=Dt(n.nextSibling),a=n.data==="F!";break e}}Hl(a)}a=!1}a&&(t=l[0])}}return l=nt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:t},l.queue=a,l=yd.bind(null,oe,a),a.dispatch=l,a=dc(!1),i=pc.bind(null,oe,!1,a.queue),a=nt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Km.bind(null,oe,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function ed(e){var t=Ye();return td(t,Ne,e)}function td(e,t,l){if(t=rc(e,t,Iu)[0],e=pn(Zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=us(t)}catch(c){throw c===as?dn:c}else a=t;t=Ye();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(oe.flags|=2048,ya(9,gn(),Jm.bind(null,n,l),null)),[a,i,e]}function Jm(e,t){e.action=t}function ld(e){var t=Ye(),l=Ne;if(l!==null)return td(t,l,e);Ye(),t=t.memoizedState,l=Ye();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function ya(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=oe.updateQueue,t===null&&(t=ic(),oe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function gn(){return{destroy:void 0,resource:void 0}}function ad(){return Ye().memoizedState}function yn(e,t,l,a){var n=nt();a=a===void 0?null:a,oe.flags|=e,n.memoizedState=ya(1|t,gn(),l,a)}function ds(e,t,l,a){var n=Ye();a=a===void 0?null:a;var i=n.memoizedState.inst;Ne!==null&&a!==null&&tc(a,Ne.memoizedState.deps)?n.memoizedState=ya(t,i,l,a):(oe.flags|=e,n.memoizedState=ya(1|t,i,l,a))}function sd(e,t){yn(8390656,8,e,t)}function nd(e,t){ds(2048,8,e,t)}function id(e,t){return ds(4,2,e,t)}function cd(e,t){return ds(4,4,e,t)}function rd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ud(e,t,l){l=l!=null?l.concat([e]):null,ds(4,4,rd.bind(null,t,e),l)}function fc(){}function dd(e,t){var l=Ye();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&tc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function od(e,t){var l=Ye();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&tc(t,a[1]))return a[0];if(a=e(),Yl){ll(!0);try{e()}finally{ll(!1)}}return l.memoizedState=[a,t],a}function mc(e,t,l){return l===void 0||(ul&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=xo(),oe.lanes|=e,pl|=e,l)}function fd(e,t,l,a){return ot(l,t)?l:xa.current!==null?(e=mc(e,l,a),ot(e,t)||(Je=!0),e):(ul&42)===0?(Je=!0,e.memoizedState=l):(e=xo(),oe.lanes|=e,pl|=e,t)}function md(e,t,l,a,n){var i=J.p;J.p=i!==0&&8>i?i:8;var c=z.T,r={};z.T=r,pc(e,!1,t,l);try{var f=n(),R=z.S;if(R!==null&&R(r,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var G=Qm(f,a);os(e,t,G,pt(e))}else os(e,t,a,pt(e))}catch($){os(e,t,{then:function(){},status:"rejected",reason:$},pt())}finally{J.p=i,z.T=c}}function $m(){}function hc(e,t,l,a){if(e.tag!==5)throw Error(d(476));var n=hd(e).queue;md(e,n,t,te,l===null?$m:function(){return xd(e),l(a)})}function hd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:te},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xd(e){var t=hd(e).next.queue;os(e,t,{},pt())}function xc(){return tt(Ds)}function pd(){return Ye().memoizedState}function gd(){return Ye().memoizedState}function Fm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=pt();e=cl(l);var a=rl(t,e,l);a!==null&&(gt(a,t,l),ns(a,t,l)),t={cache:Vi()},e.payload=t;return}t=t.return}}function Wm(e,t,l){var a=pt();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},vn(e)?vd(t,l):(l=qi(e,t,l,a),l!==null&&(gt(l,e,a),bd(l,t,a)))}function yd(e,t,l){var a=pt();os(e,t,l,a)}function os(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(vn(e))vd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,r=i(c,l);if(n.hasEagerState=!0,n.eagerState=r,ot(r,c))return tn(e,t,n,0),Te===null&&en(),!1}catch{}finally{}if(l=qi(e,t,n,a),l!==null)return gt(l,e,a),bd(l,t,a),!0}return!1}function pc(e,t,l,a){if(a={lane:2,revertLane:Jc(),action:a,hasEagerState:!1,eagerState:null,next:null},vn(e)){if(t)throw Error(d(479))}else t=qi(e,l,a,2),t!==null&&gt(t,e,2)}function vn(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function vd(e,t){pa=mn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function bd(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Tr(e,l)}}var bn={readContext:tt,use:xn,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},jd={readContext:tt,use:xn,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:sd,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,yn(4194308,4,rd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return yn(4194308,4,e,t)},useInsertionEffect:function(e,t){yn(4,2,e,t)},useMemo:function(e,t){var l=nt();t=t===void 0?null:t;var a=e();if(Yl){ll(!0);try{e()}finally{ll(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=nt();if(l!==void 0){var n=l(t);if(Yl){ll(!0);try{l(t)}finally{ll(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Wm.bind(null,oe,e),[a.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:function(e){e=dc(e);var t=e.queue,l=yd.bind(null,oe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:fc,useDeferredValue:function(e,t){var l=nt();return mc(l,e,t)},useTransition:function(){var e=dc(!1);return e=md.bind(null,oe,e.queue,!0,!1),nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=oe,n=nt();if(ve){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),Te===null)throw Error(d(349));(xe&124)!==0||Yu(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,sd(Qu.bind(null,a,i,e),[e]),a.flags|=2048,ya(9,gn(),Gu.bind(null,a,i,l,t),null),l},useId:function(){var e=nt(),t=Te.identifierPrefix;if(ve){var l=Gt,a=Yt;l=(a&~(1<<32-dt(a)-1)).toString(32)+l,t=""+t+"R"+l,l=hn++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=Vm++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:xc,useFormState:Pu,useActionState:Pu,useOptimistic:function(e){var t=nt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=pc.bind(null,oe,!0,l),l.dispatch=t,[e,t]},useMemoCache:cc,useCacheRefresh:function(){return nt().memoizedState=Fm.bind(null,oe)}},Nd={readContext:tt,use:xn,useCallback:dd,useContext:tt,useEffect:nd,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:cd,useMemo:od,useReducer:pn,useRef:ad,useState:function(){return pn(Zt)},useDebugValue:fc,useDeferredValue:function(e,t){var l=Ye();return fd(l,Ne.memoizedState,e,t)},useTransition:function(){var e=pn(Zt)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Lu,useId:pd,useHostTransitionStatus:xc,useFormState:ed,useActionState:ed,useOptimistic:function(e,t){var l=Ye();return Ku(l,Ne,e,t)},useMemoCache:cc,useCacheRefresh:gd},Im={readContext:tt,use:xn,useCallback:dd,useContext:tt,useEffect:nd,useImperativeHandle:ud,useInsertionEffect:id,useLayoutEffect:cd,useMemo:od,useReducer:uc,useRef:ad,useState:function(){return uc(Zt)},useDebugValue:fc,useDeferredValue:function(e,t){var l=Ye();return Ne===null?mc(l,e,t):fd(l,Ne.memoizedState,e,t)},useTransition:function(){var e=uc(Zt)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:Lu,useId:pd,useHostTransitionStatus:xc,useFormState:ld,useActionState:ld,useOptimistic:function(e,t){var l=Ye();return Ne!==null?Ku(l,Ne,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:cc,useCacheRefresh:gd},va=null,fs=0;function jn(e){var t=fs;return fs+=1,va===null&&(va=[]),Uu(va,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nn(e,t){throw t.$$typeof===C?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sd(e){var t=e._init;return t(e._payload)}function wd(e){function t(A,y){if(e){var T=A.deletions;T===null?(A.deletions=[y],A.flags|=16):T.push(y)}}function l(A,y){if(!e)return null;for(;y!==null;)t(A,y),y=y.sibling;return null}function a(A){for(var y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function n(A,y){return A=Lt(A,y),A.index=0,A.sibling=null,A}function i(A,y,T){return A.index=T,e?(T=A.alternate,T!==null?(T=T.index,T<y?(A.flags|=67108866,y):T):(A.flags|=67108866,y)):(A.flags|=1048576,y)}function c(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function r(A,y,T,Z){return y===null||y.tag!==6?(y=Bi(T,A.mode,Z),y.return=A,y):(y=n(y,T),y.return=A,y)}function f(A,y,T,Z){var le=T.type;return le===U?G(A,y,T.props.children,Z,T.key):y!==null&&(y.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===N&&Sd(le)===y.type)?(y=n(y,T.props),ms(y,T),y.return=A,y):(y=an(T.type,T.key,T.props,null,A.mode,Z),ms(y,T),y.return=A,y)}function R(A,y,T,Z){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Hi(T,A.mode,Z),y.return=A,y):(y=n(y,T.children||[]),y.return=A,y)}function G(A,y,T,Z,le){return y===null||y.tag!==7?(y=Ol(T,A.mode,Z,le),y.return=A,y):(y=n(y,T),y.return=A,y)}function $(A,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Bi(""+y,A.mode,T),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case h:return T=an(y.type,y.key,y.props,null,A.mode,T),ms(T,y),T.return=A,T;case x:return y=Hi(y,A.mode,T),y.return=A,y;case N:var Z=y._init;return y=Z(y._payload),$(A,y,T)}if(I(y)||X(y))return y=Ol(y,A.mode,T,null),y.return=A,y;if(typeof y.then=="function")return $(A,jn(y),T);if(y.$$typeof===L)return $(A,rn(A,y),T);Nn(A,y)}return null}function q(A,y,T,Z){var le=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return le!==null?null:r(A,y,""+T,Z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case h:return T.key===le?f(A,y,T,Z):null;case x:return T.key===le?R(A,y,T,Z):null;case N:return le=T._init,T=le(T._payload),q(A,y,T,Z)}if(I(T)||X(T))return le!==null?null:G(A,y,T,Z,null);if(typeof T.then=="function")return q(A,y,jn(T),Z);if(T.$$typeof===L)return q(A,y,rn(A,T),Z);Nn(A,T)}return null}function B(A,y,T,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return A=A.get(T)||null,r(y,A,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return A=A.get(Z.key===null?T:Z.key)||null,f(y,A,Z,le);case x:return A=A.get(Z.key===null?T:Z.key)||null,R(y,A,Z,le);case N:var fe=Z._init;return Z=fe(Z._payload),B(A,y,T,Z,le)}if(I(Z)||X(Z))return A=A.get(T)||null,G(y,A,Z,le,null);if(typeof Z.then=="function")return B(A,y,T,jn(Z),le);if(Z.$$typeof===L)return B(A,y,T,rn(y,Z),le);Nn(y,Z)}return null}function re(A,y,T,Z){for(var le=null,fe=null,ne=y,ce=y=0,Fe=null;ne!==null&&ce<T.length;ce++){ne.index>ce?(Fe=ne,ne=null):Fe=ne.sibling;var ge=q(A,ne,T[ce],Z);if(ge===null){ne===null&&(ne=Fe);break}e&&ne&&ge.alternate===null&&t(A,ne),y=i(ge,y,ce),fe===null?le=ge:fe.sibling=ge,fe=ge,ne=Fe}if(ce===T.length)return l(A,ne),ve&&_l(A,ce),le;if(ne===null){for(;ce<T.length;ce++)ne=$(A,T[ce],Z),ne!==null&&(y=i(ne,y,ce),fe===null?le=ne:fe.sibling=ne,fe=ne);return ve&&_l(A,ce),le}for(ne=a(ne);ce<T.length;ce++)Fe=B(ne,A,ce,T[ce],Z),Fe!==null&&(e&&Fe.alternate!==null&&ne.delete(Fe.key===null?ce:Fe.key),y=i(Fe,y,ce),fe===null?le=Fe:fe.sibling=Fe,fe=Fe);return e&&ne.forEach(function(Cl){return t(A,Cl)}),ve&&_l(A,ce),le}function ie(A,y,T,Z){if(T==null)throw Error(d(151));for(var le=null,fe=null,ne=y,ce=y=0,Fe=null,ge=T.next();ne!==null&&!ge.done;ce++,ge=T.next()){ne.index>ce?(Fe=ne,ne=null):Fe=ne.sibling;var Cl=q(A,ne,ge.value,Z);if(Cl===null){ne===null&&(ne=Fe);break}e&&ne&&Cl.alternate===null&&t(A,ne),y=i(Cl,y,ce),fe===null?le=Cl:fe.sibling=Cl,fe=Cl,ne=Fe}if(ge.done)return l(A,ne),ve&&_l(A,ce),le;if(ne===null){for(;!ge.done;ce++,ge=T.next())ge=$(A,ge.value,Z),ge!==null&&(y=i(ge,y,ce),fe===null?le=ge:fe.sibling=ge,fe=ge);return ve&&_l(A,ce),le}for(ne=a(ne);!ge.done;ce++,ge=T.next())ge=B(ne,A,ce,ge.value,Z),ge!==null&&(e&&ge.alternate!==null&&ne.delete(ge.key===null?ce:ge.key),y=i(ge,y,ce),fe===null?le=ge:fe.sibling=ge,fe=ge);return e&&ne.forEach(function(Ph){return t(A,Ph)}),ve&&_l(A,ce),le}function we(A,y,T,Z){if(typeof T=="object"&&T!==null&&T.type===U&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case h:e:{for(var le=T.key;y!==null;){if(y.key===le){if(le=T.type,le===U){if(y.tag===7){l(A,y.sibling),Z=n(y,T.props.children),Z.return=A,A=Z;break e}}else if(y.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===N&&Sd(le)===y.type){l(A,y.sibling),Z=n(y,T.props),ms(Z,T),Z.return=A,A=Z;break e}l(A,y);break}else t(A,y);y=y.sibling}T.type===U?(Z=Ol(T.props.children,A.mode,Z,T.key),Z.return=A,A=Z):(Z=an(T.type,T.key,T.props,null,A.mode,Z),ms(Z,T),Z.return=A,A=Z)}return c(A);case x:e:{for(le=T.key;y!==null;){if(y.key===le)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){l(A,y.sibling),Z=n(y,T.children||[]),Z.return=A,A=Z;break e}else{l(A,y);break}else t(A,y);y=y.sibling}Z=Hi(T,A.mode,Z),Z.return=A,A=Z}return c(A);case N:return le=T._init,T=le(T._payload),we(A,y,T,Z)}if(I(T))return re(A,y,T,Z);if(X(T)){if(le=X(T),typeof le!="function")throw Error(d(150));return T=le.call(T),ie(A,y,T,Z)}if(typeof T.then=="function")return we(A,y,jn(T),Z);if(T.$$typeof===L)return we(A,y,rn(A,T),Z);Nn(A,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(l(A,y.sibling),Z=n(y,T),Z.return=A,A=Z):(l(A,y),Z=Bi(T,A.mode,Z),Z.return=A,A=Z),c(A)):l(A,y)}return function(A,y,T,Z){try{fs=0;var le=we(A,y,T,Z);return va=null,le}catch(ne){if(ne===as||ne===dn)throw ne;var fe=ft(29,ne,null,A.mode);return fe.lanes=Z,fe.return=A,fe}finally{}}}var ba=wd(!0),Cd=wd(!1),wt=Me(null),Ut=null;function dl(e){var t=e.alternate;v(Ze,Ze.current&1),v(wt,e),Ut===null&&(t===null||xa.current!==null||t.memoizedState!==null)&&(Ut=e)}function Ad(e){if(e.tag===22){if(v(Ze,Ze.current),v(wt,e),Ut===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ut=e)}}else ol()}function ol(){v(Ze,Ze.current),v(wt,wt.current)}function Kt(e){ye(wt),Ut===e&&(Ut=null),ye(Ze)}var Ze=Me(0);function Sn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ir(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:M({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=pt(),n=cl(a);n.payload=t,l!=null&&(n.callback=l),t=rl(e,n,a),t!==null&&(gt(t,e,a),ns(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=pt(),n=cl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=rl(e,n,a),t!==null&&(gt(t,e,a),ns(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=pt(),a=cl(l);a.tag=2,t!=null&&(a.callback=t),t=rl(e,a,l),t!==null&&(gt(t,e,l),ns(t,e,l))}};function Ed(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!$a(l,a)||!$a(n,i):!0}function Td(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&yc.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=M({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var wn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dd(e){wn(e)}function Md(e){console.error(e)}function Rd(e){wn(e)}function Cn(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function zd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function vc(e,t,l){return l=cl(l),l.tag=3,l.payload={element:null},l.callback=function(){Cn(e,t)},l}function Ud(e){return e=cl(e),e.tag=3,e}function Od(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){zd(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){zd(t,l,a),typeof n!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function Pm(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&es(t,l,n,!0),l=wt.current,l!==null){switch(l.tag){case 13:return Ut===null?Gc():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ji?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Vc(e,a,n)),!1;case 22:return l.flags|=65536,a===Ji?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Vc(e,a,n)),!1}throw Error(d(435,l.tag))}return Vc(e,a,n),Gc(),!1}if(ve)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Li&&(e=Error(d(422),{cause:a}),Pa(bt(e,l)))):(a!==Li&&(t=Error(d(423),{cause:a}),Pa(bt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=bt(a,l),n=vc(e.stateNode,a,n),Wi(e,n),Be!==4&&(Be=2)),!1;var i=Error(d(520),{cause:a});if(i=bt(i,l),bs===null?bs=[i]:bs.push(i),Be!==4&&(Be=2),t===null)return!0;a=bt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=vc(l.stateNode,a,e),Wi(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(gl===null||!gl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Ud(n),Od(n,e,l,a),Wi(l,n),!1}l=l.return}while(l!==null);return!1}var qd=Error(d(461)),Je=!1;function We(e,t,l,a){t.child=e===null?Cd(t,null,l,a):ba(t,e.child,l,a)}function _d(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var r in a)r!=="ref"&&(c[r]=a[r])}else c=a;return Xl(t),a=lc(e,t,l,c,i,n),r=ac(),e!==null&&!Je?(sc(e,t,n),Jt(e,t,n)):(ve&&r&&ki(t),t.flags|=1,We(e,t,a,n),t.child)}function Bd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!_i(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Hd(e,t,i,a,n)):(e=an(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ec(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:$a,l(c,a)&&e.ref===t.ref)return Jt(e,t,n)}return t.flags|=1,e=Lt(i,a),e.ref=t.ref,e.return=t,t.child=e}function Hd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if($a(i,a)&&e.ref===t.ref)if(Je=!1,t.pendingProps=a=i,Ec(e,n))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Jt(e,t,n)}return bc(e,t,l,a,n)}function kd(e,t,l){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=i!==null?i.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return Xd(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&un(t,i!==null?i.cachePool:null),i!==null?Hu(t,i):Pi(),Ad(t);else return t.lanes=t.childLanes=536870912,Xd(e,t,i!==null?i.baseLanes|l:l,l)}else i!==null?(un(t,i.cachePool),Hu(t,i),ol(),t.memoizedState=null):(e!==null&&un(t,null),Pi(),ol());return We(e,t,n,l),t.child}function Xd(e,t,l,a){var n=Ki();return n=n===null?null:{parent:Ve._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&un(t,null),Pi(),Ad(t),e!==null&&es(e,t,a,!0),null}function An(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function bc(e,t,l,a,n){return Xl(t),l=lc(e,t,l,a,void 0,n),a=ac(),e!==null&&!Je?(sc(e,t,n),Jt(e,t,n)):(ve&&a&&ki(t),t.flags|=1,We(e,t,l,n),t.child)}function Ld(e,t,l,a,n,i){return Xl(t),t.updateQueue=null,l=Xu(t,a,l,n),ku(e),a=ac(),e!==null&&!Je?(sc(e,t,i),Jt(e,t,i)):(ve&&a&&ki(t),t.flags|=1,We(e,t,l,i),t.child)}function Yd(e,t,l,a,n){if(Xl(t),t.stateNode===null){var i=da,c=l.contextType;typeof c=="object"&&c!==null&&(i=tt(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},$i(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?tt(c):da,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(gc(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&yc.enqueueReplaceState(i,i.state,null),cs(t,a,i,n),is(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,f=Gl(l,r);i.props=f;var R=i.context,G=l.contextType;c=da,typeof G=="object"&&G!==null&&(c=tt(G));var $=l.getDerivedStateFromProps;G=typeof $=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,G||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||R!==c)&&Td(t,i,a,c),il=!1;var q=t.memoizedState;i.state=q,cs(t,a,i,n),is(),R=t.memoizedState,r||q!==R||il?(typeof $=="function"&&(gc(t,l,$,a),R=t.memoizedState),(f=il||Ed(t,l,f,a,q,R,c))?(G||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=R),i.props=a,i.state=R,i.context=c,a=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Fi(e,t),c=t.memoizedProps,G=Gl(l,c),i.props=G,$=t.pendingProps,q=i.context,R=l.contextType,f=da,typeof R=="object"&&R!==null&&(f=tt(R)),r=l.getDerivedStateFromProps,(R=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==$||q!==f)&&Td(t,i,a,f),il=!1,q=t.memoizedState,i.state=q,cs(t,a,i,n),is();var B=t.memoizedState;c!==$||q!==B||il||e!==null&&e.dependencies!==null&&cn(e.dependencies)?(typeof r=="function"&&(gc(t,l,r,a),B=t.memoizedState),(G=il||Ed(t,l,G,a,q,B,f)||e!==null&&e.dependencies!==null&&cn(e.dependencies))?(R||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,B,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,B,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=B),i.props=a,i.state=B,i.context=f,a=G):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,An(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ba(t,e.child,null,n),t.child=ba(t,null,l,n)):We(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Jt(e,t,n),e}function Gd(e,t,l,a){return Ia(),t.flags|=256,We(e,t,l,a),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:Mu()}}function Sc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ct),e}function Qd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(n?dl(t):ol(),ve){var r=_e,f;if(f=r){e:{for(f=r,r=zt;f.nodeType!==8;){if(!r){r=null;break e}if(f=Dt(f.nextSibling),f===null){r=null;break e}}r=f}r!==null?(t.memoizedState={dehydrated:r,treeContext:ql!==null?{id:Yt,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},f=ft(18,null,null,0),f.stateNode=r,f.return=t,t.child=f,lt=t,_e=null,f=!0):f=!1}f||Hl(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return ir(r)?t.lanes=32:t.lanes=536870912,null;Kt(t)}return r=a.children,a=a.fallback,n?(ol(),n=t.mode,r=En({mode:"hidden",children:r},n),a=Ol(a,n,l,null),r.return=t,a.return=t,r.sibling=a,t.child=r,n=t.child,n.memoizedState=Nc(l),n.childLanes=Sc(e,c,l),t.memoizedState=jc,a):(dl(t),wc(t,r))}if(f=e.memoizedState,f!==null&&(r=f.dehydrated,r!==null)){if(i)t.flags&256?(dl(t),t.flags&=-257,t=Cc(e,t,l)):t.memoizedState!==null?(ol(),t.child=e.child,t.flags|=128,t=null):(ol(),n=a.fallback,r=t.mode,a=En({mode:"visible",children:a.children},r),n=Ol(n,r,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,ba(t,e.child,null,l),a=t.child,a.memoizedState=Nc(l),a.childLanes=Sc(e,c,l),t.memoizedState=jc,t=n);else if(dl(t),ir(r)){if(c=r.nextSibling&&r.nextSibling.dataset,c)var R=c.dgst;c=R,a=Error(d(419)),a.stack="",a.digest=c,Pa({value:a,source:null,stack:null}),t=Cc(e,t,l)}else if(Je||es(e,t,l,!1),c=(l&e.childLanes)!==0,Je||c){if(c=Te,c!==null&&(a=l&-l,a=(a&42)!==0?1:ci(a),a=(a&(c.suspendedLanes|l))!==0?0:a,a!==0&&a!==f.retryLane))throw f.retryLane=a,ua(e,a),gt(c,e,a),qd;r.data==="$?"||Gc(),t=Cc(e,t,l)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,_e=Dt(r.nextSibling),lt=t,ve=!0,Bl=null,zt=!1,e!==null&&(Nt[St++]=Yt,Nt[St++]=Gt,Nt[St++]=ql,Yt=e.id,Gt=e.overflow,ql=t),t=wc(t,a.children),t.flags|=4096);return t}return n?(ol(),n=a.fallback,r=t.mode,f=e.child,R=f.sibling,a=Lt(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,R!==null?n=Lt(R,n):(n=Ol(n,r,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,r=e.child.memoizedState,r===null?r=Nc(l):(f=r.cachePool,f!==null?(R=Ve._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=Mu(),r={baseLanes:r.baseLanes|l,cachePool:f}),n.memoizedState=r,n.childLanes=Sc(e,c,l),t.memoizedState=jc,a):(dl(t),l=e.child,e=l.sibling,l=Lt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function wc(e,t){return t=En({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function En(e,t){return e=ft(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Cc(e,t,l){return ba(t,e.child,null,l),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Gi(e.return,t,l)}function Ac(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function Zd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(We(e,t,a.children,l),a=Ze.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vd(e,l,t);else if(e.tag===19)Vd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(v(Ze,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Sn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Ac(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Sn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Ac(t,!0,l,null,i);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),pl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(es(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=Lt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Lt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cn(e)))}function eh(e,t,l){switch(t.tag){case 3:Jl(t,t.stateNode.containerInfo),nl(t,Ve,e.memoizedState.cache),Ia();break;case 27:case 5:li(t);break;case 4:Jl(t,t.stateNode.containerInfo);break;case 10:nl(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(dl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Qd(e,t,l):(dl(t),e=Jt(e,t,l),e!==null?e.sibling:null);dl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(es(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Zd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),v(Ze,Ze.current),a)break;return null;case 22:case 23:return t.lanes=0,kd(e,t,l);case 24:nl(t,Ve,e.memoizedState.cache)}return Jt(e,t,l)}function Kd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Ec(e,l)&&(t.flags&128)===0)return Je=!1,eh(e,t,l);Je=(e.flags&131072)!==0}else Je=!1,ve&&(t.flags&1048576)!==0&&Su(t,nn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")_i(a)?(e=Gl(a,e),t.tag=1,t=Yd(null,t,a,e,l)):(t.tag=0,t=bc(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===O){t.tag=11,t=_d(null,t,a,e,l);break e}else if(n===Y){t.tag=14,t=Bd(null,t,a,e,l);break e}}throw t=se(a)||a,Error(d(306,t,""))}}return t;case 0:return bc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Gl(a,t.pendingProps),Yd(e,t,a,n,l);case 3:e:{if(Jl(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Fi(e,t),cs(t,a,null,l);var c=t.memoizedState;if(a=c.cache,nl(t,Ve,a),a!==i.cache&&Qi(t,[Ve],l,!0),is(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Gd(e,t,a,l);break e}else if(a!==n){n=bt(Error(d(424)),t),Pa(n),t=Gd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=Dt(e.firstChild),lt=t,ve=!0,Bl=null,zt=!0,l=Cd(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ia(),a===n){t=Jt(e,t,l);break e}We(e,t,a,l)}t=t.child}return t;case 26:return An(e,t),e===null?(l=Io(t.type,null,t.pendingProps,null))?t.memoizedState=l:ve||(l=t.type,e=t.pendingProps,a=Ln(pe.current).createElement(l),a[et]=t,a[at]=e,Pe(a,l,e),Ke(a),t.stateNode=a):t.memoizedState=Io(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return li(t),e===null&&ve&&(a=t.stateNode=$o(t.type,t.pendingProps,pe.current),lt=t,zt=!0,n=_e,bl(t.type)?(cr=n,_e=Dt(a.firstChild)):_e=n),We(e,t,t.pendingProps.children,l),An(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((n=a=_e)&&(a=Th(a,t.type,t.pendingProps,zt),a!==null?(t.stateNode=a,lt=t,_e=Dt(a.firstChild),zt=!1,n=!0):n=!1),n||Hl(t)),li(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,ar(n,i)?a=null:c!==null&&ar(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=lc(e,t,Zm,null,null,l),Ds._currentValue=n),An(e,t),We(e,t,a,l),t.child;case 6:return e===null&&ve&&((e=l=_e)&&(l=Dh(l,t.pendingProps,zt),l!==null?(t.stateNode=l,lt=t,_e=null,e=!0):e=!1),e||Hl(t)),null;case 13:return Qd(e,t,l);case 4:return Jl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ba(t,null,a,l):We(e,t,a,l),t.child;case 11:return _d(e,t,t.type,t.pendingProps,l);case 7:return We(e,t,t.pendingProps,l),t.child;case 8:return We(e,t,t.pendingProps.children,l),t.child;case 12:return We(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,nl(t,t.type,a.value),We(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Xl(t),n=tt(n),a=a(n),t.flags|=1,We(e,t,a,l),t.child;case 14:return Bd(e,t,t.type,t.pendingProps,l);case 15:return Hd(e,t,t.type,t.pendingProps,l);case 19:return Zd(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=En(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=Lt(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return kd(e,t,l);case 24:return Xl(t),a=tt(Ve),e===null?(n=Ki(),n===null&&(n=Te,i=Vi(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},$i(t),nl(t,Ve,n)):((e.lanes&l)!==0&&(Fi(e,t),cs(t,null,null,l),is()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),nl(t,Ve,a)):(a=i.cache,nl(t,Ve,a),a!==n.cache&&Qi(t,[Ve],l,!0))),We(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function $t(e){e.flags|=4}function Jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!af(t)){if(t=wt.current,t!==null&&((xe&4194048)===xe?Ut!==null:(xe&62914560)!==xe&&(xe&536870912)===0||t!==Ut))throw ss=Ji,Ru;e.flags|=8192}}function Tn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ar():536870912,e.lanes|=t,wa|=t)}function hs(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function th(e,t,l){var a=t.pendingProps;switch(Xi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vt(Ve),tl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?$t(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Au())),Oe(t),null;case 26:return l=t.memoizedState,e===null?($t(t),l!==null?(Oe(t),Jd(t,l)):(Oe(t),t.flags&=-16777217)):l?l!==e.memoizedState?($t(t),Oe(t),Jd(t,l)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==a&&$t(t),Oe(t),t.flags&=-16777217),null;case 27:Hs(t),l=pe.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&$t(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Oe(t),null}e=V.current,Wa(t)?wu(t):(e=$o(n,a,l),t.stateNode=e,$t(t))}return Oe(t),null;case 5:if(Hs(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&$t(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Oe(t),null}if(e=V.current,Wa(t))wu(t);else{switch(n=Ln(pe.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[et]=t,e[at]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Pe(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$t(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&$t(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=pe.current,Wa(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=lt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Yo(e.nodeValue,l)),e||Hl(t)}else e=Ln(e).createTextNode(a),e[et]=t,t.stateNode=e}return Oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Wa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[et]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),n=!1}else n=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Kt(t),t):(Kt(t),null)}if(Kt(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),Tn(t,t.updateQueue),Oe(t),null;case 4:return tl(),e===null&&Ic(t.stateNode.containerInfo),Oe(t),null;case 10:return Vt(t.type),Oe(t),null;case 19:if(ye(Ze),n=t.memoizedState,n===null)return Oe(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)hs(n,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Sn(e),i!==null){for(t.flags|=128,hs(n,!1),e=i.updateQueue,t.updateQueue=e,Tn(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Nu(l,e),l=l.sibling;return v(Ze,Ze.current&1|2),t.child}e=e.sibling}n.tail!==null&&Rt()>Rn&&(t.flags|=128,a=!0,hs(n,!1),t.lanes=4194304)}else{if(!a)if(e=Sn(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Tn(t,e),hs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ve)return Oe(t),null}else 2*Rt()-n.renderingStartTime>Rn&&l!==536870912&&(t.flags|=128,a=!0,hs(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Rt(),t.sibling=null,e=Ze.current,v(Ze,a?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return Kt(t),ec(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),l=t.updateQueue,l!==null&&Tn(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&ye(Ll),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Vt(Ve),Oe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function lh(e,t){switch(Xi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vt(Ve),tl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hs(t),null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ze),null;case 4:return tl(),null;case 10:return Vt(t.type),null;case 22:case 23:return Kt(t),ec(),e!==null&&ye(Ll),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vt(Ve),null;case 25:return null;default:return null}}function $d(e,t){switch(Xi(t),t.tag){case 3:Vt(Ve),tl();break;case 26:case 27:case 5:Hs(t);break;case 4:tl();break;case 13:Kt(t);break;case 19:ye(Ze);break;case 10:Vt(t.type);break;case 22:case 23:Kt(t),ec(),e!==null&&ye(Ll);break;case 24:Vt(Ve)}}function xs(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(r){Ce(t,t.return,r)}}function fl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,r=c.destroy;if(r!==void 0){c.destroy=void 0,n=t;var f=l,R=r;try{R()}catch(G){Ce(n,f,G)}}}a=a.next}while(a!==i)}}catch(G){Ce(t,t.return,G)}}function Fd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Bu(t,l)}catch(a){Ce(e,e.return,a)}}}function Wd(e,t,l){l.props=Gl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ce(e,t,a)}}function ps(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Ce(e,t,n)}}function Ot(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Ce(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Ce(e,t,n)}else l.current=null}function Id(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Ce(e,e.return,n)}}function Tc(e,t,l){try{var a=e.stateNode;Sh(a,e.type,l,t),a[at]=t}catch(n){Ce(e,e.return,n)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bl(e.type)||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Xn));else if(a!==4&&(a===27&&bl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Mc(e,t,l),e=e.sibling;e!==null;)Mc(e,t,l),e=e.sibling}function Dn(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&bl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Dn(e,t,l),e=e.sibling;e!==null;)Dn(e,t,l),e=e.sibling}function eo(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pe(t,a,l),t[et]=e,t[at]=l}catch(i){Ce(e,e.return,i)}}var Ft=!1,ke=!1,Rc=!1,to=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ah(e,t){if(e=e.containerInfo,tr=Kn,e=fu(e),Di(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,r=-1,f=-1,R=0,G=0,$=e,q=null;t:for(;;){for(var B;$!==l||n!==0&&$.nodeType!==3||(r=c+n),$!==i||a!==0&&$.nodeType!==3||(f=c+a),$.nodeType===3&&(c+=$.nodeValue.length),(B=$.firstChild)!==null;)q=$,$=B;for(;;){if($===e)break t;if(q===l&&++R===n&&(r=c),q===i&&++G===a&&(f=c),(B=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=B}l=r===-1||f===-1?null:{start:r,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(lr={focusedElem:e,selectionRange:l},Kn=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){switch(t=$e,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var re=Gl(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(re,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ce(l,l.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)nr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}}function lo(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ml(e,l),a&4&&xs(5,l);break;case 1:if(ml(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){Ce(l,l.return,c)}else{var n=Gl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Ce(l,l.return,c)}}a&64&&Fd(l),a&512&&ps(l,l.return);break;case 3:if(ml(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Bu(e,t)}catch(c){Ce(l,l.return,c)}}break;case 27:t===null&&a&4&&eo(l);case 26:case 5:ml(e,l),t===null&&a&4&&Id(l),a&512&&ps(l,l.return);break;case 12:ml(e,l);break;case 13:ml(e,l),a&4&&no(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=fh.bind(null,l),Mh(e,l))));break;case 22:if(a=l.memoizedState!==null||Ft,!a){t=t!==null&&t.memoizedState!==null||ke,n=Ft;var i=ke;Ft=a,(ke=t)&&!i?hl(e,l,(l.subtreeFlags&8772)!==0):ml(e,l),Ft=n,ke=i}break;case 30:break;default:ml(e,l)}}function ao(e){var t=e.alternate;t!==null&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&di(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,it=!1;function Wt(e,t,l){for(l=l.child;l!==null;)so(e,t,l),l=l.sibling}function so(e,t,l){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ba,l)}catch{}switch(l.tag){case 26:ke||Ot(l,t),Wt(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ke||Ot(l,t);var a=Re,n=it;bl(l.type)&&(Re=l.stateNode,it=!1),Wt(e,t,l),Cs(l.stateNode),Re=a,it=n;break;case 5:ke||Ot(l,t);case 6:if(a=Re,n=it,Re=null,Wt(e,t,l),Re=a,it=n,Re!==null)if(it)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(l.stateNode)}catch(i){Ce(l,t,i)}else try{Re.removeChild(l.stateNode)}catch(i){Ce(l,t,i)}break;case 18:Re!==null&&(it?(e=Re,Ko(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Us(e)):Ko(Re,l.stateNode));break;case 4:a=Re,n=it,Re=l.stateNode.containerInfo,it=!0,Wt(e,t,l),Re=a,it=n;break;case 0:case 11:case 14:case 15:ke||fl(2,l,t),ke||fl(4,l,t),Wt(e,t,l);break;case 1:ke||(Ot(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Wd(l,t,a)),Wt(e,t,l);break;case 21:Wt(e,t,l);break;case 22:ke=(a=ke)||l.memoizedState!==null,Wt(e,t,l),ke=a;break;default:Wt(e,t,l)}}function no(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Us(e)}catch(l){Ce(t,t.return,l)}}function sh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new to),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new to),t;default:throw Error(d(435,e.tag))}}function zc(e,t){var l=sh(e);t.forEach(function(a){var n=mh.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function mt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,r=c;e:for(;r!==null;){switch(r.tag){case 27:if(bl(r.type)){Re=r.stateNode,it=!1;break e}break;case 5:Re=r.stateNode,it=!1;break e;case 3:case 4:Re=r.stateNode.containerInfo,it=!0;break e}r=r.return}if(Re===null)throw Error(d(160));so(i,c,n),Re=null,it=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)io(t,e),t=t.sibling}var Tt=null;function io(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),ht(e),a&4&&(fl(3,e,e.return),xs(3,e),fl(5,e,e.return));break;case 1:mt(t,e),ht(e),a&512&&(ke||l===null||Ot(l,l.return)),a&64&&Ft&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Tt;if(mt(t,e),ht(e),a&512&&(ke||l===null||Ot(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Xa]||i[et]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),Pe(i,a,l),i[et]=e,Ke(i),a=i;break e;case"link":var c=tf("link","href",n).get(a+(l.href||""));if(c){for(var r=0;r<c.length;r++)if(i=c[r],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(r,1);break t}}i=n.createElement(a),Pe(i,a,l),n.head.appendChild(i);break;case"meta":if(c=tf("meta","content",n).get(a+(l.content||""))){for(r=0;r<c.length;r++)if(i=c[r],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(r,1);break t}}i=n.createElement(a),Pe(i,a,l),n.head.appendChild(i);break;default:throw Error(d(468,a))}i[et]=e,Ke(i),a=i}e.stateNode=a}else lf(n,e.type,e.stateNode);else e.stateNode=ef(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?lf(n,e.type,e.stateNode):ef(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Tc(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(t,e),ht(e),a&512&&(ke||l===null||Ot(l,l.return)),l!==null&&a&4&&Tc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(t,e),ht(e),a&512&&(ke||l===null||Ot(l,l.return)),e.flags&32){n=e.stateNode;try{la(n,"")}catch(B){Ce(e,e.return,B)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Tc(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Rc=!0);break;case 6:if(mt(t,e),ht(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(B){Ce(e,e.return,B)}}break;case 3:if(Qn=null,n=Tt,Tt=Yn(t.containerInfo),mt(t,e),Tt=n,ht(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(B){Ce(e,e.return,B)}Rc&&(Rc=!1,co(e));break;case 4:a=Tt,Tt=Yn(e.stateNode.containerInfo),mt(t,e),ht(e),Tt=a;break;case 12:mt(t,e),ht(e);break;case 13:mt(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hc=Rt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zc(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,R=Ft,G=ke;if(Ft=R||n,ke=G||f,mt(t,e),ke=G,Ft=R,ht(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||Ft||ke||Ql(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(i=f.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{r=f.stateNode;var $=f.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;r.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(B){Ce(f,f.return,B)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(B){Ce(f,f.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,zc(e,l))));break;case 19:mt(t,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zc(e,a)));break;case 30:break;case 21:break;default:mt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Pd(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,i=Dc(e);Dn(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(la(c,""),l.flags&=-33);var r=Dc(e);Dn(e,r,c);break;case 3:case 4:var f=l.stateNode.containerInfo,R=Dc(e);Mc(e,R,f);break;default:throw Error(d(161))}}catch(G){Ce(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function co(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;co(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lo(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fl(4,t,t.return),Ql(t);break;case 1:Ot(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Wd(t,t.return,l),Ql(t);break;case 27:Cs(t.stateNode);case 26:case 5:Ot(t,t.return),Ql(t);break;case 22:t.memoizedState===null&&Ql(t);break;case 30:Ql(t);break;default:Ql(t)}e=e.sibling}}function hl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:hl(n,i,l),xs(4,i);break;case 1:if(hl(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(R){Ce(a,a.return,R)}if(a=i,n=a.updateQueue,n!==null){var r=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)_u(f[n],r)}catch(R){Ce(a,a.return,R)}}l&&c&64&&Fd(i),ps(i,i.return);break;case 27:eo(i);case 26:case 5:hl(n,i,l),l&&a===null&&c&4&&Id(i),ps(i,i.return);break;case 12:hl(n,i,l);break;case 13:hl(n,i,l),l&&c&4&&no(n,i);break;case 22:i.memoizedState===null&&hl(n,i,l),ps(i,i.return);break;case 30:break;default:hl(n,i,l)}t=t.sibling}}function Uc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ts(l))}function Oc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e))}function qt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ro(e,t,l,a),t=t.sibling}function ro(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,l,a),n&2048&&xs(9,t);break;case 1:qt(e,t,l,a);break;case 3:qt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e)));break;case 12:if(n&2048){qt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,r=i.onPostCommit;typeof r=="function"&&r(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){Ce(t,t.return,f)}}else qt(e,t,l,a);break;case 13:qt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?qt(e,t,l,a):gs(e,t):i._visibility&2?qt(e,t,l,a):(i._visibility|=2,ja(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&Uc(c,t);break;case 24:qt(e,t,l,a),n&2048&&Oc(t.alternate,t);break;default:qt(e,t,l,a)}}function ja(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,c=t,r=l,f=a,R=c.flags;switch(c.tag){case 0:case 11:case 15:ja(i,c,r,f,n),xs(8,c);break;case 23:break;case 22:var G=c.stateNode;c.memoizedState!==null?G._visibility&2?ja(i,c,r,f,n):gs(i,c):(G._visibility|=2,ja(i,c,r,f,n)),n&&R&2048&&Uc(c.alternate,c);break;case 24:ja(i,c,r,f,n),n&&R&2048&&Oc(c.alternate,c);break;default:ja(i,c,r,f,n)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:gs(l,a),n&2048&&Uc(a.alternate,a);break;case 24:gs(l,a),n&2048&&Oc(a.alternate,a);break;default:gs(l,a)}t=t.sibling}}var ys=8192;function Na(e){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)uo(e),e=e.sibling}function uo(e){switch(e.tag){case 26:Na(e),e.flags&ys&&e.memoizedState!==null&&Gh(Tt,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var t=Tt;Tt=Yn(e.stateNode.containerInfo),Na(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ys,ys=16777216,Na(e),ys=t):Na(e));break;default:Na(e)}}function oo(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];$e=a,mo(a,e)}oo(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fo(e),e=e.sibling}function fo(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&fl(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mn(e)):vs(e);break;default:vs(e)}}function Mn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];$e=a,mo(a,e)}oo(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fl(8,t,t.return),Mn(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Mn(t));break;default:Mn(t)}e=e.sibling}}function mo(e,t){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:fl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ts(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,$e=a;else e:for(l=e;$e!==null;){a=$e;var n=a.sibling,i=a.return;if(ao(a),a===l){$e=null;break e}if(n!==null){n.return=i,$e=n;break e}$e=i}}}var nh={getCacheForType:function(e){var t=tt(Ve),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},ih=typeof WeakMap=="function"?WeakMap:Map,be=0,Te=null,me=null,xe=0,je=0,xt=null,xl=!1,Sa=!1,qc=!1,It=0,Be=0,pl=0,Vl=0,_c=0,Ct=0,wa=0,bs=null,ct=null,Bc=!1,Hc=0,Rn=1/0,zn=null,gl=null,Ie=0,yl=null,Ca=null,Aa=0,kc=0,Xc=null,ho=null,js=0,Lc=null;function pt(){if((be&2)!==0&&xe!==0)return xe&-xe;if(z.T!==null){var e=ma;return e!==0?e:Jc()}return Dr()}function xo(){Ct===0&&(Ct=(xe&536870912)===0||ve?Cr():536870912);var e=wt.current;return e!==null&&(e.flags|=32),Ct}function gt(e,t,l){(e===Te&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(Ea(e,0),vl(e,xe,Ct,!1)),ka(e,l),((be&2)===0||e!==Te)&&(e===Te&&((be&2)===0&&(Vl|=l),Be===4&&vl(e,xe,Ct,!1)),_t(e))}function po(e,t,l){if((be&6)!==0)throw Error(d(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||Ha(e,t),n=a?uh(e,t):Qc(e,t,!0),i=a;do{if(n===0){Sa&&!a&&vl(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!ch(l)){n=Qc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var r=e;n=bs;var f=r.current.memoizedState.isDehydrated;if(f&&(Ea(r,c).flags|=256),c=Qc(r,c,!1),c!==2){if(qc&&!f){r.errorRecoveryDisabledLanes|=i,Vl|=i,n=4;break e}i=ct,ct=n,i!==null&&(ct===null?ct=i:ct.push.apply(ct,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Ea(e,0),vl(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:vl(a,t,Ct,!xl);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Hc+300-Rt(),10<n)){if(vl(a,t,Ct,!xl),Ys(a,0,!0)!==0)break e;a.timeoutHandle=Vo(go.bind(null,a,l,ct,zn,Bc,t,Ct,Vl,wa,xl,i,2,-0,0),n);break e}go(a,l,ct,zn,Bc,t,Ct,Vl,wa,xl,i,0,-0,0)}}break}while(!0);_t(e)}function go(e,t,l,a,n,i,c,r,f,R,G,$,q,B){if(e.timeoutHandle=-1,$=t.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:Yh},uo(t),$=Qh(),$!==null)){e.cancelPendingCommit=$(wo.bind(null,e,t,i,l,a,n,c,r,f,G,1,q,B)),vl(e,i,c,!R);return}wo(e,t,i,l,a,n,c,r,f)}function ch(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!ot(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t,l,a){t&=~_c,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-dt(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&Er(e,l,t)}function Un(){return(be&6)===0?(Ns(0),!1):!0}function Yc(){if(me!==null){if(je===0)var e=me.return;else e=me,Qt=kl=null,nc(e),va=null,fs=0,e=me;for(;e!==null;)$d(e.alternate,e),e=e.return;me=null}}function Ea(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ch(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Yc(),Te=e,me=l=Lt(e.current,null),xe=t,je=0,xt=null,xl=!1,Sa=Ha(e,t),qc=!1,wa=Ct=_c=Vl=pl=Be=0,ct=bs=null,Bc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-dt(a),i=1<<n;t|=e[n],a&=~i}return It=t,en(),l}function yo(e,t){oe=null,z.H=bn,t===as||t===dn?(t=Ou(),je=3):t===Ru?(t=Ou(),je=4):je=t===qd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,me===null&&(Be=1,Cn(e,bt(t,e.current)))}function vo(){var e=z.H;return z.H=bn,e===null?bn:e}function bo(){var e=z.A;return z.A=nh,e}function Gc(){Be=4,xl||(xe&4194048)!==xe&&wt.current!==null||(Sa=!0),(pl&134217727)===0&&(Vl&134217727)===0||Te===null||vl(Te,xe,Ct,!1)}function Qc(e,t,l){var a=be;be|=2;var n=vo(),i=bo();(Te!==e||xe!==t)&&(zn=null,Ea(e,t)),t=!1;var c=Be;e:do try{if(je!==0&&me!==null){var r=me,f=xt;switch(je){case 8:Yc(),c=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var R=je;if(je=0,xt=null,Ta(e,r,f,R),l&&Sa){c=0;break e}break;default:R=je,je=0,xt=null,Ta(e,r,f,R)}}rh(),c=Be;break}catch(G){yo(e,G)}while(!0);return t&&e.shellSuspendCounter++,Qt=kl=null,be=a,z.H=n,z.A=i,me===null&&(Te=null,xe=0,en()),c}function rh(){for(;me!==null;)jo(me)}function uh(e,t){var l=be;be|=2;var a=vo(),n=bo();Te!==e||xe!==t?(zn=null,Rn=Rt()+500,Ea(e,t)):Sa=Ha(e,t);e:do try{if(je!==0&&me!==null){t=me;var i=xt;t:switch(je){case 1:je=0,xt=null,Ta(e,t,i,1);break;case 2:case 9:if(zu(i)){je=0,xt=null,No(t);break}t=function(){je!==2&&je!==9||Te!==e||(je=7),_t(e)},i.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:zu(i)?(je=0,xt=null,No(t)):(je=0,xt=null,Ta(e,t,i,7));break;case 5:var c=null;switch(me.tag){case 26:c=me.memoizedState;case 5:case 27:var r=me;if(!c||af(c)){je=0,xt=null;var f=r.sibling;if(f!==null)me=f;else{var R=r.return;R!==null?(me=R,On(R)):me=null}break t}}je=0,xt=null,Ta(e,t,i,5);break;case 6:je=0,xt=null,Ta(e,t,i,6);break;case 8:Yc(),Be=6;break e;default:throw Error(d(462))}}dh();break}catch(G){yo(e,G)}while(!0);return Qt=kl=null,z.H=a,z.A=n,be=l,me!==null?0:(Te=null,xe=0,en(),Be)}function dh(){for(;me!==null&&!zf();)jo(me)}function jo(e){var t=Kd(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?On(e):me=t}function No(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Ld(l,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Ld(l,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:nc(t);default:$d(l,t),t=me=Nu(t,It),t=Kd(l,t,It)}e.memoizedProps=e.pendingProps,t===null?On(e):me=t}function Ta(e,t,l,a){Qt=kl=null,nc(t),va=null,fs=0;var n=t.return;try{if(Pm(e,n,t,l,xe)){Be=1,Cn(e,bt(l,e.current)),me=null;return}}catch(i){if(n!==null)throw me=n,i;Be=1,Cn(e,bt(l,e.current)),me=null;return}t.flags&32768?(ve||a===1?e=!0:Sa||(xe&536870912)!==0?e=!1:(xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=wt.current,a!==null&&a.tag===13&&(a.flags|=16384))),So(t,e)):On(t)}function On(e){var t=e;do{if((t.flags&32768)!==0){So(t,xl);return}e=t.return;var l=th(t.alternate,t,It);if(l!==null){me=l;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Be===0&&(Be=5)}function So(e,t){do{var l=lh(e.alternate,e);if(l!==null){l.flags&=32767,me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=l}while(e!==null);Be=6,me=null}function wo(e,t,l,a,n,i,c,r,f){e.cancelPendingCommit=null;do qn();while(Ie!==0);if((be&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Oi,Yf(e,l,i,c,r,f),e===Te&&(me=Te=null,xe=0),Ca=t,yl=e,Aa=l,kc=i,Xc=n,ho=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hh(ks,function(){return Do(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,n=J.p,J.p=2,c=be,be|=4;try{ah(e,t,l)}finally{be=c,J.p=n,z.T=a}}Ie=1,Co(),Ao(),Eo()}}function Co(){if(Ie===1){Ie=0;var e=yl,t=Ca,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var a=J.p;J.p=2;var n=be;be|=4;try{io(t,e);var i=lr,c=fu(e.containerInfo),r=i.focusedElem,f=i.selectionRange;if(c!==r&&r&&r.ownerDocument&&ou(r.ownerDocument.documentElement,r)){if(f!==null&&Di(r)){var R=f.start,G=f.end;if(G===void 0&&(G=R),"selectionStart"in r)r.selectionStart=R,r.selectionEnd=Math.min(G,r.value.length);else{var $=r.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var B=q.getSelection(),re=r.textContent.length,ie=Math.min(f.start,re),we=f.end===void 0?ie:Math.min(f.end,re);!B.extend&&ie>we&&(c=we,we=ie,ie=c);var A=du(r,ie),y=du(r,we);if(A&&y&&(B.rangeCount!==1||B.anchorNode!==A.node||B.anchorOffset!==A.offset||B.focusNode!==y.node||B.focusOffset!==y.offset)){var T=$.createRange();T.setStart(A.node,A.offset),B.removeAllRanges(),ie>we?(B.addRange(T),B.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),B.addRange(T))}}}}for($=[],B=r;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<$.length;r++){var Z=$[r];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Kn=!!tr,lr=tr=null}finally{be=n,J.p=a,z.T=l}}e.current=t,Ie=2}}function Ao(){if(Ie===2){Ie=0;var e=yl,t=Ca,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var a=J.p;J.p=2;var n=be;be|=4;try{lo(e,t.alternate,t)}finally{be=n,J.p=a,z.T=l}}Ie=3}}function Eo(){if(Ie===4||Ie===3){Ie=0,Uf();var e=yl,t=Ca,l=Aa,a=ho;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Ca=yl=null,To(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(gl=null),ri(l),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ba,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,n=J.p,J.p=2,z.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var r=a[c];i(r.value,{componentStack:r.stack})}}finally{z.T=t,J.p=n}}(Aa&3)!==0&&qn(),_t(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===Lc?js++:(js=0,Lc=e):js=0,Ns(0)}}function To(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ts(t)))}function qn(e){return Co(),Ao(),Eo(),Do()}function Do(){if(Ie!==5)return!1;var e=yl,t=kc;kc=0;var l=ri(Aa),a=z.T,n=J.p;try{J.p=32>l?32:l,z.T=null,l=Xc,Xc=null;var i=yl,c=Aa;if(Ie=0,Ca=yl=null,Aa=0,(be&6)!==0)throw Error(d(331));var r=be;if(be|=4,fo(i.current),ro(i,i.current,c,l),be=r,Ns(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ba,i)}catch{}return!0}finally{J.p=n,z.T=a,To(e,t)}}function Mo(e,t,l){t=bt(l,t),t=vc(e.stateNode,t,2),e=rl(e,t,2),e!==null&&(ka(e,2),_t(e))}function Ce(e,t,l){if(e.tag===3)Mo(e,e,l);else for(;t!==null;){if(t.tag===3){Mo(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(gl===null||!gl.has(a))){e=bt(l,e),l=Ud(2),a=rl(t,l,2),a!==null&&(Od(l,a,t,e),ka(a,2),_t(a));break}}t=t.return}}function Vc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ih;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(qc=!0,n.add(l),e=oh.bind(null,e,t,l),t.then(e,e))}function oh(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Te===e&&(xe&l)===l&&(Be===4||Be===3&&(xe&62914560)===xe&&300>Rt()-Hc?(be&2)===0&&Ea(e,0):_c|=l,wa===xe&&(wa=0)),_t(e)}function Ro(e,t){t===0&&(t=Ar()),e=ua(e,t),e!==null&&(ka(e,t),_t(e))}function fh(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Ro(e,l)}function mh(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),Ro(e,l)}function hh(e,t){return si(e,t)}var _n=null,Da=null,Zc=!1,Bn=!1,Kc=!1,Zl=0;function _t(e){e!==Da&&e.next===null&&(Da===null?_n=Da=e:Da=Da.next=e),Bn=!0,Zc||(Zc=!0,ph())}function Ns(e,t){if(!Kc&&Bn){Kc=!0;do for(var l=!1,a=_n;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,r=a.pingedLanes;i=(1<<31-dt(42|e)+1)-1,i&=n&~(c&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,qo(a,i))}else i=xe,i=Ys(a,a===Te?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ha(a,i)||(l=!0,qo(a,i));a=a.next}while(l);Kc=!1}}function xh(){zo()}function zo(){Bn=Zc=!1;var e=0;Zl!==0&&(wh()&&(e=Zl),Zl=0);for(var t=Rt(),l=null,a=_n;a!==null;){var n=a.next,i=Uo(a,t);i===0?(a.next=null,l===null?_n=n:l.next=n,n===null&&(Da=l)):(l=a,(e!==0||(i&3)!==0)&&(Bn=!0)),a=n}Ns(e)}function Uo(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-dt(i),r=1<<c,f=n[c];f===-1?((r&l)===0||(r&a)!==0)&&(n[c]=Lf(r,t)):f<=t&&(e.expiredLanes|=r),i&=~r}if(t=Te,l=xe,l=Ys(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ni(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ha(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ni(a),ri(l)){case 2:case 8:l=Sr;break;case 32:l=ks;break;case 268435456:l=wr;break;default:l=ks}return a=Oo.bind(null,e),l=si(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ni(a),e.callbackPriority=2,e.callbackNode=null,2}function Oo(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(qn()&&e.callbackNode!==l)return null;var a=xe;return a=Ys(e,e===Te?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(po(e,a,t),Uo(e,Rt()),e.callbackNode!=null&&e.callbackNode===l?Oo.bind(null,e):null)}function qo(e,t){if(qn())return null;po(e,t,!0)}function ph(){Ah(function(){(be&6)!==0?si(Nr,xh):zo()})}function Jc(){return Zl===0&&(Zl=Cr()),Zl}function _o(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Bo(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function gh(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=_o((n[at]||null).action),c=a.submitter;c&&(t=(t=c[at]||null)?_o(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var r=new Ws("action","action",null,a,n);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Zl!==0){var f=c?Bo(n,c):new FormData(n);hc(l,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(r.preventDefault(),f=c?Bo(n,c):new FormData(n),hc(l,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var $c=0;$c<Ui.length;$c++){var Fc=Ui[$c],yh=Fc.toLowerCase(),vh=Fc[0].toUpperCase()+Fc.slice(1);Et(yh,"on"+vh)}Et(xu,"onAnimationEnd"),Et(pu,"onAnimationIteration"),Et(gu,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(_m,"onTransitionRun"),Et(Bm,"onTransitionStart"),Et(Hm,"onTransitionCancel"),Et(yu,"onTransitionEnd"),Pl("onMouseEnter",["mouseout","mouseover"]),Pl("onMouseLeave",["mouseout","mouseover"]),Pl("onPointerEnter",["pointerout","pointerover"]),Pl("onPointerLeave",["pointerout","pointerover"]),Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function Ho(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var r=a[c],f=r.instance,R=r.currentTarget;if(r=r.listener,f!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=R;try{i(n)}catch(G){wn(G)}n.currentTarget=null,i=f}else for(c=0;c<a.length;c++){if(r=a[c],f=r.instance,R=r.currentTarget,r=r.listener,f!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=R;try{i(n)}catch(G){wn(G)}n.currentTarget=null,i=f}}}}function he(e,t){var l=t[ui];l===void 0&&(l=t[ui]=new Set);var a=e+"__bubble";l.has(a)||(ko(t,e,2,!1),l.add(a))}function Wc(e,t,l){var a=0;t&&(a|=4),ko(l,e,a,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Hn]){e[Hn]=!0,Rr.forEach(function(l){l!=="selectionchange"&&(bh.has(l)||Wc(l,!1,e),Wc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hn]||(t[Hn]=!0,Wc("selectionchange",!1,t))}}function ko(e,t,l,a){switch(df(t)){case 2:var n=Kh;break;case 8:n=Jh;break;default:n=fr}l=n.bind(null,t,l,e),n=void 0,!bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Pc(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var r=a.stateNode.containerInfo;if(r===n)break;if(c===4)for(c=a.return;c!==null;){var f=c.tag;if((f===3||f===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;r!==null;){if(c=Fl(r),c===null)return;if(f=c.tag,f===5||f===6||f===26||f===27){a=i=c;continue e}r=r.parentNode}}a=a.return}Vr(function(){var R=i,G=yi(l),$=[];e:{var q=vu.get(e);if(q!==void 0){var B=Ws,re=e;switch(e){case"keypress":if($s(l)===0)break e;case"keydown":case"keyup":B=hm;break;case"focusin":re="focus",B=wi;break;case"focusout":re="blur",B=wi;break;case"beforeblur":case"afterblur":B=wi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gm;break;case xu:case pu:case gu:B=nm;break;case yu:B=vm;break;case"scroll":case"scrollend":B=em;break;case"wheel":B=jm;break;case"copy":case"cut":case"paste":B=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Fr;break;case"toggle":case"beforetoggle":B=Sm}var ie=(t&4)!==0,we=!ie&&(e==="scroll"||e==="scrollend"),A=ie?q!==null?q+"Capture":null:q;ie=[];for(var y=R,T;y!==null;){var Z=y;if(T=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||T===null||A===null||(Z=Ya(y,A),Z!=null&&ie.push(ws(y,Z,T))),we)break;y=y.return}0<ie.length&&(q=new B(q,re,null,l,G),$.push({event:q,listeners:ie}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",q&&l!==gi&&(re=l.relatedTarget||l.fromElement)&&(Fl(re)||re[$l]))break e;if((B||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,B?(re=l.relatedTarget||l.toElement,B=R,re=re?Fl(re):null,re!==null&&(we=w(re),ie=re.tag,re!==we||ie!==5&&ie!==27&&ie!==6)&&(re=null)):(B=null,re=R),B!==re)){if(ie=Jr,Z="onMouseLeave",A="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Fr,Z="onPointerLeave",A="onPointerEnter",y="pointer"),we=B==null?q:La(B),T=re==null?q:La(re),q=new ie(Z,y+"leave",B,l,G),q.target=we,q.relatedTarget=T,Z=null,Fl(G)===R&&(ie=new ie(A,y+"enter",re,l,G),ie.target=T,ie.relatedTarget=we,Z=ie),we=Z,B&&re)t:{for(ie=B,A=re,y=0,T=ie;T;T=Ma(T))y++;for(T=0,Z=A;Z;Z=Ma(Z))T++;for(;0<y-T;)ie=Ma(ie),y--;for(;0<T-y;)A=Ma(A),T--;for(;y--;){if(ie===A||A!==null&&ie===A.alternate)break t;ie=Ma(ie),A=Ma(A)}ie=null}else ie=null;B!==null&&Xo($,q,B,ie,!1),re!==null&&we!==null&&Xo($,we,re,ie,!0)}}e:{if(q=R?La(R):window,B=q.nodeName&&q.nodeName.toLowerCase(),B==="select"||B==="input"&&q.type==="file")var le=su;else if(lu(q))if(nu)le=Um;else{le=Rm;var fe=Mm}else B=q.nodeName,!B||B.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?R&&pi(R.elementType)&&(le=su):le=zm;if(le&&(le=le(e,R))){au($,le,l,G);break e}fe&&fe(e,q,R),e==="focusout"&&R&&q.type==="number"&&R.memoizedProps.value!=null&&xi(q,"number",q.value)}switch(fe=R?La(R):window,e){case"focusin":(lu(fe)||fe.contentEditable==="true")&&(ia=fe,Mi=R,Fa=null);break;case"focusout":Fa=Mi=ia=null;break;case"mousedown":Ri=!0;break;case"contextmenu":case"mouseup":case"dragend":Ri=!1,mu($,l,G);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":mu($,l,G)}var ne;if(Ai)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else na?eu(e,l)&&(ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(Wr&&l.locale!=="ko"&&(na||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&na&&(ne=Zr()):(sl=G,ji="value"in sl?sl.value:sl.textContent,na=!0)),fe=kn(R,ce),0<fe.length&&(ce=new $r(ce,e,null,l,G),$.push({event:ce,listeners:fe}),ne?ce.data=ne:(ne=tu(l),ne!==null&&(ce.data=ne)))),(ne=Cm?Am(e,l):Em(e,l))&&(ce=kn(R,"onBeforeInput"),0<ce.length&&(fe=new $r("onBeforeInput","beforeinput",null,l,G),$.push({event:fe,listeners:ce}),fe.data=ne)),gh($,e,R,l,G)}Ho($,t)})}function ws(e,t,l){return{instance:e,listener:t,currentTarget:l}}function kn(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Ya(e,l),n!=null&&a.unshift(ws(e,n,i)),n=Ya(e,t),n!=null&&a.push(ws(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xo(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var r=l,f=r.alternate,R=r.stateNode;if(r=r.tag,f!==null&&f===a)break;r!==5&&r!==26&&r!==27||R===null||(f=R,n?(R=Ya(l,i),R!=null&&c.unshift(ws(l,R,f))):n||(R=Ya(l,i),R!=null&&c.push(ws(l,R,f)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var jh=/\r\n?/g,Nh=/\u0000|\uFFFD/g;function Lo(e){return(typeof e=="string"?e:""+e).replace(jh,`
`).replace(Nh,"")}function Yo(e,t){return t=Lo(t),Lo(e)===t}function Xn(){}function Se(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||la(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&la(e,""+a);break;case"className":Qs(e,"class",a);break;case"tabIndex":Qs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(e,l,a);break;case"style":Gr(e,a,i);break;case"data":if(t!=="object"){Qs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ks(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Se(e,t,"name",n.name,n,null),Se(e,t,"formEncType",n.formEncType,n,null),Se(e,t,"formMethod",n.formMethod,n,null),Se(e,t,"formTarget",n.formTarget,n,null)):(Se(e,t,"encType",n.encType,n,null),Se(e,t,"method",n.method,n,null),Se(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ks(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Xn);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ks(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":he("beforetoggle",e),he("toggle",e),Gs(e,"popover",a);break;case"xlinkActuate":kt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":kt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":kt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":kt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":kt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":kt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":kt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":kt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":kt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Gs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=If.get(l)||l,Gs(e,l,a))}}function er(e,t,l,a,n,i){switch(l){case"style":Gr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?la(e,a):(typeof a=="number"||typeof a=="bigint")&&la(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[at]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Gs(e,l,a)}}}function Pe(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Se(e,t,i,c,l,null)}}n&&Se(e,t,"srcSet",l.srcSet,l,null),a&&Se(e,t,"src",l.src,l,null);return;case"input":he("invalid",e);var r=i=c=n=null,f=null,R=null;for(a in l)if(l.hasOwnProperty(a)){var G=l[a];if(G!=null)switch(a){case"name":n=G;break;case"type":c=G;break;case"checked":f=G;break;case"defaultChecked":R=G;break;case"value":i=G;break;case"defaultValue":r=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,t));break;default:Se(e,t,a,G,l,null)}}kr(e,i,r,f,R,c,n,!1),Vs(e);return;case"select":he("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(r=l[n],r!=null))switch(n){case"value":i=r;break;case"defaultValue":c=r;break;case"multiple":a=r;default:Se(e,t,n,r,l,null)}t=i,l=c,e.multiple=!!a,t!=null?ta(e,!!a,t,!1):l!=null&&ta(e,!!a,l,!0);return;case"textarea":he("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(r=l[c],r!=null))switch(c){case"value":a=r;break;case"defaultValue":n=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(d(91));break;default:Se(e,t,c,r,l,null)}Lr(e,a,n,i),Vs(e);return;case"option":for(f in l)if(l.hasOwnProperty(f)&&(a=l[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(e,t,f,a,l,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Ss.length;a++)he(Ss[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in l)if(l.hasOwnProperty(R)&&(a=l[R],a!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Se(e,t,R,a,l,null)}return;default:if(pi(t)){for(G in l)l.hasOwnProperty(G)&&(a=l[G],a!==void 0&&er(e,t,G,a,l,void 0));return}}for(r in l)l.hasOwnProperty(r)&&(a=l[r],a!=null&&Se(e,t,r,a,l,null))}function Sh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,r=null,f=null,R=null,G=null;for(B in l){var $=l[B];if(l.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":f=$;default:a.hasOwnProperty(B)||Se(e,t,B,null,a,$)}}for(var q in a){var B=a[q];if($=l[q],a.hasOwnProperty(q)&&(B!=null||$!=null))switch(q){case"type":i=B;break;case"name":n=B;break;case"checked":R=B;break;case"defaultChecked":G=B;break;case"value":c=B;break;case"defaultValue":r=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(d(137,t));break;default:B!==$&&Se(e,t,q,B,a,$)}}hi(e,c,r,f,R,G,i,n);return;case"select":B=c=r=q=null;for(i in l)if(f=l[i],l.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":B=f;default:a.hasOwnProperty(i)||Se(e,t,i,null,a,f)}for(n in a)if(i=a[n],f=l[n],a.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":q=i;break;case"defaultValue":r=i;break;case"multiple":c=i;default:i!==f&&Se(e,t,n,i,a,f)}t=r,l=c,a=B,q!=null?ta(e,!!l,q,!1):!!a!=!!l&&(t!=null?ta(e,!!l,t,!0):ta(e,!!l,l?[]:"",!1));return;case"textarea":B=q=null;for(r in l)if(n=l[r],l.hasOwnProperty(r)&&n!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:Se(e,t,r,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":q=n;break;case"defaultValue":B=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&Se(e,t,c,n,a,i)}Xr(e,q,B);return;case"option":for(var re in l)if(q=l[re],l.hasOwnProperty(re)&&q!=null&&!a.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Se(e,t,re,null,a,q)}for(f in a)if(q=a[f],B=l[f],a.hasOwnProperty(f)&&q!==B&&(q!=null||B!=null))switch(f){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Se(e,t,f,q,a,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)q=l[ie],l.hasOwnProperty(ie)&&q!=null&&!a.hasOwnProperty(ie)&&Se(e,t,ie,null,a,q);for(R in a)if(q=a[R],B=l[R],a.hasOwnProperty(R)&&q!==B&&(q!=null||B!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(d(137,t));break;default:Se(e,t,R,q,a,B)}return;default:if(pi(t)){for(var we in l)q=l[we],l.hasOwnProperty(we)&&q!==void 0&&!a.hasOwnProperty(we)&&er(e,t,we,void 0,a,q);for(G in a)q=a[G],B=l[G],!a.hasOwnProperty(G)||q===B||q===void 0&&B===void 0||er(e,t,G,q,a,B);return}}for(var A in l)q=l[A],l.hasOwnProperty(A)&&q!=null&&!a.hasOwnProperty(A)&&Se(e,t,A,null,a,q);for($ in a)q=a[$],B=l[$],!a.hasOwnProperty($)||q===B||q==null&&B==null||Se(e,t,$,q,a,B)}var tr=null,lr=null;function Ln(e){return e.nodeType===9?e:e.ownerDocument}function Go(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qo(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ar(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sr=null;function wh(){var e=window.event;return e&&e.type==="popstate"?e===sr?!1:(sr=e,!0):(sr=null,!1)}var Vo=typeof setTimeout=="function"?setTimeout:void 0,Ch=typeof clearTimeout=="function"?clearTimeout:void 0,Zo=typeof Promise=="function"?Promise:void 0,Ah=typeof queueMicrotask=="function"?queueMicrotask:typeof Zo<"u"?function(e){return Zo.resolve(null).then(e).catch(Eh)}:Vo;function Eh(e){setTimeout(function(){throw e})}function bl(e){return e==="head"}function Ko(e,t){var l=t,a=0,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(0<a&&8>a){l=a;var c=e.ownerDocument;if(l&1&&Cs(c.documentElement),l&2&&Cs(c.body),l&4)for(l=c.head,Cs(l),c=l.firstChild;c;){var r=c.nextSibling,f=c.nodeName;c[Xa]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=r}}if(n===0){e.removeChild(i),Us(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=i}while(l);Us(t)}function nr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nr(l),di(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Th(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function Dh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Dt(e.nextSibling),e===null))return null;return e}function ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Mh(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var cr=null;function Jo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function $o(e,t,l){switch(t=Ln(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Cs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);di(e)}var At=new Map,Fo=new Set;function Yn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pt=J.d;J.d={f:Rh,r:zh,D:Uh,C:Oh,L:qh,m:_h,X:Hh,S:Bh,M:kh};function Rh(){var e=Pt.f(),t=Un();return e||t}function zh(e){var t=Wl(e);t!==null&&t.tag===5&&t.type==="form"?xd(t):Pt.r(e)}var Ra=typeof document>"u"?null:document;function Wo(e,t,l){var a=Ra;if(a&&typeof t=="string"&&t){var n=vt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Fo.has(n)||(Fo.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),Pe(t,"link",e),Ke(t),a.head.appendChild(t)))}}function Uh(e){Pt.D(e),Wo("dns-prefetch",e,null)}function Oh(e,t){Pt.C(e,t),Wo("preconnect",e,t)}function qh(e,t,l){Pt.L(e,t,l);var a=Ra;if(a&&e&&t){var n='link[rel="preload"][as="'+vt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+vt(l.imageSizes)+'"]')):n+='[href="'+vt(e)+'"]';var i=n;switch(t){case"style":i=za(e);break;case"script":i=Ua(e)}At.has(i)||(e=M({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),At.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(As(i))||t==="script"&&a.querySelector(Es(i))||(t=a.createElement("link"),Pe(t,"link",e),Ke(t),a.head.appendChild(t)))}}function _h(e,t){Pt.m(e,t);var l=Ra;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ua(e)}if(!At.has(i)&&(e=M({rel:"modulepreload",href:e},t),At.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Es(i)))return}a=l.createElement("link"),Pe(a,"link",e),Ke(a),l.head.appendChild(a)}}}function Bh(e,t,l){Pt.S(e,t,l);var a=Ra;if(a&&e){var n=Il(a).hoistableStyles,i=za(e);t=t||"default";var c=n.get(i);if(!c){var r={loading:0,preload:null};if(c=a.querySelector(As(i)))r.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":t},l),(l=At.get(i))&&rr(e,l);var f=c=a.createElement("link");Ke(f),Pe(f,"link",e),f._p=new Promise(function(R,G){f.onload=R,f.onerror=G}),f.addEventListener("load",function(){r.loading|=1}),f.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Gn(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:r},n.set(i,c)}}}function Hh(e,t){Pt.X(e,t);var l=Ra;if(l&&e){var a=Il(l).hoistableScripts,n=Ua(e),i=a.get(n);i||(i=l.querySelector(Es(n)),i||(e=M({src:e,async:!0},t),(t=At.get(n))&&ur(e,t),i=l.createElement("script"),Ke(i),Pe(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function kh(e,t){Pt.M(e,t);var l=Ra;if(l&&e){var a=Il(l).hoistableScripts,n=Ua(e),i=a.get(n);i||(i=l.querySelector(Es(n)),i||(e=M({src:e,async:!0,type:"module"},t),(t=At.get(n))&&ur(e,t),i=l.createElement("script"),Ke(i),Pe(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Io(e,t,l,a){var n=(n=pe.current)?Yn(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=za(l.href),l=Il(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=za(l.href);var i=Il(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(As(e)))&&!i._p&&(c.instance=i,c.state.loading=5),At.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},At.set(e,l),i||Xh(n,e,l,c.state))),t&&a===null)throw Error(d(528,""));return c}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ua(l),l=Il(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function za(e){return'href="'+vt(e)+'"'}function As(e){return'link[rel="stylesheet"]['+e+"]"}function Po(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pe(t,"link",l),Ke(t),e.head.appendChild(t))}function Ua(e){return'[src="'+vt(e)+'"]'}function Es(e){return"script[async]"+e}function ef(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(l.href)+'"]');if(a)return t.instance=a,Ke(a),a;var n=M({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ke(a),Pe(a,"style",n),Gn(a,l.precedence,e),t.instance=a;case"stylesheet":n=za(l.href);var i=e.querySelector(As(n));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;a=Po(l),(n=At.get(n))&&rr(a,n),i=(e.ownerDocument||e).createElement("link"),Ke(i);var c=i;return c._p=new Promise(function(r,f){c.onload=r,c.onerror=f}),Pe(i,"link",a),t.state.loading|=4,Gn(i,l.precedence,e),t.instance=i;case"script":return i=Ua(l.src),(n=e.querySelector(Es(i)))?(t.instance=n,Ke(n),n):(a=l,(n=At.get(i))&&(a=M({},l),ur(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ke(n),Pe(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Gn(a,l.precedence,e));return t.instance}function Gn(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var r=a[c];if(r.dataset.precedence===t)i=r;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function rr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ur(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qn=null;function tf(e,t,l){if(Qn===null){var a=new Map,n=Qn=new Map;n.set(l,a)}else n=Qn,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Xa]||i[et]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var r=a.get(c);r?r.push(i):a.set(c,[i])}}return a}function lf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Lh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function af(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ts=null;function Yh(){}function Gh(e,t,l){if(Ts===null)throw Error(d(475));var a=Ts;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=za(l.href),i=e.querySelector(As(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Vn.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Ke(i);return}i=e.ownerDocument||e,l=Po(l),(n=At.get(n))&&rr(l,n),i=i.createElement("link"),Ke(i);var c=i;c._p=new Promise(function(r,f){c.onload=r,c.onerror=f}),Pe(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Vn.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Qh(){if(Ts===null)throw Error(d(475));var e=Ts;return e.stylesheets&&e.count===0&&dr(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&dr(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Vn(){if(this.count--,this.count===0){if(this.stylesheets)dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zn=null;function dr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zn=new Map,t.forEach(Vh,e),Zn=null,Vn.call(e))}function Vh(e,t){if(!(t.state.loading&4)){var l=Zn.get(e);if(l)var a=l.get(null);else{l=new Map,Zn.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Vn.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ds={$$typeof:L,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Zh(e,t,l,a,n,i,c,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function sf(e,t,l,a,n,i,c,r,f,R,G,$){return e=new Zh(e,t,l,c,r,f,R,$),t=1,i===!0&&(t|=24),i=ft(3,null,null,t),e.current=i,i.stateNode=e,t=Vi(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},$i(i),e}function nf(e){return e?(e=da,e):da}function cf(e,t,l,a,n,i){n=nf(n),a.context===null?a.context=n:a.pendingContext=n,a=cl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=rl(e,a,t),l!==null&&(gt(l,e,t),ns(l,e,t))}function rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function or(e,t){rf(e,t),(e=e.alternate)&&rf(e,t)}function uf(e){if(e.tag===13){var t=ua(e,67108864);t!==null&&gt(t,e,67108864),or(e,67108864)}}var Kn=!0;function Kh(e,t,l,a){var n=z.T;z.T=null;var i=J.p;try{J.p=2,fr(e,t,l,a)}finally{J.p=i,z.T=n}}function Jh(e,t,l,a){var n=z.T;z.T=null;var i=J.p;try{J.p=8,fr(e,t,l,a)}finally{J.p=i,z.T=n}}function fr(e,t,l,a){if(Kn){var n=mr(a);if(n===null)Pc(e,t,a,Jn,l),of(e,a);else if(Fh(n,e,t,l,a))a.stopPropagation();else if(of(e,a),t&4&&-1<$h.indexOf(e)){for(;n!==null;){var i=Wl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Dl(i.pendingLanes);if(c!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;c;){var f=1<<31-dt(c);r.entanglements[1]|=f,c&=~f}_t(i),(be&6)===0&&(Rn=Rt()+500,Ns(0))}}break;case 13:r=ua(i,2),r!==null&&gt(r,i,2),Un(),or(i,2)}if(i=mr(a),i===null&&Pc(e,t,a,Jn,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Pc(e,t,a,null,l)}}function mr(e){return e=yi(e),hr(e)}var Jn=null;function hr(e){if(Jn=null,e=Fl(e),e!==null){var t=w(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jn=e,null}function df(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Of()){case Nr:return 2;case Sr:return 8;case ks:case qf:return 32;case wr:return 268435456;default:return 32}default:return 32}}var xr=!1,jl=null,Nl=null,Sl=null,Ms=new Map,Rs=new Map,wl=[],$h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function of(e,t){switch(e){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function zs(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Wl(t),t!==null&&uf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Fh(e,t,l,a,n){switch(t){case"focusin":return jl=zs(jl,e,t,l,a,n),!0;case"dragenter":return Nl=zs(Nl,e,t,l,a,n),!0;case"mouseover":return Sl=zs(Sl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Ms.set(i,zs(Ms.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Rs.set(i,zs(Rs.get(i)||null,e,t,l,a,n)),!0}return!1}function ff(e){var t=Fl(e.target);if(t!==null){var l=w(t);if(l!==null){if(t=l.tag,t===13){if(t=g(l),t!==null){e.blockedOn=t,Gf(e.priority,function(){if(l.tag===13){var a=pt();a=ci(a);var n=ua(l,a);n!==null&&gt(n,l,a),or(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $n(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=mr(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);gi=a,l.target.dispatchEvent(a),gi=null}else return t=Wl(l),t!==null&&uf(t),e.blockedOn=l,!1;t.shift()}return!0}function mf(e,t,l){$n(e)&&l.delete(t)}function Wh(){xr=!1,jl!==null&&$n(jl)&&(jl=null),Nl!==null&&$n(Nl)&&(Nl=null),Sl!==null&&$n(Sl)&&(Sl=null),Ms.forEach(mf),Rs.forEach(mf)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,xr||(xr=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Wh)))}var Wn=null;function hf(e){Wn!==e&&(Wn=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Wn===e&&(Wn=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(hr(a||l)===null)continue;break}var i=Wl(l);i!==null&&(e.splice(t,3),t-=3,hc(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Us(e){function t(f){return Fn(f,e)}jl!==null&&Fn(jl,e),Nl!==null&&Fn(Nl,e),Sl!==null&&Fn(Sl,e),Ms.forEach(t),Rs.forEach(t);for(var l=0;l<wl.length;l++){var a=wl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<wl.length&&(l=wl[0],l.blockedOn===null);)ff(l),l.blockedOn===null&&wl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[at]||null;if(typeof i=="function")c||hf(l);else if(c){var r=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[at]||null)r=c.formAction;else if(hr(n)!==null)continue}else r=c.action;typeof r=="function"?l[a+1]=r:(l.splice(a,3),a-=3),hf(l)}}}function pr(e){this._internalRoot=e}In.prototype.render=pr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=pt();cf(l,a,e,t,null,null)},In.prototype.unmount=pr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cf(e.current,2,null,e,null,null),Un(),t[$l]=null}};function In(e){this._internalRoot=e}In.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<wl.length&&t!==0&&t<wl[l].priority;l++);wl.splice(l,0,e),l===0&&ff(e)}};var xf=b.version;if(xf!=="19.1.1")throw Error(d(527,xf,"19.1.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=D(t),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var Ih={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pn.isDisabled&&Pn.supportsFiber)try{Ba=Pn.inject(Ih),ut=Pn}catch{}}return Os.createRoot=function(e,t){if(!j(e))throw Error(d(299));var l=!1,a="",n=Dd,i=Md,c=Rd,r=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=sf(e,1,!1,null,null,l,a,n,i,c,r,null),e[$l]=t.current,Ic(e),new pr(t)},Os.hydrateRoot=function(e,t,l){if(!j(e))throw Error(d(299));var a=!1,n="",i=Dd,c=Md,r=Rd,f=null,R=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(r=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(f=l.unstable_transitionCallbacks),l.formState!==void 0&&(R=l.formState)),t=sf(e,1,!0,t,l??null,a,n,i,c,r,f,R),t.context=nf(null),l=t.current,a=pt(),a=ci(a),n=cl(a),n.callback=null,rl(l,n,a),l=a,t.current.lanes=l,ka(t,l),_t(t),e[$l]=t.current,Ic(e),new In(t)},Os.version="19.1.1",Os}var jf;function yx(){if(jf)return gr.exports;jf=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(b){console.error(b)}}return u(),gr.exports=gx(),gr.exports}var vx=yx();const qe="/api",ze={candidates:`${qe}/candidates`,candidateById:u=>`${qe}/candidates/${u}`,candidatesByStatus:u=>`${qe}/candidates/status/${u}`,candidatesBulk:`${qe}/candidates/bulk`,mentors:`${qe}/mentors`,mentorById:u=>`${qe}/mentors/${u}`,mentorsBySubject:u=>`${qe}/mentors/subject/${u}`,courses:`${qe}/courses`,courseById:u=>`${qe}/courses/${u}`,courseByCode:u=>`${qe}/courses/code/${u}`,coursesByTrack:u=>`${qe}/courses/track/${u}`,login:`${qe}/users/auth/login`,register:`${qe}/users/auth/register`,users:`${qe}/users`,userByEmail:u=>`${qe}/users/${u}`,usersByRole:u=>`${qe}/users/role/${u}`,updatePassword:u=>`${qe}/users/${u}/password`,applicants:`${qe}/applicants`,applicantByEmail:u=>`${qe}/applicants/${u}`,applicantsByStatus:u=>`${qe}/applicants/status/${u}`,applicantStatus:u=>`${qe}/applicants/${u}/status`,applicantDocs:u=>`${qe}/applicants/${u}/docs`,interestedApplicants:`${qe}/applicants/filter/interested`};async function qs(u,b={}){try{console.log(" API Request:",b.method||"GET",u);const m={headers:{"Content-Type":"application/json",...b.headers},...b},d=await fetch(u,m);if(console.log(" API Response:",d.status,d.statusText),!d.ok){const g=await d.json().catch(()=>({error:"Request failed"}));throw console.error(" API Error:",g),new Error(g.error||`HTTP ${d.status}: ${d.statusText}`)}const j=d.headers.get("content-type");if(!j||!j.includes("application/json"))return console.warn(" Non-JSON response, content-type:",j),null;const w=await d.json();return console.log(" API Data received:",w?"Data exists":"No data"),w}catch(m){throw console.error(" API Request Error:",m),m}}const Ue={get:u=>qs(u,{method:"GET"}),post:(u,b)=>qs(u,{method:"POST",body:JSON.stringify(b)}),put:(u,b)=>qs(u,{method:"PUT",body:JSON.stringify(b)}),patch:(u,b)=>qs(u,{method:"PATCH",body:JSON.stringify(b)}),delete:u=>qs(u,{method:"DELETE"})},ei=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i,Cf=F.createContext(null),rt=()=>F.useContext(Cf);function bx({children:u}){const[b,m]=F.useState(()=>{try{return JSON.parse(localStorage.getItem("fg.authUser")||"null")}catch{return null}}),[d,j]=F.useState([]);F.useEffect(()=>{try{b?localStorage.setItem("fg.authUser",JSON.stringify(b)):localStorage.removeItem("fg.authUser")}catch{}},[b]);async function w({name:Y,email:N,password:p}){const o=String(N||"").trim().toLowerCase();if(!ei.test(o))throw new Error("Invalid email");if(!p||String(p).length<4)throw new Error("Password too short");try{const H=await Ue.post(ze.register,{email:o,password:String(p),name:String(Y||""),role:"Teacher"});return console.log(" User registered:",H.email),!0}catch(H){throw console.error(" Registration failed:",H),H}}async function g(Y,N){const p=String(Y||"").toLowerCase();try{const o=await Ue.post(ze.login,{email:p,password:String(N)});if(!o)throw new Error("No user data returned");return console.log(" Login successful:",o.email||o),m(o),o}catch(o){throw console.error(" Login failed:",o),new Error("Invalid credentials")}}function E(){m(null),localStorage.removeItem("fg.authUser")}async function D(Y){if(b)try{const N=await Ue.put(ze.userByEmail(b.email),Y);return console.log(" Profile updated"),m(p=>({...p,...N})),N}catch(N){throw console.error(" Profile update failed:",N),N}}const[k,M]=F.useState({}),[C,h]=F.useState({});function x(Y){const N=String(Y||"").trim().toLowerCase();if(!ei.test(N))throw new Error("Invalid email");const p=String(Math.floor(1e5+Math.random()*9e5)),o=Date.now()+600*1e3;return M(H=>({...H,[N]:{code:p,exp:o}})),console.log(` Verification code for ${N}: ${p}`),p}function U(Y,N){const p=String(Y||"").trim().toLowerCase(),o=k[p];if(!o)throw new Error("No verification request");if(Date.now()>o.exp)throw new Error("Code expired");if(String(N)!==String(o.code))throw new Error("Invalid code");return M(H=>{const X={...H};return delete X[p],X}),!0}function S(Y){const N=String(Y||"").trim().toLowerCase();if(!ei.test(N))throw new Error("Invalid email");const p=String(Math.floor(1e5+Math.random()*9e5)),o=Date.now()+600*1e3;return h(H=>({...H,[N]:{code:p,exp:o}})),console.log(` Password reset code for ${N}: ${p}`),p}async function K(Y,N,p){const o=String(Y||"").trim().toLowerCase(),H=C[o];if(!H)throw new Error("No reset request found");if(Date.now()>H.exp)throw new Error("Reset code expired");if(String(N).trim()!==String(H.code))throw new Error("Invalid reset code");if(!p||String(p).length<4)throw new Error("Password too short");try{return await Ue.post(ze.userByEmail(o)+"/password",{password:String(p)}),h(X=>{const P={...X};return delete P[o],P}),console.log(" Password reset successful"),!0}catch(X){throw console.error(" Password reset failed:",X),new Error("Failed to reset password")}}async function ae(){try{const Y=await Ue.get(ze.users);return j(Y),Y}catch(Y){throw console.error(" Failed to fetch users:",Y),Y}}async function ee(Y,N){const p=String(Y||"").toLowerCase();try{const o=await Ue.put(ze.userByEmail(p),N);return j(H=>H.map(X=>(X.email||"").toLowerCase()===p?o:X)),m(H=>H&&(H.email||"").toLowerCase()===p?{...H,...o}:H),console.log(" Admin updated user"),o}catch(o){throw console.error(" Admin update failed:",o),o}}async function L(Y){const N=String(Y||"").toLowerCase(),p="moe1234";try{return await Ue.post(ze.userByEmail(N)+"/password",{password:p}),j(o=>o.map(H=>(H.email||"").toLowerCase()===N?{...H,password:p}:H)),console.log(" Admin reset password"),p}catch(o){throw console.error(" Admin password reset failed:",o),o}}async function O({name:Y,email:N,role:p="Teacher",password:o}){const H=String(N||"").trim().toLowerCase();if(!ei.test(H))throw new Error("Invalid email");const X=o&&String(o).trim().length>=4?String(o).trim():Math.random().toString(36).slice(2,10);try{const P=await Ue.post(ze.register,{email:H,password:X,role:String(p||"Teacher"),name:String(Y||"")});return j(se=>[P,...se]),console.log(" Admin created user"),{email:H,tempPassword:X}}catch(P){throw console.error(" Admin create user failed:",P),P}}async function _(Y){const N=String(Y||"").toLowerCase();try{await Ue.delete(ze.userByEmail(N)),j(p=>p.filter(o=>(o.email||"").toLowerCase()!==N)),m(p=>p&&(p.email||"").toLowerCase()===N?null:p),console.log(" Admin deleted user")}catch(p){throw console.error(" Admin delete failed:",p),p}}const Q=O;return F.useEffect(()=>{b?.role==="Admin"&&ae().catch(Y=>console.error("Failed to load users:",Y))},[b?.role]),s.jsx(Cf.Provider,{value:{user:b,users:d,fetchAllUsers:ae,register:w,login:g,logout:E,updateProfile:D,adminUpdateUser:ee,requestPasswordReset:S,confirmPasswordReset:K,requestEmailVerification:x,confirmEmailVerification:U,adminResetPassword:L,adminDeleteUser:_,adminCreateUser:O,adminAddUser:Q},children:u})}const Af=F.createContext(null),Qe=()=>F.useContext(Af);function jx({children:u}){const[b,m]=F.useState([]),[d,j]=F.useState([]),[w,g]=F.useState([]),[E,D]=F.useState([]),[k,M]=F.useState([]),[C,h]=F.useState([]),[x,U]=F.useState([]),[S,K]=F.useState({candidates:!0,courses:!0,mentors:!0,notifications:!1,corrections:!1,audit:!1}),[ae,ee]=F.useState(()=>{try{return localStorage.getItem("fg.userName")||""}catch{return""}});F.useEffect(()=>{try{localStorage.setItem("fg.userName",ae)}catch{}},[ae]);async function L(){try{K(V=>({...V,candidates:!0}));const v=await Ue.get(ze.candidates);m(v||[]),console.log(" Loaded candidates from server")}catch(v){console.error(" Failed to load candidates:",v),m([])}finally{K(v=>({...v,candidates:!1}))}}async function O(v){try{const V=await Ue.post(ze.candidates,v);return m(W=>[V,...W]),console.log(" Added candidate"),V}catch(V){throw console.error(" Failed to add candidate:",V),V}}async function _(v,V){try{const W=await Ue.put(ze.candidateById(v),V);return m(pe=>pe.map(De=>De.id===v?W:De)),console.log(" Updated candidate"),W}catch(W){throw console.error(" Failed to update candidate:",W),W}}async function Q(v){try{await Ue.delete(ze.candidateById(v)),m(V=>V.filter(W=>W.id!==v)),console.log(" Deleted candidate")}catch(V){throw console.error(" Failed to delete candidate:",V),V}}async function Y(){try{K(V=>({...V,courses:!0}));const v=await Ue.get(ze.courses);j(v||[]),console.log(" Loaded courses from server")}catch(v){console.error(" Failed to load courses:",v),j([])}finally{K(v=>({...v,courses:!1}))}}async function N(v){try{const V=await Ue.post(ze.courses,v);return j(W=>[V,...W]),console.log(" Added course"),V}catch(V){throw console.error(" Failed to add course:",V),V}}async function p(v,V){try{const W=await Ue.put(ze.courseById(v),V);return j(pe=>pe.map(De=>De.id===v?W:De)),console.log(" Updated course"),W}catch(W){throw console.error(" Failed to update course:",W),W}}async function o(v){try{await Ue.delete(ze.courseById(v)),j(V=>V.filter(W=>W.id!==v)),console.log(" Deleted course")}catch(V){throw console.error(" Failed to delete course:",V),V}}async function H(){try{K(V=>({...V,mentors:!0}));const v=await Ue.get(ze.mentors);g(v||[]),console.log(" Loaded mentors from server")}catch(v){console.error(" Failed to load mentors:",v),g([])}finally{K(v=>({...v,mentors:!1}))}}async function X(v){try{const V=await Ue.post(ze.mentors,v);return g(W=>[V,...W]),console.log(" Added mentor"),V}catch(V){throw console.error(" Failed to add mentor:",V),V}}async function P(v,V){try{const W=await Ue.put(ze.mentorById(v),V);return g(pe=>pe.map(De=>De.id===v?W:De)),console.log(" Updated mentor"),W}catch(W){throw console.error(" Failed to update mentor:",W),W}}async function se(v){try{await Ue.delete(ze.mentorById(v)),g(V=>V.filter(W=>W.id!==v)),console.log(" Deleted mentor")}catch(V){throw console.error(" Failed to delete mentor:",V),V}}function I(v,{type:V,title:W,body:pe,targetRef:De={}}){const Jl={id:`NTF-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,ts:new Date().toISOString(),to:v,type:V,title:W,body:pe,target:De,read:!1};D(tl=>[Jl,...tl])}function z(v){return(E||[]).filter(V=>V.to?.email&&v?.email&&V.to.email.toLowerCase()===v.email.toLowerCase()||V.to?.role&&v?.role&&V.to.role===v.role)}function J(v){D(V=>V.map(W=>W.id===v?{...W,read:!0}:W))}function te(v){D(V=>V.map(W=>W.to?.email?.toLowerCase()===v?.email?.toLowerCase()||W.to?.role===v?.role?{...W,read:!0}:W))}function ue(v,V){const W={id:`E-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,type:v,payload:V,ts:new Date().toISOString()};h(pe=>[W,...pe])}async function de(v){try{await Ue.put(ze.candidateById(v.id),v),console.log(" Synced candidate to server")}catch(V){console.error(" Failed to sync candidate:",V)}}async function Me(v){try{await Ue.put(ze.courseById(v.id),v),console.log(" Synced course to server")}catch(V){console.error(" Failed to sync course:",V)}}async function ye(v){try{await Ue.put(ze.mentorById(v.id),v),console.log(" Synced mentor to server")}catch(V){console.error(" Failed to sync mentor:",V)}}return F.useEffect(()=>{L(),Y(),H()},[]),s.jsx(Af.Provider,{value:{candidates:b,courses:d,mentors:w,notifications:E,corrections:k,audit:C,publicNews:x,userName:ae,loading:S,fetchCandidates:L,addCandidate:O,updateCandidate:_,deleteCandidate:Q,setCandidates:m,syncCandidate:de,fetchCourses:Y,addCourse:N,updateCourse:p,deleteCourse:o,setCourses:j,syncCourse:Me,fetchMentors:H,addMentor:X,updateMentor:P,deleteMentor:se,setMentors:g,syncMentor:ye,notify:I,notificationsFor:z,markRead:J,markAllReadFor:te,logEvent:ue,setCorrections:M,setAudit:h,setUserName:ee,setPublicNews:U},children:u})}function Nx(){const{mentors:u,addMentor:b,updateMentor:m,deleteMentor:d}=Qe(),[j,w]=F.useState(null),[g,E]=F.useState(!1),[D,k]=F.useState({name:"",subject:"",email:"",contact:"",school:"",emirate:""});function M(){k({name:"",subject:"",email:"",contact:"",school:"",emirate:""}),w(null),E(!0)}function C(o){k({name:o.name||"",subject:o.subject||"",email:o.email||"",contact:o.contact||"",school:o.school||"",emirate:o.emirate||""}),w(o.id),E(!0)}function h(){j?(m(j,D),w(null)):b(D),k({name:"",subject:"",email:"",contact:"",school:"",emirate:""}),E(!1)}const[x,U]=F.useState(""),[S,K]=F.useState(""),[ae,ee]=F.useState(""),[L,O]=F.useState(""),_=Array.from(new Set((u||[]).map(o=>(o.school||"").trim()).filter(Boolean))).sort(),Q=Array.from(new Set((u||[]).map(o=>(o.emirate||"").trim()).filter(Boolean))).sort(),Y=Array.from(new Set((u||[]).map(o=>(o.subject||"").trim()).filter(Boolean))).sort(),N=(u||[]).filter(o=>{const H=x.trim().toLowerCase();return S&&String(o.school||"").trim()!==S||ae&&String(o.emirate||"").trim()!==ae||L&&String(o.subject||"").trim()!==L?!1:H?(o.name||"").toLowerCase().includes(H)||(o.email||"").toLowerCase().includes(H)||(o.school||"").toLowerCase().includes(H)||(o.subject||"").toLowerCase().includes(H):!0});function p(){const o=["Name","Subject","Email","Contact","School","Emirate"],H=N.map(J=>[J.name||"",J.subject||"",J.email||"",J.contact||"",J.school||"",J.emirate||""]),X=(J="")=>`"${String(J).replace(/"/g,'""')}"`,P=[o.map(X).join(","),...H.map(J=>J.map(X).join(","))].join(`\r
`),se=new Blob([P],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(se),z=document.createElement("a");z.href=I,z.download=`mentors-export-${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(z),z.click(),z.remove(),URL.revokeObjectURL(I)}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Mentors"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Manage mentor list and contact details."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{placeholder:"Search mentors",value:x,onChange:o=>U(o.target.value),className:"rounded-xl border px-3 py-2"}),s.jsxs("select",{className:"rounded-xl border px-3 py-2 text-sm",value:S,onChange:o=>K(o.target.value),children:[s.jsx("option",{value:"",children:"All schools"}),_.map(o=>s.jsx("option",{value:o,children:o},o))]}),s.jsxs("select",{className:"rounded-xl border px-3 py-2 text-sm",value:ae,onChange:o=>ee(o.target.value),children:[s.jsx("option",{value:"",children:"All emirates"}),Q.map(o=>s.jsx("option",{value:o,children:o},o))]}),s.jsxs("select",{className:"rounded-xl border px-3 py-2 text-sm",value:L,onChange:o=>O(o.target.value),children:[s.jsx("option",{value:"",children:"All subjects"}),Y.map(o=>s.jsx("option",{value:o,children:o},o))]}),s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:p,children:"Export"}),s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:M,children:"New mentor"})]})]}),s.jsx("div",{className:"rounded-2xl border bg-white p-4 shadow-sm overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-center",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Subject"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Email"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Contact"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"School"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Emirate"}),s.jsx("th",{className:"px-3 py-2 text-center",children:"Actions"})]})}),s.jsxs("tbody",{children:[N.map(o=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2 font-medium text-center",children:o.name}),s.jsx("td",{className:"px-3 py-2 text-center",children:o.subject||""}),s.jsx("td",{className:"px-3 py-2 text-center",children:o.email}),s.jsx("td",{className:"px-3 py-2 text-center",children:o.contact}),s.jsx("td",{className:"px-3 py-2 text-center",children:o.school}),s.jsx("td",{className:"px-3 py-2 text-center",children:o.emirate}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border px-3 py-1",onClick:()=>C(o),children:"Edit"}),s.jsx("button",{className:"rounded-lg border px-3 py-1 text-rose-600",onClick:()=>{window.confirm("Delete mentor?")&&d(o.id)},children:"Delete"})]})})]},o.id)),N.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-slate-500",children:"No mentors match your search."})})]})]})}),g&&s.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>E(!1)}),s.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white border p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:j?"Edit mentor":"Add mentor"}),s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:()=>E(!1),children:"Close"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("label",{children:["Name ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.name,onChange:o=>k({...D,name:o.target.value})})]}),s.jsxs("label",{children:["Subject ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.subject,onChange:o=>k({...D,subject:o.target.value})})]}),s.jsxs("label",{children:["Email ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.email,onChange:o=>k({...D,email:o.target.value})})]}),s.jsxs("label",{children:["Contact ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.contact,onChange:o=>k({...D,contact:o.target.value})})]}),s.jsxs("label",{children:["School ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.school,onChange:o=>k({...D,school:o.target.value})})]}),s.jsxs("label",{children:["Emirate ",s.jsx("input",{className:"w-full rounded-xl border px-3 py-2",value:D.emirate,onChange:o=>k({...D,emirate:o.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:()=>{k({name:"",subject:"",email:"",contact:"",school:"",emirate:""}),w(null),E(!1)},children:"Cancel"}),s.jsx("button",{className:"rounded-xl bg-indigo-600 text-white px-3 py-2",onClick:h,children:j?"Save":"Create"})]})]})]})]})]})}const Bt=(...u)=>u.filter(Boolean).join(" ");function Kl(u,b,m,d="Sheet1"){const w=[m.map(D=>D.label??D.key),...b.map(D=>m.map(k=>D[k.key]??""))],g=el.aoa_to_sheet(w),E=el.book_new();el.book_append_sheet(E,g,d),br(E,u)}function jr(u){return u==="Arabic"||u==="English"?"t2":u==="Computer Science"?"t3":"t1"}const Ef=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i,Tf=/^(?:\+9715\d{8}|05\d{8})$/;function _s(u,b){return(u||[]).filter(m=>m.active!==!1&&m.isRequired&&m.tracks?.includes(b))}function Nf(u,b){return(u||[]).find(m=>m.code===b)}const _a=[{id:"t1",name:"STEM Core",minAverage:70},{id:"t2",name:"Languages",minAverage:75},{id:"t3",name:"ICT",minAverage:70}];function El(u){return _a.find(b=>b.id===u)?.name||""}function Tl(u,b){if(!u)return null;const m=_s(b,u.trackId);if(!m.length)return null;let d=0,j=0;return m.forEach(w=>{const g=typeof w.weight=="number"&&w.weight>0?w.weight:1,E=(u.courseResults||[]).find(D=>D.code===w.code);E&&typeof E.score=="number"&&(d+=E.score*g,j+=g)}),j>0?Math.round(d/j*10)/10:null}function ti(u,b){const m=(u.courseResults||[]).find(j=>j.code===b.code);if(!m)return!1;const d=typeof b.passThreshold=="number"?b.passThreshold:70;return Number(m.score)>=d}function Sx(u){return{Imported:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-100",Eligible:"bg-sky-100 text-sky-800 dark:bg-sky-700 dark:text-sky-100",Assigned:"bg-indigo-100 text-indigo-800 dark:bg-indigo-700 dark:text-indigo-100","In Training":"bg-amber-100 text-amber-800 dark:bg-amber-700 dark:text-amber-100","Courses Completed":"bg-emerald-100 text-emerald-800 dark:bg-emerald-700 dark:text-emerald-100",Assessed:"bg-teal-100 text-teal-800 dark:bg-teal-700 dark:text-teal-100",Graduated:"bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100","Ready for Hiring":"bg-lime-100 text-lime-800 dark:bg-lime-700 dark:text-lime-100","Hired/Closed":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100","On Hold":"bg-orange-100 text-orange-800 dark:bg-orange-700 dark:text-orange-100",Withdrawn:"bg-rose-100 text-rose-800 dark:bg-rose-700 dark:text-rose-100",Rejected:"bg-red-100 text-red-800 dark:bg-red-700 dark:text-red-100"}[u]||"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-100"}function Bs(u){const b=[];let m="",d=[],j=!1;for(let w=0;w<u.length;w++){const g=u[w];if(g==='"')j&&u[w+1]==='"'?(m+='"',w++):j=!j;else if(g===","&&!j)d.push(m),m="";else{const E=g.charCodeAt(0);!j&&(E===10||E===13)?(d.push(m),b.push(d.slice()),m="",d.length=0,E===13&&u.charCodeAt(w+1)===10&&w++):m+=g}}return(m!==" "||d.length)&&(d.push(m),b.push(d)),b.filter(w=>w.length&&w.some(g=>g!==""))}function Sf(u,b,m){if(String(u).toUpperCase()==="INTERN")return"Required";const d=(m||[]).find(w=>w.code===u);return d&&!!d.isRequired&&(d.tracks||[]).includes(b.trackId)?"Required":"Optional"}function wx(u){const b={Imported:0,Eligible:0,Assigned:1,"On Hold":1,"In Training":2,"Courses Completed":2,Assessed:2,Graduated:3,"Ready for Hiring":4,"Hired/Closed":4,Withdrawn:0,Rejected:0};return u in b?b[u]:0}function Cx({intern:u,onChange:b}){const{mentors:m}=Qe(),d=u.mentorId||"";function j(w){const g=(m||[]).find(E=>E.id===w);if(!g)return b({mentorId:"",mentorName:"",mentorEmail:"",mentorContact:"",schoolName:"",schoolEmirate:""});b({mentorId:g.id,mentorName:g.name,mentorEmail:g.email,mentorContact:g.contact,schoolName:g.school,schoolEmirate:g.emirate})}return s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm",children:["Assigned mentor",s.jsxs("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:d,onChange:w=>j(w.target.value),children:[s.jsx("option",{value:"",children:"Select mentor"}),(m||[]).map(w=>s.jsxs("option",{value:w.id,children:[w.name,"  ",w.school," (",w.emirate,")"]},w.id))]})]}),u.schoolName&&s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Assigned school: ",u.schoolName,"  ",u.schoolEmirate]})]})}function Al({label:u,value:b}){return s.jsxs("div",{className:"rounded-2xl border p-3 panel",children:[s.jsx("div",{className:"text-xs uppercase text-slate-500 tracking-wide",children:u}),s.jsx("div",{className:"font-medium",children:b})]})}function Oa({title:u,children:b}){return s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"font-semibold mb-2",children:u}),b]})}function Ax({open:u,onClose:b,candidate:m,role:d,generateCandidatePDF:j,logEvent:w,notify:g}){const{user:E}=rt(),D=E?.name||E?.email||"User",{candidates:k,setCandidates:M,updateCandidate:C,syncCandidate:h,corrections:x,setCorrections:U,courses:S}=Qe(),K=F.useCallback(async v=>{M(V=>V.map(W=>W.id===m.id?{...W,...v}:W));try{const V={...m,...v};await h(V)}catch(V){console.error("Failed to sync candidate update:",V)}},[M,h,m]);function ae(v){const V=String(v||"").toLowerCase();return V.includes("assign")||V.includes("in training")||V.includes("enroll")||V.includes("progress")}const ee=F.useCallback(()=>{if(!m||!ae(m.status))return;const v=Array.isArray(m.enrollments)?m.enrollments.slice():[];if(v.some(De=>De?.isInternship||De?.code==="INTERN"||/^internship$/i.test(String(De?.title||""))))return;const W=new Date().toISOString().slice(0,10),pe={id:`ENR-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,code:"INTERN",title:"INTERNSHIP",cohort:"",startDate:W,endDate:"",status:"In Progress",assignedBy:"System",assignedTs:new Date().toISOString(),isInternship:!0,required:!0,type:"Required",mentorName:"",mentorEmail:"",mentorContact:"",schoolName:"",schoolEmirate:"",passState:"Not Started"};K({enrollments:[pe,...v]});try{w?.("internship_assigned",{candidateId:m.id,ts:new Date().toISOString()})}catch{}try{g?.({to:{role:"Admin"},type:"internship_assigned",title:"INTERNSHIP auto-assigned",body:`Internship created for ${m.name||m.email}`,target:{page:"candidates",candidateId:m.id}})}catch{}},[m,K,w,g]);F.useEffect(()=>{try{ee()}catch{}},[ee]);const L=m?Tl(m,S):null,[O,_]=F.useState({name:"",email:"",emirate:"",subject:"",gpa:0,mobile:""}),[Q,Y]=F.useState(""),[N,p]=F.useState(""),[o,H]=F.useState(""),[X,P]=F.useState({code:"",cohort:"",startDate:"",endDate:""});if(F.useEffect(()=>{m&&(_({name:m.name||"",email:m.email||"",emirate:m.emirate||"",subject:m.subject||"",gpa:m.gpa||0,mobile:m.mobile||""}),Y(""),p(""),H(""),P({code:"",cohort:"",startDate:"",endDate:""}))},[m]),!m)return null;const se=_s(S,m.trackId),I=(S||[]).filter(v=>v.active!==!1&&(!v.tracks?.includes(m.trackId)||!v.isRequired));function z(){j(m,S,D);try{w?.("candidate_pdf_generated",{id:m.id,ts:new Date().toISOString()})}catch{}}function J(){const v=Q.trim();if(!v)return;const V={id:`N-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,by:D,role:d,text:v,ts:new Date().toISOString()},W=Array.isArray(m.notesThread)?m.notesThread.slice():[];W.unshift(V),K({notesThread:W}),Y(""),w?.("note_added",{candidateId:m.id,by:D,role:d,ts:V.ts})}function te(v){K({status:v});try{w?.("candidate_status_changed",{id:m.id,status:v,ts:new Date().toISOString()})}catch{}}function ue(){if(!X.code){alert("Select a course.");return}const v=Nf(S,X.code),V={id:`ENR-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,code:X.code,title:v?.title||X.code,cohort:(X.cohort||"").trim(),startDate:X.startDate||"",endDate:X.endDate||"",status:"Enrolled",assignedBy:D,assignedTs:new Date().toISOString()},W=Array.isArray(m.enrollments)?m.enrollments.slice():[];if(W.some(De=>De.code===V.code&&De.status!=="Withdrawn")&&!window.confirm("This course is already assigned (or active). Add another anyway?"))return;W.unshift(V);const pe=m.status==="Imported"||m.status==="Eligible"?"Assigned":m.status;K({enrollments:W,status:pe}),P({code:"",cohort:"",startDate:"",endDate:""});try{w?.("enrollment_added",{candidateId:m.id,code:V.code,ts:V.assignedTs})}catch{}}function de(v,V){const W=(m.enrollments||[]).map(pe=>pe.id===v?{...pe,...V}:pe);K({enrollments:W});try{w?.("enrollment_updated",{candidateId:m.id,id:v,ts:new Date().toISOString()})}catch{}}function Me(v){if(!window.confirm("Remove this enrollment?"))return;const V=(m.enrollments||[]).filter(W=>W.id!==v);K({enrollments:V});try{w?.("enrollment_removed",{candidateId:m.id,id:v,ts:new Date().toISOString()})}catch{}}return x.filter(v=>v.candidateId===m.id).filter(v=>v.forRole==="ECAE Trainer"&&v.status==="Pending"),s.jsx(Mt,{children:u&&s.jsxs(Ee.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:b}),s.jsxs(Ee.aside,{initial:{x:480},animate:{x:0},exit:{x:480},className:"absolute right-0 top-0 h-full w-full max-w-xl panel shadow-xl p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold",children:[m.name," ",s.jsxs("span",{className:"text-slate-400 text-sm",children:["(",m.id,")"]})]}),s.jsxs("div",{className:"text-slate-500 text-sm",children:[m.email,"  ",m.mobile]})]}),s.jsx("button",{onClick:b,className:"rounded-xl border px-3 py-1",children:"Close"})]}),s.jsx(Oa,{title:"Actions",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:z,children:"Download PDF"})})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[s.jsx(Al,{label:"National ID",value:m.nationalId}),s.jsx(Al,{label:"Emirate",value:m.emirate}),s.jsx(Al,{label:"Subject",value:m.subject}),s.jsx(Al,{label:"GPA",value:Number(m.gpa).toFixed(2)}),s.jsx(Al,{label:"Track",value:El(m.trackId)}),s.jsx(Al,{label:"Status",value:s.jsx("select",{className:"rounded-lg border px-3 py-2 w-48 text-sm",value:m.status,onChange:v=>te(v.target.value),children:["Imported","Eligible","Assigned","In Training","Courses Completed","Assessed","Graduated","Ready for Hiring","Hired/Closed","On Hold","Withdrawn","Rejected"].map(v=>s.jsx("option",{value:v,children:v},v))})}),s.jsx(Al,{label:"Final Average",value:L??""}),s.jsx(Al,{label:"Sponsor",value:s.jsxs("select",{className:"rounded-lg border px-3 py-2 w-48 text-sm",value:m.sponsor||"",onChange:v=>K({sponsor:v.target.value}),children:[s.jsx("option",{value:"",children:"Select sponsor"}),["MOE","Mawaheb","MBZUH"].map(v=>s.jsx("option",{value:v,children:v},v))]})})]}),s.jsxs(Oa,{title:"Training Assignments",children:[s.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:["Required for ",El(m.trackId),": ",se.length?se.map(v=>v.code).join(", "):""]}),s.jsxs("div",{className:"rounded-2xl border p-3 mb-3",children:[s.jsx("div",{className:"font-medium mb-2",children:"Add Enrollment"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("label",{children:["Course",s.jsxs("select",{className:"w-full rounded border px-2 py-1",value:X.code,onChange:v=>P({...X,code:v.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),se.length>0&&s.jsx("optgroup",{label:"Required",children:se.map(v=>s.jsxs("option",{value:v.code,children:[v.code,"  ",v.title]},v.code))}),I.length>0&&s.jsx("optgroup",{label:"Other",children:I.map(v=>s.jsxs("option",{value:v.code,children:[v.code,"  ",v.title]},v.code))})]})]}),s.jsxs("label",{children:["Cohort ",s.jsx("input",{className:"w-full rounded border px-2 py-1",placeholder:"e.g., Cohort A",value:X.cohort,onChange:v=>P({...X,cohort:v.target.value})})]}),s.jsxs("label",{children:["Start date ",s.jsx("input",{type:"date",className:"w-full rounded border px-2 py-1",value:X.startDate,onChange:v=>P({...X,startDate:v.target.value})})]}),s.jsxs("label",{children:["End date ",s.jsx("input",{type:"date",className:"w-full rounded border px-2 py-1",value:X.endDate,onChange:v=>P({...X,endDate:v.target.value})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:ue,children:"Assign to Training"}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Assigning updates status to ",s.jsx("b",{children:"Assigned"})," if earlier stage."]})]})]}),s.jsx("div",{className:"rounded-2xl border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Course"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Cohort"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Dates"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Actions"})]})}),s.jsx("tbody",{children:(m.enrollments||[]).length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,children:s.jsx("div",{className:"p-3 text-slate-500",children:"No enrollments yet."})})}):(m.enrollments||[]).map(v=>{const V=Nf(S,v.code),W=V?ti(m,V):!1;return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{children:[s.jsx("div",{className:"font-medium",children:v.code}),s.jsx("div",{className:"text-xs text-slate-500",children:v.title}),W&&s.jsxs("div",{className:"text-xs text-emerald-700 mt-1",children:["Passed ( ",V?.passThreshold??70,")"]})]}),s.jsx("td",{children:v.cohort||""}),s.jsxs("td",{children:[s.jsxs("div",{children:[v.startDate||"","  ",v.endDate||""]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Assigned by ",v.assignedBy,"  ",new Date(v.assignedTs).toLocaleString()]})]}),s.jsx("td",{children:s.jsx("select",{className:"rounded border px-2 py-1",value:v.status,onChange:pe=>de(v.id,{status:pe.target.value}),children:["Enrolled","In Progress","Completed","Withdrawn"].map(pe=>s.jsx("option",{value:pe,children:pe},pe))})}),s.jsx("td",{children:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:()=>Me(v.id),children:"Remove"})})})]},v.id)})})]})})]}),s.jsx(Oa,{title:"Internship (Mandatory)",children:(()=>{const v=(m.enrollments||[]).find(W=>W?.isInternship||W?.code==="INTERN"||/^internship$/i.test(String(W?.title||"")));if(!v)return s.jsx("div",{className:"text-sm text-slate-600",children:"Internship will be auto-assigned when the candidate enters training (Assigned / In Training / Enrolled / In Progress)."});function V(W){de(v.id,W)}return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(Cx,{intern:v,onChange:V}),s.jsxs("label",{className:"text-sm",children:["Passing state",s.jsxs("select",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:v.passState||"Not Started",onChange:W=>V({passState:W.target.value}),children:[s.jsx("option",{children:"Not Started"}),s.jsx("option",{children:"In Progress"}),s.jsx("option",{children:"Passed"}),s.jsx("option",{children:"Failed"})]})]}),s.jsxs("label",{className:"text-sm",children:["Start date",s.jsx("input",{type:"date",className:"mt-1 w-full rounded-xl border px-3 py-2",value:v.startDate||"",onChange:W=>V({startDate:W.target.value})})]}),s.jsxs("label",{className:"text-sm",children:["End date",s.jsx("input",{type:"date",className:"mt-1 w-full rounded-xl border px-3 py-2",value:v.endDate||"",onChange:W=>V({endDate:W.target.value})})]})]})})()}),s.jsx(Oa,{title:"Courses (Results from ECAE)",children:s.jsx("div",{className:"rounded-2xl border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Code"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Title"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Score"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Pass"}),s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:"Date"})]})}),s.jsx("tbody",{children:(m.courseResults||[]).map((v,V)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{children:v.code}),s.jsx("td",{children:v.title}),s.jsx("td",{children:v.score}),s.jsx("td",{children:v.pass?"Yes":"No"}),s.jsx("td",{children:v.date})]},V))})]})})}),s.jsx(Oa,{title:"Notes (timeline)",children:s.jsxs("div",{className:"rounded-xl border p-3 space-y-3",children:[s.jsx("div",{className:"space-y-2",children:(m.notesThread||[]).length===0?s.jsx("div",{className:"text-sm text-slate-500",children:"No notes yet."}):s.jsx("ul",{className:"space-y-2",children:m.notesThread.map(v=>s.jsxs("li",{className:"border rounded-lg p-2",children:[s.jsxs("div",{className:"text-xs text-slate-500",children:[v.by,"  ",v.role,"  ",new Date(v.ts).toLocaleString()]}),s.jsx("div",{className:"text-sm mt-1",children:v.text})]},v.id))})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{className:"w-full rounded-xl border p-3",rows:3,value:Q,onChange:v=>Y(v.target.value),placeholder:"Add a note (your name and time will be recorded)"}),s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:J,children:"Add Note"})]})]})}),s.jsx(Oa,{title:"Data Corrections / Clarifications",children:d==="Admin"?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("div",{className:"font-medium mb-2",children:"Requests"}),s.jsx("div",{className:"text-sm text-slate-500",children:"(moved to parent)"})]})}):s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"rounded-2xl border p-3",children:[" ",s.jsx("div",{className:"font-medium mb-2",children:"Clarifications"}),s.jsx("div",{className:"text-sm text-slate-500",children:"(moved to parent)"})]})})})]})]})})}const Ex="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='120'%20height='120'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%234f46e5'%20strokeWidth='1.5'%20strokeLinecap='round'%20strokeLinejoin='round'%3e%3crect%20x='3'%20y='3'%20width='18'%20height='14'%20rx='2'%20ry='2'%20fill='%23eef2ff'%20/%3e%3cpath%20d='M8%2021v-4a2%202%200%200%201%202-2h4'%20stroke='%234338ca'/%3e%3ccircle%20cx='16'%20cy='8'%20r='2'%20fill='%23c7d2fe'%20stroke='%234338ca'/%3e%3c/svg%3e",Tx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='120'%20height='120'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23059669'%20strokeWidth='1.5'%20strokeLinecap='round'%20strokeLinejoin='round'%3e%3crect%20x='2'%20y='6'%20width='20'%20height='12'%20rx='2'%20ry='2'%20fill='%23ecfdf5'%20/%3e%3cpath%20d='M8%2010h8M8%2014h5'%20stroke='%23047857'/%3e%3ccircle%20cx='6'%20cy='9'%20r='1'%20fill='%23bbf7d0'%20stroke='%23047857'/%3e%3c/svg%3e",Dx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='120'%20height='120'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23ef4444'%20strokeWidth='1.5'%20strokeLinecap='round'%20strokeLinejoin='round'%3e%3crect%20x='3'%20y='4'%20width='18'%20height='14'%20rx='2'%20ry='2'%20fill='%23fff1f2'%20/%3e%3cpath%20d='M7%2012h10M7%208h10'%20stroke='%23dc2626'/%3e%3ccircle%20cx='18'%20cy='7'%20r='1'%20fill='%23fecaca'%20stroke='%23dc2626'/%3e%3c/svg%3e";function Mx({role:u,onOpenCandidate:b,onEditCandidate:m}){const{candidates:d,setCandidates:j,logEvent:w,courses:g}=Qe(),[E,D]=F.useState(""),[k,M]=F.useState(""),C=F.useMemo(()=>d.filter(x=>{const U=E.toLowerCase(),S=String(x.id).toLowerCase().includes(U)||String(x.name).toLowerCase().includes(U)||String(x.email).toLowerCase().includes(U)||String(x.subject).toLowerCase().includes(U)||String(x.emirate).toLowerCase().includes(U),K=!k||x.status===k;return S&&K}),[E,k,d]);function h(x){window.confirm("Delete this candidate? This cannot be undone.")&&(j(U=>U.filter(S=>S.id!==x)),w("candidate_deleted",{id:x,ts:new Date().toISOString()}))}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:E,onChange:x=>D(x.target.value),placeholder:"Search ID, name, email, subject, emirate",className:"w-80 rounded-xl border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-200"}),s.jsxs("select",{value:k,onChange:x=>M(x.target.value),className:"rounded-xl border px-3 py-2",children:[s.jsx("option",{value:"",children:"All statuses"}),["Imported","Eligible","Assigned","In Training","Courses Completed","Assessed","Graduated","Ready for Hiring","Hired/Closed","On Hold","Withdrawn","Rejected"].map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsx("div",{className:"flex gap-2"})]}),s.jsx("div",{className:"rounded-2xl border panel shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm table-auto",children:[s.jsx("thead",{className:"bg-slate-50 sticky top-0",children:s.jsxs("tr",{className:"text-center",children:[s.jsx("th",{className:"px-4 py-3 text-center",children:"ID"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Subject"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Emirate"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"GPA"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Final Avg"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Sponsor"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:s.jsx(Mt,{children:C.map((x,U)=>s.jsxs(Ee.tr,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.16,delay:U*.01},className:Bt("border-t hover:bg-slate-50 transform-gpu transition",U%2===0?"bg-white":"bg-slate-50/50"),children:[s.jsx("td",{className:"px-4 py-3 text-center",children:x.id}),s.jsx("td",{className:"px-4 py-3 text-center",children:x.name}),s.jsx("td",{className:"px-4 py-3 text-center",children:x.subject}),s.jsx("td",{className:"px-4 py-3 text-center",children:x.emirate}),s.jsx("td",{className:"px-4 py-3 text-center",children:Number(x.gpa).toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:Bt("px-2 py-1 rounded-full text-xs inline-block",Sx(x.status)),children:x.status})}),s.jsx("td",{className:"px-4 py-3 text-center",children:Tl(x,g)??""}),s.jsx("td",{className:"px-4 py-3 text-center",children:x.sponsor||""}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:()=>b?.(x.id),className:"text-indigo-600 hover:underline",children:"Open"}),u==="Admin"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>m?.(x.id),className:"text-slate-700 hover:underline",children:"Edit"}),s.jsx("button",{onClick:()=>h(x.id),className:"text-rose-600 hover:underline",children:"Delete"})]})]})})]},x.id))})})]})})})]})}const Df=["Abu Dhabi","Dubai","Sharjah","Ajman","Umm Al Quwain","Ras Al Khaimah","Fujairah"],Mf=["Mathematics","Science","Physics","Chemistry","Biology","Arabic","English","Computer Science"];function Rx(u,b,m,d,j,w){const g=j.length;if(g<2)return;const E=d/(g-1),D=m,k=5;u.setLineWidth(1),u.setDrawColor(200,205,212),u.line(b,D,b+d,D),u.setDrawColor(30,41,59);const M=b+E*w;u.line(b,D,M,D);for(let C=0;C<g;C++){const h=b+C*E,x=C<=w;u.setDrawColor(30,41,59),x?(u.setFillColor(30,41,59),u.circle(h,D,k,"FD")):(u.setFillColor(255,255,255),u.circle(h,D,k,"S")),u.setFontSize(9),u.setTextColor(71,85,105),u.text(j[C],h,D+14,{align:"center"})}u.setFontSize(9),u.setTextColor(30,41,59),u.text("YOU ARE HERE",b+E*w,D-8,{align:"center"})}function Rf(u,b,m){const d=window.jspdf?.jsPDF||window.jsPDF?.jsPDF;if(!d){alert("PDF export requires jsPDF + AutoTable. Add the CDN scripts in index.html.");return}const j=new d("p","pt","a4"),w=j.internal.pageSize.getWidth(),g=36,E=new Date().toLocaleString();j.setFillColor(15,23,42),j.rect(0,0,w,72,"F"),j.setTextColor(255,255,255),j.setFontSize(16),j.text("FreshGrad Training Tracker  Candidate Report",g,32),j.setFontSize(10),j.text(`Generated ${E} by ${m||"User"}`,g,52);let D=96;j.setTextColor(17,24,39),j.setFontSize(13),j.text("Candidate Overview",g,D),D+=10;const k=Tl(u,b),M=[["Candidate Name",u.name],["Candidate ID",u.id],["Status",u.status],["Track",El(u.trackId)],["Subject",u.subject],["Emirate",u.emirate],["GPA",String(Number(u.gpa).toFixed(2))],["Final Average",k==null?"":String(k)],["Email",u.email],["Mobile",u.mobile],["National ID",u.nationalId||""]];(function(){const O=String(u.status||"").toLowerCase(),_=O.includes("train")||O.includes("progress")||O.includes("assign")||O.includes("enroll"),Q=(u.enrollments||[]).filter(p=>String(p.status||"").toLowerCase()!=="withdrawn"),Y=Q.length,N=Q.filter(p=>String(p.status||"").toLowerCase()==="completed").length;if(_&&Y>0){const p=Math.round(N/Y*100);M.push(["Training Progress",`${p}% (${N} of ${Y})`])}})(),j.setFontSize(11);const C=g+260;let h=D+10,x=D+10;M.forEach((O,_)=>{const[Q,Y]=O,N=_%2===0?g:C,p=_%2===0?h:x;j.setTextColor(100,116,139),j.text(Q,N,p),j.setTextColor(15,23,42),j.text(String(Y),N,p+14),_%2===0?h+=36:x+=36}),D=Math.max(h,x)+8;const U=["Imported","Assigned","In Training","Graduated","Ready for Hiring"],S=wx(u.status);Rx(j,g,D+8,w-g*2,U,S),D+=48;function K(O){return j.autoTable?(j.autoTable(O),j.lastAutoTable?.finalY||O.startY):window.jspdf?.autoTable?(window.jspdf.autoTable(j,O),j.lastAutoTable?.finalY||O.startY):O.startY}j.setTextColor(17,24,39),j.setFontSize(12),j.text("Courses in Progress",g,D),D+=10;const ae=(u.enrollments||[]).filter(O=>(O.status||"Enrolled")!=="Completed"&&(O.status||"")!=="Withdrawn").map(O=>{const _=(b||[]).find(Y=>Y.code===O.code),Q=O.isInternship||String(O.code).toUpperCase()==="INTERN"||/internship/i.test(O.title||"")||O.required||O.type==="Required"?"Required":Sf(O.code,u,b);return[O.code,O.title||_?.title||"",O.cohort||"",O.startDate||"",O.endDate||"",O.status||"Enrolled",Q]});ae.length?D=K({startY:D,head:[["Course ID","Title","Cohort","Start","End","Status","Type"]],body:ae,theme:"grid",styles:{fontSize:9,cellPadding:5},headStyles:{fillColor:[15,23,42],textColor:255},margin:{left:g,right:g}})+30:(D+=10,j.setFontSize(10),j.setTextColor(100,116,139),j.text("No courses currently in progress.",g,D),D+=25),j.setTextColor(17,24,39),j.setFontSize(12),j.text("Courses Completed",g,D),D+=10;const ee=(u.courseResults||[]).map(O=>{const _=(u.enrollments||[]).find(N=>N.code===O.code),Q=(b||[]).find(N=>N.code===O.code),Y=String(O.code).toUpperCase()==="INTERN"?"Required":Sf(O.code,u,b);return[O.code,O.title||Q?.title||"",_?.cohort||"",typeof O.score=="number"?String(O.score):"",O.pass?"Yes":"No",O.date||"",Y]});ee.length?D=K({startY:D,head:[["Course ID","Title","Cohort","Score","Pass","Completion Date","Type"]],body:ee,theme:"grid",styles:{fontSize:9,cellPadding:5},headStyles:{fillColor:[15,23,42],textColor:255},margin:{left:g,right:g}})+18:(j.setFontSize(10),j.setTextColor(100,116,139),j.text("No completed courses recorded.",g,D),D+=18),(function(){const O=(u.enrollments||[]).find(Q=>Q?.isInternship||Q?.code==="INTERN"||/internship/i.test(String(Q?.title||"")));if(j.setTextColor(17,24,39),j.setFontSize(12),j.text("Mentor details",g,D),D+=10,!O){j.setFontSize(10),j.setTextColor(100,116,139),j.text("No internship assigned.",g,D),D+=18,j.setTextColor(17,24,39);return}const _=[["Mentor name",String(O.mentorName||"")],["Mentor email",String(O.mentorEmail||"")],["Mentor contact",String(O.mentorContact||"")],["Assigned school",String(O.schoolName||"")],["School emirate",String(O.schoolEmirate||"")]];D=K({startY:D,head:[["Field","Value"]],body:_,theme:"grid",styles:{fontSize:9,cellPadding:5},headStyles:{fillColor:[15,23,42],textColor:255},margin:{left:g,right:g}})+18})();const L=String(u.name||"").replace(/\s+/g,"_");j.save(`${u.id}-${L}.pdf`)}function zx(){const u=["Full Name","Subject","GPA","Emirate","Email","Mobile","National ID","Source Batch"],b=[["Sara Ahmed","Mathematics","3.75","Dubai","sara.ahmed@example.ae","0501234567","784-XXXX-XXXXXXX-0","Batch A"],["Omar Ali","Arabic","3.20","Sharjah","omar.ali@example.ae","0507654321","784-YYYY-YYYYYYY-1","Batch A"]],m=d=>`"${String(d).replace(/"/g,'""')}"`;return[u,...b].map(d=>d.map(m).join(",")).join(`
`)}function Ux({filename:u,buildCSV:b}){const[m,d]=F.useState("");return F.useEffect(()=>{try{const j=new Blob(["\uFEFF"+b()],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(j);return d(w),()=>URL.revokeObjectURL(w)}catch{d("data:text/csv;charset=utf-8,"+encodeURIComponent(`Full Name,Subject,GPA,Emirate,Email,Mobile,National ID,Source Batch
`))}},[b]),s.jsx("a",{href:m,download:u,className:"rounded-xl border px-4 py-2 inline-flex items-center justify-center",children:"Download Template"})}const Ox=[{id:"dashboard",label:"Dashboard"},{id:"candidates",label:"Candidates"},{id:"courses",label:"Courses"},{id:"enrollment",label:"Course Enrollment"},{id:"import",label:"Import Candidates"},{id:"results",label:"Upload Results (ECAE)"},{id:"graduation",label:"Graduation Review"},{id:"exports",label:"Exports"},{id:"applicants",label:"Applicants"},{id:"hiring",label:"Hiring Tracker"},{id:"mentors",label:"Mentors"},{id:"users",label:"Platform Users"},{id:"settings",label:"Settings"}],qx={Admin:["dashboard","candidates","courses","import","results","graduation","applicants","exports","settings","users","hiring","enrollment","mentors"],"ECAE Manager":["dashboard","candidates","courses","results","graduation","applicants","hiring","enrollment","mentors"],"ECAE Trainer":["candidates","courses","results","enrollment"],Auditor:["dashboard","candidates"]},_x=["Graduated","Screening","Interview","Offer Made","Offer Accepted","Background Check","Contract Signed","Assigned School","On Hold","Rejected/Closed"];function Bx(){const{user:u}=rt(),{notificationsFor:b,markRead:m,markAllReadFor:d,setUserName:j}=Qe(),[w,g]=F.useState(!1),[E,D]=F.useState(()=>{try{return localStorage.getItem("fg_theme")==="dark"}catch{return!1}});F.useEffect(()=>{try{localStorage.setItem("fg_theme",E?"dark":"light")}catch{}E?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[E]),F.useEffect(()=>{u&&j(u.name||u.email)},[u,j]);const k=b(u),M=k.filter(C=>!C.read).length;return s.jsx("div",{className:"sticky top-0 z-40 bg-white/90 panel backdrop-blur border-b",children:s.jsxs("div",{className:"px-4 md:px-8 py-3 flex items-center gap-3",children:[s.jsx("div",{}),s.jsx("div",{className:"font-semibold mr-auto flex items-center gap-2"}),s.jsx("div",{children:s.jsx("div",{role:"switch",tabIndex:0,"aria-checked":E,"aria-label":"Toggle theme",title:E?"Switch to light":"Switch to dark",onClick:()=>D(C=>!C),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),D(h=>!h))},onMouseDown:C=>{C.preventDefault(),document.documentElement.classList.add("suppress-focus")},onMouseUp:()=>{document.documentElement.classList.remove("suppress-focus")},onMouseLeave:()=>{document.documentElement.classList.remove("suppress-focus")},onTouchStart:C=>{C.preventDefault(),document.documentElement.classList.add("suppress-focus")},onTouchEnd:()=>{document.documentElement.classList.remove("suppress-focus")},className:"mr-2 focus:outline-none focus-visible:ring-0 select-none theme-toggle",children:s.jsx("div",{className:Bt("w-14 h-8 rounded-full flex items-center p-1 cursor-pointer relative overflow-hidden",E?"bg-slate-700":"bg-slate-100"),children:s.jsx(Ee.div,{animate:{x:E?24:0},transition:{type:"spring",stiffness:350,damping:28},className:"absolute left-1 top-1 h-6 w-6 rounded-full shadow-md flex items-center justify-center bg-white",tabIndex:-1,style:{willChange:"transform",pointerEvents:"none"},children:E?s.jsx(fx,{className:"h-4 w-4 text-slate-700"}):s.jsx(mx,{className:"h-4 w-4 text-amber-400"})})})})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"relative rounded-xl border px-3 py-1",onClick:()=>g(C=>!C),"aria-label":"Notifications",children:["",M>0&&s.jsx("span",{className:"absolute -top-1 -right-1 text-[10px] bg-rose-600 text-white rounded-full px-1",children:M})]}),w&&s.jsxs("div",{className:"absolute right-0 mt-2 w-[360px] max-h-[320px] overflow-auto rounded-2xl border bg-white panel shadow-lg text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[s.jsx("div",{className:"font-medium",children:"Notifications"}),s.jsx("button",{className:"text-xs underline",onClick:()=>{d(u)},children:"Mark all read"})]}),s.jsxs("ul",{className:"divide-y",children:[k.slice(0,20).map(C=>s.jsxs("li",{className:"px-3 py-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:C.title}),!C.read&&s.jsx("button",{className:"text-xs underline",onClick:()=>m(C.id),children:"Mark read"})]}),s.jsx("div",{className:"text-slate-600",children:C.body}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:new Date(C.ts).toLocaleString()})]},C.id)),!k.length&&s.jsx("li",{className:"px-3 py-4 text-slate-500",children:"No notifications."})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-200",children:u?.name||u?.email}),s.jsx("div",{children:s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-100",children:s.jsx("b",{children:u?.role})})})]}),s.jsx(Hx,{})]})]})})}function Hx(){const{logout:u}=rt();return s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:u,children:"Sign out"})}function kx({page:u,setPage:b}){const{user:m}=rt(),d=m?.role,j=qx[d]||[],{candidates:w,logEvent:g,notify:E}=Qe(),[D,k]=F.useState(""),[M,C]=F.useState(""),h=Ae.useMemo(()=>Array.isArray(w)?w.find(U=>String(U.id)===String(D)):null,[w,D]),x=Ae.useMemo(()=>Array.isArray(w)?w.find(U=>String(U.id)===String(M)):null,[w,M]);return s.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[s.jsxs("aside",{className:"hidden md:flex flex-col gap-3 border-r bg-white panel p-2 w-64",style:{boxSizing:"border-box"},children:[s.jsx("div",{className:"flex items-center gap-2 mb-2 px-2",children:s.jsx("button",{onClick:()=>b("dashboard"),className:"flex items-center gap-3 w-full text-left focus:outline-none",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-600 to-violet-600 flex items-center justify-center shadow-sm",children:s.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M3 4h6v6H3z M15 4h6v6h-6z M15 14h6v6h-6z M9 7h6 M9 7v10 M15 7v7"})})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-bold text-xl leading-tight text-slate-900 dark:text-white",children:"Talent Tracker"}),s.jsx("div",{className:"text-sm text-slate-600",children:"MOE - ECAE"})]})]})})}),s.jsx("nav",{className:"flex flex-col gap-1 px-1",children:(()=>{const U={dashboard:gf,candidates:pf,mentors:pf,courses:ox,enrollment:dx,import:ux,results:rx,graduation:cx,exports:ix,applicants:nx,hiring:sx,users:ax,settings:lx};return Ox.filter(S=>j.includes(S.id)).map(S=>{const K=U[S.id]||gf;return s.jsxs(Ee.button,{onClick:()=>b(S.id),title:S.label,layout:!0,whileHover:{scale:1.03},className:Bt("relative flex items-center gap-3 rounded-xl px-2 py-2 font-medium hover:bg-slate-100"),children:[s.jsx("span",{className:Bt("absolute left-0 top-1 bottom-1 w-1 rounded-r-md",u===S.id?"bg-emerald-500":"bg-transparent"),"aria-hidden":!0}),s.jsx("div",{className:Bt("h-8 w-8 rounded-lg panel flex items-center justify-center text-sm font-semibold bg-slate-100 text-slate-700"),children:s.jsx(K,{className:"h-5 w-5 text-slate-700"})}),s.jsx(Ee.span,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},className:"whitespace-nowrap",children:S.label},S.id+"-label")]},S.id)})})()}),s.jsx("div",{className:"mt-auto text-xs text-slate-400 px-2",children:s.jsxs("div",{className:"text-sm",children:["Role: ",d]})})]}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Bx,{}),s.jsxs("div",{className:"p-4 md:p-8",children:[s.jsx(Mt,{mode:"wait",children:s.jsxs(Ee.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:[u==="dashboard"&&s.jsx(Yx,{}),u==="applicants"&&s.jsx(cp,{}),u==="candidates"&&s.jsx(Mx,{role:d,onOpenCandidate:U=>k(U),onEditCandidate:U=>C(U)}),u==="enrollment"&&s.jsx(rp,{}),u==="courses"&&s.jsx(Gx,{role:d}),u==="import"&&s.jsx(Vx,{}),u==="results"&&s.jsx(Zx,{}),u==="graduation"&&s.jsx(Kx,{}),u==="exports"&&s.jsx(Jx,{}),u==="mentors"&&s.jsx(Nx,{}),u==="settings"&&s.jsx(Wx,{}),u==="users"&&s.jsx($x,{}),u==="hiring"&&s.jsx(Fx,{})]},u)}),s.jsx(Ax,{open:!!h,onClose:()=>k(""),candidate:h,role:d,generateCandidatePDF:Rf,logEvent:g,notify:E}),s.jsx(Qx,{open:!!x,candidate:x,onClose:()=>C("")})]})]})]})}const Ht=["var(--c1)","var(--c2)","var(--c3)","var(--c4)","var(--c5)","var(--c6)","var(--c7)","var(--c8)","var(--c9)","var(--c10)","var(--c11)","var(--c12)"];function Xx({data:u,size:b=160,thickness:m=24,centerLabel:d=""}){const j=u.reduce((k,M)=>k+M.value,0),w=b/2,g=w-m;let E=-Math.PI/2;const D=u.map((k,M)=>{const C=E+(j?k.value/j*2*Math.PI:0),h=C-E>Math.PI?1:0,[x,U]=[w,w],S=x+g*Math.cos(E),K=U+g*Math.sin(E),ae=x+g*Math.cos(C),ee=U+g*Math.sin(C),L=x+w*Math.cos(E),O=U+w*Math.sin(E),_=x+w*Math.cos(C),Q=U+w*Math.sin(C),Y=`M ${S} ${K} A ${g} ${g} 0 ${h} 1 ${ae} ${ee} L ${_} ${Q} A ${w} ${w} 0 ${h} 0 ${L} ${O} Z`;return E=C,{path:Y,fill:k.color||Ht[M%Ht.length],label:k.label,value:k.value}});return s.jsxs("svg",{className:"text-slate-900 dark:text-white chart",width:b,height:b,viewBox:`0 0 ${b} ${b}`,children:[D.map((k,M)=>s.jsx("path",{d:k.path,fill:k.fill,stroke:"currentColor",strokeWidth:.6,strokeOpacity:.06},M)),s.jsx("text",{x:w,y:w,textAnchor:"middle",dominantBaseline:"middle",fontSize:"14",fill:"currentColor",children:d||j})]})}function Lx({data:u,height:b=250,barWidth:m=50,gap:d=50,tickY:j=!0,labelMax:w=20}){const g=Math.max(1,...u.map(k=>k.value)),E=u.length*(m+d)+d,D=k=>String(k).length>w?String(k).slice(0,w-1)+"":k;return s.jsx("svg",{className:"text-slate-900 dark:text-white chart",width:E,height:b,children:u.map((k,M)=>{const C=Math.round(k.value/g*(b-50)),h=d+M*(m+d),x=b-C-18;return s.jsxs("g",{children:[s.jsx("rect",{x:h,y:x,width:m,height:C,rx:"4",fill:k.color||Ht[M%Ht.length],stroke:"currentColor",strokeWidth:.6,strokeOpacity:.06}),s.jsx("text",{x:h+m/2,y:b-4,textAnchor:"middle",fontSize:"10",fill:"currentColor",children:D(k.label)}),j&&s.jsx("text",{x:h+m/2,y:x-4,textAnchor:"middle",fontSize:"10",fill:"currentColor",children:k.value})]},M)})})}function wf({data:u,width:b=420,rowHeight:m=22,gap:d=8,labelWidth:j=160}){const w=Math.max(1,...u.map(E=>E.value)),g=u.length*(m+d)+d;return s.jsx("svg",{className:"text-slate-900 dark:text-white chart",width:b,height:g,children:u.map((E,D)=>{const k=Math.round(E.value/w*(b-j-40)),M=d+D*(m+d);return s.jsxs("g",{children:[s.jsx("text",{x:0,y:M+m-5,fontSize:"12",fill:"currentColor",children:E.label}),s.jsx("rect",{x:j,y:M,width:k,height:m,rx:"4",fill:E.color||Ht[D%Ht.length],stroke:"currentColor",strokeWidth:.6,strokeOpacity:.06}),s.jsx("text",{x:j+k+6,y:M+m-6,fontSize:"12",fill:"currentColor",children:E.value})]},D)})})}function qa({label:u,value:b,hint:m}){return s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:6},animate:{opacity:1,y:0},whileHover:{y:-4,boxShadow:"0 8px 20px rgba(2,6,23,0.08)"},className:"rounded-2xl border panel p-4 shadow-sm",children:[s.jsx("div",{className:"text-slate-500 text-xs",children:u}),s.jsx("div",{className:"text-2xl font-semibold",children:b}),m&&s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:m})]})}function Yx(){const{candidates:u,courses:b,corrections:m}=Qe(),d={},j={},w={},g=new Map;u.forEach(p=>{d[p.status]=(d[p.status]||0)+1,j[p.subject]=(j[p.subject]||0)+1,w[p.emirate]=(w[p.emirate]||0)+1,(p.enrollments||[]).forEach(o=>{g.has(o.code)||g.set(o.code,new Set),g.get(o.code).add(p.id)}),(p.courseResults||[]).forEach(o=>{g.has(o.code)||g.set(o.code,new Set),g.get(o.code).add(p.id)})});const E=u.length,D=b.length,k=Object.keys(j).length,M=Object.entries(j).sort((p,o)=>o[1]-p[1]).slice(0,5).map(([p,o],H)=>({label:p,value:o,color:Ht[H%Ht.length]})),C=[...g.entries()].map(([p,o])=>({label:`${p}  ${b.find(H=>H.code===p)?.title??""}`.trim(),value:o.size})).sort((p,o)=>o.value-p.value).slice(0,5),x=["Imported","Eligible","Assigned","In Training","Courses Completed","Assessed","Graduated","Ready for Hiring","Hired/Closed","On Hold","Withdrawn","Rejected"].filter(p=>d[p]).map((p,o)=>({label:p,value:d[p],color:Ht[o%Ht.length]})),S=b.filter(p=>p.active!==!1&&p.isRequired).map(p=>{let o=0,H=0;u.forEach(P=>{const se=(P.courseResults||[]).find(I=>I.code===p.code);se&&typeof se.score=="number"&&(o++,se.score>=(p.passThreshold??70)&&H++)});const X=o?Math.round(H/o*100):null;return{code:p.code,title:p.title,total:o,pass:H,rate:X,threshold:p.passThreshold??70}}).filter(p=>p.total>0).sort((p,o)=>(p.rate??101)-(o.rate??101)).slice(0,5),K=u.filter(p=>(p.status==="Assigned"||p.status==="In Training")&&(!p.enrollments||p.enrollments.length===0)).length,ae=m.filter(p=>p.forRole==="ECAE Trainer"&&p.status==="Pending").length;function ee(p){let o=0;return p.notesThread?.length&&(o=Math.max(o,Date.parse(p.notesThread[0].ts)||0)),p.enrollments?.length&&(o=Math.max(o,...p.enrollments.map(H=>Date.parse(H.assignedTs)||0))),p.courseResults?.length&&(o=Math.max(o,...p.courseResults.map(H=>Date.parse(H.date)||0))),o||null}const L=21,O=Date.now(),_=u.filter(p=>{const o=ee(p);return!o||O-o>L*24*3600*1e3}).length;function Q(p){const o=_a.find(I=>I.id===p.trackId);if(!o)return!1;const H=b.filter(I=>I.active!==!1&&I.isRequired&&I.tracks?.includes(p.trackId)),P=(Tl(p,b)??0)>=o.minAverage,se=H.every(I=>{const z=(p.courseResults||[]).find(J=>J.code===I.code);return z&&Number(z.score)>=(I.passThreshold??70)});return P&&se}const Y=u.filter(p=>!Q(p)).length,N=Object.entries(w).sort((p,o)=>o[1]-p[1]).slice(0,8).map(([p,o])=>({label:p,value:o}));return s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"xl:col-span-12 grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-4",children:[s.jsx(qa,{label:"Total Candidates",value:E}),s.jsx(qa,{label:"Graduated",value:d.Graduated||0}),s.jsx(qa,{label:"Ready for Hiring",value:d["Ready for Hiring"]||0}),s.jsx(qa,{label:"Courses (catalog)",value:D}),s.jsx(qa,{label:"Subjects (active)",value:k}),s.jsx(qa,{label:"At Risk (needs attention)",value:Y,hint:"Below avg or missing required passes"})]}),s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45},className:"xl:col-span-5 rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Pipeline by Status"}),s.jsxs("div",{className:"text-xs text-slate-500",children:["Total ",E]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx(Xx,{data:x,centerLabel:E||"0"}),s.jsx("div",{className:"flex-1",children:s.jsxs("ul",{className:"text-sm space-y-1",children:[x.map((p,o)=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block h-3 w-3 rounded-sm",style:{background:p.color}}),s.jsx("span",{children:p.label})]}),s.jsx("span",{className:"text-slate-600",children:p.value})]},o)),!x.length&&s.jsx("li",{className:"text-sm text-slate-500",children:"No data yet."})]})})]})]}),s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.04},className:"xl:col-span-7 rounded-2xl border bg-white p-4 shadow-sm overflow-auto",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Top Subjects"}),s.jsx(Lx,{data:M})]}),s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.06},className:"xl:col-span-7 rounded-2xl border bg-white p-4 shadow-sm overflow-auto",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Candidates per Course (enrolled or with results)"}),C.length?s.jsx(wf,{data:C}):s.jsx("div",{className:"text-sm text-slate-500",children:"No course activity yet."})]}),s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.08},className:"xl:col-span-5 rounded-2xl border bg-white p-4 shadow-sm overflow-auto",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Emirate Breakdown"}),N.length?s.jsx(wf,{data:N,width:380}):s.jsx("div",{className:"text-sm text-slate-500",children:"No emirate data."})]}),s.jsxs("div",{className:"xl:col-span-12 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Potential Bottlenecks"}),s.jsxs("ul",{className:"text-sm space-y-2",children:[s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Waiting for assignment / training (no enrollments)"}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 text-xs dark:bg-amber-700 dark:text-amber-100",children:K})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Pending clarifications (trainer inbox)"}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 text-xs dark:bg-amber-700 dark:text-amber-100",children:ae})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Stale cases (no activity > 21 days)"}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 text-xs dark:bg-rose-700 dark:text-rose-100",children:_})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"At-risk candidates (avg/reqs not met)"}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 text-xs dark:bg-rose-700 dark:text-rose-100",children:Y})]})]})]}),s.jsxs(Ee.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.12},className:"rounded-2xl border bg-white p-4 shadow-sm md:col-span-1 xl:col-span-2 overflow-auto",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Courses with Lowest Pass Rates (required only)"}),S.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2",children:"Course"}),s.jsx("th",{className:"px-3 py-2",children:"PassRate"}),s.jsx("th",{className:"px-3 py-2",children:"Pass/Total"}),s.jsx("th",{className:"px-3 py-2",children:"Threshold"})]})}),s.jsx("tbody",{children:S.map((p,o)=>s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("b",{children:p.code}),"  ",p.title]}),s.jsxs("td",{className:"px-3 py-2",children:[p.rate??"","%"]}),s.jsxs("td",{className:"px-3 py-2",children:[p.pass,"/",p.total]}),s.jsxs("td",{className:"px-3 py-2",children:[" ",p.threshold]})]},o))})]})}):s.jsx("div",{className:"text-sm text-slate-500",children:"No results yet."})]})]})]})}function Ge({children:u}){return s.jsx("th",{className:"px-4 py-3 text-slate-600 text-xs font-semibold uppercase tracking-wide",children:u})}function Xe({children:u,...b}){return s.jsx("td",{className:"px-4 py-3 align-top",...b,children:u})}function Gx({role:u}){const{courses:b,setCourses:m,logEvent:d,notify:j}=Qe(),[w,g]=F.useState(""),[E,D]=F.useState(""),[k,M]=F.useState(""),[C,h]=F.useState(!1),[x,U]=F.useState(null),[S,K]=F.useState({code:"",title:"",brief:"",weight:"0.3",passThreshold:"70",isRequired:!0,tracks:[],modality:"",hours:"",active:!0}),ae=u==="Admin"||u==="ECAE Manager"||u==="ECAE Trainer",ee=F.useMemo(()=>{const N=w.toLowerCase();return b.filter(p=>E&&!(p.tracks||[]).includes(E)||k&&!String(p.code||"").toLowerCase().includes(String(k||"").toLowerCase())?!1:p.code.toLowerCase().includes(N)||(p.title||"").toLowerCase().includes(N)||(p.brief||"").toLowerCase().includes(N))},[w,b,E,k]);function L(){U(null),K({code:"",title:"",brief:"",weight:"0.3",passThreshold:"70",isRequired:!0,tracks:[],modality:"",hours:"",active:!0}),h(!0)}function O(N){const p=b.find(o=>o.id===N);p&&(U(N),K({code:p.code,title:p.title,brief:p.brief||"",weight:String(p.weight??.3),passThreshold:String(p.passThreshold??70),isRequired:!!p.isRequired,tracks:p.tracks||[],modality:p.modality||"",hours:String(p.hours||""),active:p.active!==!1}),h(!0))}function _(){const N=S.code.trim(),p=S.title.trim();if(!N||!p){alert("Code and Title are required.");return}if(!/^[A-Za-z0-9-_.]+$/.test(N)){alert("Code should be letters/digits/-_.");return}if(b.some(X=>X.code.toLowerCase()===N.toLowerCase()&&X.id!==x)){alert("Course code already exists.");return}const H={id:x||`COURSE-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,code:N,title:p,brief:S.brief.trim(),weight:Number(S.weight)||.3,passThreshold:Number(S.passThreshold)||70,isRequired:!!S.isRequired,tracks:S.tracks,modality:S.modality.trim(),hours:Number(S.hours)||"",active:!!S.active};x?(m(X=>X.map(P=>P.id===x?H:P)),d("course_updated",{code:N,ts:new Date().toISOString()}),j({role:"ECAE Manager"},{type:"course_updated",title:`Course updated: ${N}`,body:p,targetRef:{page:"courses",courseCode:N}}),j({role:"ECAE Trainer"},{type:"course_updated",title:`Course updated: ${N}`,body:p,targetRef:{page:"courses",courseCode:N}})):(m(X=>[H,...X]),d("course_created",{code:N,ts:new Date().toISOString()}),j({role:"ECAE Manager"},{type:"course_created",title:`New course added: ${N}`,body:p,targetRef:{page:"courses",courseCode:N}}),j({role:"ECAE Trainer"},{type:"course_created",title:`New course added: ${N}`,body:p,targetRef:{page:"courses",courseCode:N}})),h(!1)}function Q(N){if(!window.confirm("Delete this course?"))return;const p=b.find(o=>o.id===N);m(o=>o.filter(H=>H.id!==N)),d("course_deleted",{code:p?.code,ts:new Date().toISOString()})}function Y(N){K(p=>({...p,tracks:p.tracks.includes(N)?p.tracks.filter(o=>o!==N):[...p.tracks,N]}))}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsx("input",{value:w,onChange:N=>g(N.target.value),placeholder:"Search by code, title, brief",className:"w-80 rounded-xl border px-3 py-2"}),s.jsxs("select",{value:E,onChange:N=>D(N.target.value),className:"rounded-xl border px-3 py-2",children:[s.jsx("option",{value:"",children:"All tracks"}),_a.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]}),s.jsx("input",{value:k,onChange:N=>M(N.target.value),placeholder:"Filter code",className:"rounded-xl border px-3 py-2"}),s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:()=>{g(""),D(""),M("")},children:"Clear"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:()=>{const N=ee.map(H=>({Code:H.code,Title:H.title,Brief:H.brief||"",Tracks:(H.tracks||[]).map(X=>El(X)).join(", "),Required:H.isRequired?"Yes":"No",Active:H.active!==!1?"Yes":"No"})),p=el.book_new(),o=el.json_to_sheet(N);el.book_append_sheet(p,o,"Courses"),br(p,"Courses-Export.xlsx")},children:"Export filtered"}),ae&&s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:L,children:"Add Course"})]})]}),s.jsx("div",{className:"rounded-2xl border bg-white shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx(Ge,{children:"Code"}),s.jsx(Ge,{children:"Title"}),s.jsx(Ge,{children:"Brief"}),s.jsx(Ge,{children:"Tracks"}),s.jsx(Ge,{children:"Weight"}),s.jsx(Ge,{children:"Pass "}),s.jsx(Ge,{children:"Required"}),s.jsx(Ge,{children:"Active"}),s.jsx(Ge,{children:"Actions"})]})}),s.jsx("tbody",{children:s.jsxs(Mt,{children:[ee.map(N=>s.jsxs(Ee.tr,{className:"border-t",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:[s.jsx(Xe,{children:s.jsx("div",{className:"font-medium",children:N.code})}),s.jsx(Xe,{children:N.title}),s.jsx(Xe,{className:"max-w-[320px]",children:s.jsx("div",{className:"line-clamp-2",children:N.brief})}),s.jsx(Xe,{children:(N.tracks||[]).map(p=>El(p)).join(", ")||""}),s.jsx(Xe,{children:N.weight}),s.jsx(Xe,{children:N.passThreshold}),s.jsx(Xe,{children:N.isRequired?"Yes":"No"}),s.jsx(Xe,{children:N.active!==!1?"Yes":"No"}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:()=>O(N.id),children:"Edit"}),ae&&s.jsx("button",{className:"rounded-xl border px-3 py-1 text-rose-700",onClick:()=>Q(N.id),children:"Delete"})]})})]},N.id)),!ee.length&&s.jsx(Ee.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx(Xe,{colSpan:9,children:s.jsx("div",{className:"p-4 text-sm text-slate-500",children:"No courses."})})},"empty")]})})]})}),s.jsx(Mt,{children:C&&s.jsxs(Ee.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>h(!1)}),s.jsx(Ee.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-white p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:x?"Edit Course":"Add Course"}),s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:()=>h(!1),children:"Close"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("label",{children:["Code* ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:S.code,onChange:N=>K({...S,code:N.target.value})})]}),s.jsxs("label",{children:["Title* ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:S.title,onChange:N=>K({...S,title:N.target.value})})]}),s.jsxs("label",{className:"col-span-2",children:["Brief ",s.jsx("textarea",{rows:2,className:"w-full rounded border px-2 py-1",value:S.brief,onChange:N=>K({...S,brief:N.target.value})})]}),s.jsxs("label",{children:["Weight ",s.jsx("input",{type:"number",step:"0.01",className:"w-full rounded border px-2 py-1",value:S.weight,onChange:N=>K({...S,weight:N.target.value})})]}),s.jsxs("label",{children:["Pass Threshold ",s.jsx("input",{type:"number",className:"w-full rounded border px-2 py-1",value:S.passThreshold,onChange:N=>K({...S,passThreshold:N.target.value})})]}),s.jsxs("label",{children:["Modality ",s.jsx("input",{className:"w-full rounded border px-2 py-1",placeholder:"Online / In-person / Hybrid",value:S.modality,onChange:N=>K({...S,modality:N.target.value})})]}),s.jsxs("label",{children:["Hours ",s.jsx("input",{type:"number",className:"w-full rounded border px-2 py-1",value:S.hours,onChange:N=>K({...S,hours:N.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"font-medium mb-1",children:"Required for tracks"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:_a.map(N=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:S.tracks.includes(N.id),onChange:()=>Y(N.id)}),s.jsx("span",{children:N.name})]},N.id))}),s.jsxs("label",{className:"inline-flex items-center gap-2 mt-2",children:[s.jsx("input",{type:"checkbox",checked:S.isRequired,onChange:N=>K({...S,isRequired:N.target.checked})}),s.jsx("span",{children:"Mark as required (for selected tracks)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-2 mt-2 ml-6",children:[s.jsx("input",{type:"checkbox",checked:S.active,onChange:N=>K({...S,active:N.target.checked})}),s.jsx("span",{children:"Active"})]})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:_,children:x?"Save":"Create"}),s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:()=>h(!1),children:"Cancel"})]})]})})]})})]})}function Qx({open:u,candidate:b,onClose:m}){const{setCandidates:d,logEvent:j}=Qe(),[w,g]=F.useState({name:"",email:"",mobile:"",emirate:"",subject:"",gpa:"",nationalId:""}),[E,D]=F.useState("");F.useEffect(()=>{!u||!b||(g({name:b.name||"",email:b.email||"",mobile:b.mobile||"",emirate:b.emirate||"",subject:b.subject||"",gpa:String(b.gpa??""),nationalId:b.nationalId||""}),D(""))},[u,b]);function k(){if(!b)return;D("");const M=w.name.trim(),C=w.email.trim(),h=w.mobile.trim(),x=w.emirate.trim(),U=w.subject.trim(),S=w.nationalId.trim(),K=Number(String(w.gpa).replace(",","."));if(!M||!C||!h||!x||!U||isNaN(K)){D("Please fill all required fields correctly.");return}if(!Ef.test(C)){D("Invalid email.");return}if(!Tf.test(h.replace(/\s|-/g,""))){D("Invalid UAE mobile (+9715 or 05XXXXXXXX).");return}const ae=jr(U);d(ee=>ee.map(L=>L.id===b.id?{...L,name:M,email:C,mobile:h,emirate:x,subject:U,gpa:K,nationalId:S,trackId:ae}:L)),j("candidate_admin_updated",{id:b.id,ts:new Date().toISOString()}),m?.()}return!u||!b?null:s.jsx(Mt,{children:s.jsxs(Ee.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:m}),s.jsx(Ee.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},className:"absolute inset-0 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Edit Candidate"}),s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:m,children:"Close"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("label",{children:["Name* ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:w.name,onChange:M=>g({...w,name:M.target.value})})]}),s.jsxs("label",{children:["Email* ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:w.email,onChange:M=>g({...w,email:M.target.value})})]}),s.jsxs("label",{children:["Mobile* ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:w.mobile,onChange:M=>g({...w,mobile:M.target.value}),placeholder:"05XXXXXXXX or +9715XXXXXXXX"})]}),s.jsxs("label",{children:["Emirate* ",s.jsxs("select",{className:"w-full rounded border px-2 py-1",value:w.emirate,onChange:M=>g({...w,emirate:M.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),Df.map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsxs("label",{children:["Subject* ",s.jsxs("select",{className:"w-full rounded border px-2 py-1",value:w.subject,onChange:M=>g({...w,subject:M.target.value}),children:[s.jsx("option",{value:"",children:"Select"}),Mf.map(M=>s.jsx("option",{value:M,children:M},M))]})]}),s.jsxs("label",{children:["GPA* ",s.jsx("input",{type:"number",step:"0.01",className:"w-full rounded border px-2 py-1",value:w.gpa,onChange:M=>g({...w,gpa:M.target.value})})]}),s.jsxs("label",{className:"col-span-2",children:["National ID ",s.jsx("input",{className:"w-full rounded border px-2 py-1",value:w.nationalId,onChange:M=>g({...w,nationalId:M.target.value})})]})]}),E&&s.jsx("div",{className:"mt-2 text-sm text-rose-600",children:E}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:k,children:"Save"}),s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:m,children:"Cancel"})]})]})})]})})}function Vx(){const{candidates:u,setCandidates:b,logEvent:m}=Qe(),[d,j]=F.useState(null),[w,g]=F.useState("upload"),[E,D]=F.useState({}),[k,M]=F.useState([]),[C,h]=F.useState([]),[x,U]=F.useState([]),[S,K]=F.useState([]),[ae,ee]=F.useState([]),L=["name","subject","gpa","emirate","email","mobile"];function O(o){const H=String(o||"").replace(/\s|-/g,"");return/^\+9715\d{8}$/.test(H)?"05"+H.slice(5):H}function _(o){const H={},X={name:["name","full name","candidate name"],subject:["subject","teaching subject"],gpa:["gpa","cgpa"],emirate:["emirate","city"],email:["email","e-mail"],mobile:["mobile","phone","mobile number"],nationalid:["national id","id","emirates id"],sourcebatch:["source batch","batch","cohort"]},P=I=>String(I||"").trim().toLowerCase().replace(/\s+/g," "),se=o.map(I=>({raw:I,norm:P(I)}));return Object.entries(X).forEach(([I,z])=>{const J=se.find(te=>z.includes(te.norm));J&&(H[I]=J.raw)}),H}function Q(o){if(j(o||null),!o)return;const H=(o.name.split(".").pop()||"").toLowerCase(),X=new FileReader;X.onload=P=>{try{if(H==="csv"){const se=Bs(String(P.target.result)),I=se.shift()||[],z=se.map(J=>Object.fromEntries(I.map((te,ue)=>[te,J[ue]])));M(I),h(z),D(_(I)),g("map")}else if(window.XLSX){const se=window.XLSX.read(new Uint8Array(P.target.result),{type:"array"}),I=se.Sheets[se.SheetNames[0]],z=window.XLSX.utils.sheet_to_json(I,{header:1}),J=z.shift()||[],te=z.map(ue=>Object.fromEntries(J.map((de,Me)=>[de,ue[Me]])));M(J),h(te),D(_(J)),g("map")}else alert("XLSX not supported unless SheetJS is loaded. Please use CSV or include SheetJS.")}catch{alert("Failed to parse file. Ensure it is a valid CSV/XLSX.")}},H==="csv"?X.readAsText(o):X.readAsArrayBuffer(o)}function Y(o,H){D(X=>({...X,[o]:H}))}function N(){const o=[],H=[],X=C.map((z,J)=>{const te=de=>z[E[de]]??"",ue={name:String(te("name")).trim(),subject:String(te("subject")).trim(),gpa:Number(String(te("gpa")).replace(",",".")),emirate:String(te("emirate")).trim(),email:String(te("email")).trim(),mobile:O(String(te("mobile")).trim()),nationalId:String(te("nationalid")||"").trim(),sourceBatch:String(te("sourcebatch")||"").trim()};return L.forEach(de=>{!ue[de]&&ue[de]!==0&&o.push({row:J+2,field:de,msg:`${de} is required`})}),ue.email&&!Ef.test(ue.email)&&o.push({row:J+2,field:"email",msg:"Invalid email"}),ue.mobile&&!Tf.test(ue.mobile)&&o.push({row:J+2,field:"mobile",msg:"Invalid UAE mobile"}),isNaN(ue.gpa)?o.push({row:J+2,field:"gpa",msg:"GPA must be numeric"}):(ue.gpa<0||ue.gpa>4)&&H.push({row:J+2,field:"gpa",msg:"GPA outside 0.04.0"}),ue}),P=new Set,se=new Set;X.forEach((z,J)=>{z.email&&(P.has(z.email)&&o.push({row:J+2,field:"email",msg:"Duplicate email in file"}),P.add(z.email)),z.nationalId&&(se.has(z.nationalId)&&o.push({row:J+2,field:"nationalId",msg:"Duplicate National ID in file"}),se.add(z.nationalId))});const I=new Set(u.map(z=>z.email));X.forEach((z,J)=>{I.has(z.email)&&H.push({row:J+2,field:"email",msg:"Email already exists in system"})}),U(o),K(H),ee(X.slice(0,10)),g("preview")}function p(){if(x.length){alert("Resolve errors before committing import.");return}const o=C.map(H=>{const X=z=>H[E[z]]??"",P=String(X("subject")).trim(),se=jr(P),I=String(X("mobile")).replace(/\s|-/g,"").replace(/^\+9715/,"05");return{id:`IMP-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,name:String(X("name")).trim(),nationalId:String(X("nationalid")||"").trim(),email:String(X("email")).trim(),mobile:I,emirate:String(X("emirate")).trim(),subject:P,gpa:Number(String(X("gpa")).replace(",",".")),trackId:se,status:"Imported",courseResults:[],enrollments:[],notesThread:[]}});b(H=>[...H,...o]),m("import_committed",{count:o.length,ts:new Date().toISOString()}),j(null),M([]),h([]),D({}),U([]),K([]),ee([]),g("upload"),alert(`Imported ${o.length} candidate(s).`)}return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-lg",children:["Intake Import (",d?d.name:"Excel/CSV",")"]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Upload list  Map columns  Validate  Commit."})]}),s.jsx(Ux,{filename:"IntakeTemplate.csv",buildCSV:zx})]}),w==="upload"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:o=>Q(o.target.files?.[0]||null)}),s.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"CSV works natively. For XLSX, include SheetJS via window.XLSX."})]}),w==="map"&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("div",{className:"text-sm",children:"Map your columns to required fields:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["name","subject","gpa","emirate","email","mobile","nationalid","sourcebatch"].map(o=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"w-48 text-sm",children:o}),s.jsxs("select",{className:"flex-1 rounded-xl border px-3 py-2",value:E[o]||"",onChange:H=>Y(o,H.target.value),children:[s.jsx("option",{value:"",children:"Select column"}),k.map(H=>s.jsx("option",{value:H,children:H},H))]})]},o))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:()=>g("upload"),children:"Back"}),s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:N,children:"Validate"})]})]}),w==="preview"&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Validation summary"}),s.jsxs("ul",{className:"list-disc pl-5 text-sm text-slate-700",children:[s.jsxs("li",{children:[s.jsx("b",{children:C.length})," rows detected"]}),s.jsxs("li",{children:[s.jsx("b",{children:x.length})," errors, ",s.jsx("b",{children:S.length})," warnings"]})]}),(x.length||S.length)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Errors"}),x.length?s.jsx("ul",{className:"text-sm text-rose-700 space-y-1 max-h-48 overflow-auto",children:x.map((o,H)=>s.jsxs("li",{children:["Row ",o.row,": [",o.field,"] ",o.msg]},H))}):s.jsx("div",{className:"text-sm text-slate-500",children:"None"})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Warnings"}),S.length?s.jsx("ul",{className:"text-sm text-amber-700 space-y-1 max-h-48 overflow-auto",children:S.map((o,H)=>s.jsxs("li",{children:["Row ",o.row,": [",o.field,"] ",o.msg]},H))}):s.jsx("div",{className:"text-sm text-slate-500",children:"None"})]})]}),s.jsx("div",{className:"rounded-2xl border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsx("tr",{className:"text-left",children:Object.keys(ae[0]||{name:1,subject:1,gpa:1,emirate:1,email:1,mobile:1}).map(o=>s.jsx(Ge,{children:o},o))})}),s.jsx("tbody",{children:s.jsx(Mt,{children:ae.map((o,H)=>s.jsx(Ee.tr,{className:"border-t",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:Object.keys(ae[0]||o).map(X=>s.jsx(Xe,{children:String(o[X]??"")},X+H))},H))})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:()=>g("map"),children:"Back"}),s.jsx("button",{className:"rounded-xl bg-emerald-600 text-white px-4 py-2",onClick:p,disabled:x.length>0,children:"Commit Import"})]})]})]})})}function Zx(){const{candidates:u,setCandidates:b}=Qe(),[m,d]=F.useState([]),[j,w]=F.useState({ok:0,updated:0,errors:[]});function g(M){const C=Bs(M),h=(C.shift()||[]).map(S=>String(S).trim()),x=Object.fromEntries(h.map((S,K)=>[S.toLowerCase(),K])),U=["candidateid","coursecode","score","pass","date"];if(!U.every(S=>S in x))throw new Error("Missing required columns. Need: "+U.join(", "));return C.map(S=>({candidateId:String(S[x.candidateid]||"").trim(),courseCode:String(S[x.coursecode]||"").trim(),score:Number(S[x.score]||0),pass:String(S[x.pass]||"").trim().toLowerCase().startsWith("p")||String(S[x.pass]||"").trim().toLowerCase()==="true",date:String(S[x.date]||"").trim()}))}function E(M){if(!M)return;const C=(M.name.split(".").pop()||"").toLowerCase(),h=new FileReader;h.onload=x=>{try{if(C==="csv")d(g(String(x.target.result)));else if(window.XLSX){const U=window.XLSX.read(new Uint8Array(x.target.result),{type:"array"}),S=U.Sheets[U.SheetNames[0]],K=window.XLSX.utils.sheet_to_csv(S);d(g(K))}else alert("XLSX not supported unless SheetJS is loaded. Please use CSV or include SheetJS.")}catch(U){alert("Failed to parse results: "+U.message)}},C==="csv"?h.readAsText(M):h.readAsArrayBuffer(M)}function D(){const M=[];let C=0;const h=new Map(u.map(x=>[x.id,x]));b(x=>{const U=x.map(S=>({...S,courseResults:[...S.courseResults||[]]}));return m.forEach((S,K)=>{const ae=h.get(S.candidateId);if(!ae){M.push(`Row ${K+2}: Unknown CandidateID ${S.candidateId}`);return}const ee=U.find(_=>_.id===ae.id),L=ee.courseResults.find(_=>_.code===S.courseCode),O={code:S.courseCode,title:S.courseCode,score:S.score,pass:!!S.pass,date:S.date};L?Object.assign(L,O):ee.courseResults.push(O),C++}),U}),w({ok:m.length,updated:C,errors:M}),alert(`Processed ${m.length} rows  Updated ${C} candidates${M.length?`  ${M.length} issue(s)`:""}.`)}return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Upload Training Results (ECAE)"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Template: CandidateID, CourseCode, Score, Pass, Date."}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsx("input",{type:"file",accept:".xlsx,.csv",onChange:M=>E(M.target.files?.[0]||null)}),s.jsx("a",{href:"data:text/csv;charset=utf-8,"+encodeURIComponent("\uFEFF"+`CandidateID,CourseCode,Score,Pass,Date
C-1000,T101,85,Pass,2025-08-01
C-1001,T201,72,Fail,2025-08-05
`),download:"TrainingResultsTemplate.csv",className:"rounded-xl border px-4 py-2",children:"Download Template"}),s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:D,disabled:!m.length,children:"Validate & Upload"})]}),s.jsxs("div",{className:"mt-4 rounded-2xl border p-3 bg-slate-50 text-sm",children:[s.jsx("div",{className:"font-medium",children:"Preview"}),m.length?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-100",children:s.jsxs("tr",{children:[s.jsx(Ge,{children:"CandidateID"}),s.jsx(Ge,{children:"CourseCode"}),s.jsx(Ge,{children:"Score"}),s.jsx(Ge,{children:"Pass"}),s.jsx(Ge,{children:"Date"})]})}),s.jsx("tbody",{children:s.jsx(Mt,{children:m.slice(0,10).map((M,C)=>s.jsxs(Ee.tr,{className:"border-t",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:[s.jsx(Xe,{children:M.candidateId}),s.jsx(Xe,{children:M.courseCode}),s.jsx(Xe,{children:M.score}),s.jsx(Xe,{children:String(M.pass)}),s.jsx(Xe,{children:M.date})]},C))})})]})}):s.jsx("div",{className:"text-slate-600",children:"(First 10 rows preview here.)"})]}),!!(j.ok||j.errors.length)&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded-2xl border p-3",children:["Rows read: ",s.jsx("b",{children:j.ok})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:["Candidates updated: ",s.jsx("b",{children:j.updated})]}),s.jsxs("div",{className:"rounded-2xl border p-3",children:["Issues: ",s.jsx("b",{children:j.errors.length}),!!j.errors.length&&s.jsx("ul",{className:"mt-2 text-rose-700 text-sm list-disc pl-5 max-h-28 overflow-auto",children:j.errors.map((M,C)=>s.jsx("li",{children:M},C))})]})]})]})})}function Kx(){const{candidates:u,setCandidates:b,setCorrections:m,logEvent:d,courses:j,notify:w}=Qe(),E=u.map(h=>({...h,finalAvg:Tl(h,j),trackName:El(h.trackId)})).filter(h=>{const x=_a.find(ae=>ae.id===h.trackId);if(!x)return!0;const U=_s(j,h.trackId),S=(h.finalAvg??0)>=x.minAverage,K=U.every(ae=>ti(h,ae));return!(S&&K)});function D(h){b(x=>x.map(U=>U.id===h?{...U,status:"Graduated"}:U)),d("graduation_force_approved",{id:h,ts:new Date().toISOString()}),alert("Candidate marked as Graduated.")}function k(h){m(x=>[{id:`CR-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,candidateId:h,by:"Graduation Review",role:"Admin",forRole:"ECAE Trainer",text:"Graduation Review: Please clarify/confirm required details for this candidate.",status:"Pending",ts:new Date().toISOString()},...x]),d("graduation_clarification_requested",{id:h,to:"ECAE Trainer",ts:new Date().toISOString()}),w({role:"ECAE Trainer"},{type:"clarification_requested",title:`Graduation clarification for ${h}`,body:"Please clarify/confirm required details for this candidate.",targetRef:{page:"candidates",candidateId:h}}),alert("Clarification sent to ECAE Trainer.")}function M(){b(h=>h.map(x=>{const U=_a.find(ee=>ee.id===x.trackId),S=_s(j,x.trackId),K=Tl(x,j)??0;return U&&K>=U.minAverage&&S.every(ee=>ti(x,ee))&&x.status!=="Graduated"?{...x,status:"Graduated"}:x})),d("graduation_approve_all_valid",{ts:new Date().toISOString()})}function C(){b(h=>h.map(x=>x.status==="Graduated"?{...x,status:"Ready for Hiring"}:x)),d("graduation_mark_ready_for_hiring",{ts:new Date().toISOString()})}return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Graduation Review"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Exceptions first. Approve in bulk or individually."}),s.jsx("div",{className:"mt-4 rounded-2xl border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx(Ge,{children:"Candidate"}),s.jsx(Ge,{children:"Track"}),s.jsx(Ge,{children:"Final Avg"}),s.jsx(Ge,{children:"Missing/Failing Courses"}),s.jsx(Ge,{children:"Action"})]})}),s.jsx("tbody",{children:s.jsx(Mt,{children:E.map(h=>{const U=_s(j,h.trackId).filter(S=>!ti(h,S)).map(S=>`${S.code}(${S.passThreshold})`).join(", ")||"";return s.jsxs(Ee.tr,{className:"border-t",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:[s.jsxs(Xe,{children:[h.name," ",s.jsxs("span",{className:"text-slate-400",children:["(",h.id,")"]})]}),s.jsx(Xe,{children:h.trackName}),s.jsx(Xe,{children:h.finalAvg??""}),s.jsx(Xe,{children:U}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:()=>k(h.id),children:"Request Clarification"}),s.jsx("button",{className:"rounded-xl bg-emerald-600 text-white px-3 py-1",onClick:()=>D(h.id),children:"Force-Approve"})]})})]},h.id)})})})]})}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:M,children:"Approve All Valid"}),s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:C,children:"Mark Ready for Hiring"})]})]})})}function Jx(){const{candidates:u,audit:b,courses:m}=Qe();function d(){const M=u.filter(h=>h.status==="Ready for Hiring").map(h=>({ID:h.id,Name:h.name,Subject:h.subject,Emirate:h.emirate,Email:h.email,Mobile:h.mobile,FinalAverage:Tl(h,m)??"",Status:h.status,Notes:h.notesThread?.[0]?.text||""}));Kl("Hiring-Ready.xlsx",M,[{key:"ID"},{key:"Name"},{key:"Subject"},{key:"Emirate"},{key:"Email"},{key:"Mobile"},{key:"FinalAverage",label:"Final Average"},{key:"Status"},{key:"Notes"}],"Hiring Ready")}function j(){const k=u.map(C=>({ID:C.id,Name:C.name,Emirate:C.emirate,Subject:C.subject,GPA:C.gpa,Track:C.trackId,Status:C.status,Email:C.email,Mobile:C.mobile,FinalAverage:Tl(C,m)??"",LastNoteBy:C.notesThread?.[0]?.by||"",LastNoteAt:C.notesThread?.[0]?.ts||"",LastNote:C.notesThread?.[0]?.text||""}));Kl("AuditSnapshot.xlsx",k,[{key:"ID"},{key:"Name"},{key:"Emirate"},{key:"Subject"},{key:"GPA"},{key:"Track"},{key:"Status"},{key:"Email"},{key:"Mobile"},{key:"FinalAverage",label:"Final Average"},{key:"LastNoteBy"},{key:"LastNoteAt"},{key:"LastNote"}],"Audit")}function w(){const k=b.map(C=>({ID:C.id,Type:C.type,Timestamp:C.ts,Payload:JSON.stringify(C.payload||{})}));Kl("AuditLog.xlsx",k,[{key:"ID"},{key:"Type"},{key:"Timestamp"},{key:"Payload"}],"AuditLog")}function g(){const k=(m||[]).map(C=>({Code:C.code,Title:C.title,Brief:C.brief||"",Tracks:(C.tracks||[]).map(El).join(", "),Weight:C.weight??"",PassThreshold:C.passThreshold??"",Required:C.isRequired?"Yes":"No",Modality:C.modality||"",Hours:C.hours??"",Active:C.active!==!1?"Yes":"No"}));Kl("Courses-Catalog.xlsx",k,[{key:"Code"},{key:"Title"},{key:"Brief"},{key:"Tracks"},{key:"Weight",label:"Weight"},{key:"PassThreshold",label:"Pass "},{key:"Required"},{key:"Modality"},{key:"Hours"},{key:"Active"}],"Courses")}function E(){const k=new Map;m.forEach(h=>{k.set(h.code,{Code:h.code,Title:h.title,Tracks:(h.tracks||[]).map(El).join(", "),Required:h.isRequired?"Yes":"No",PassThreshold:h.passThreshold??"",Weight:h.weight??"",Modality:h.modality||"",Hours:h.hours??"",Active:h.active!==!1?"Yes":"No",Enrolled:0,WithResults:0,Passes:0,Fails:0,UniqueCandidates:new Set})}),u.forEach(h=>{(h.enrollments||[]).forEach(x=>{const U=k.get(x.code);U&&(U.Enrolled+=1,U.UniqueCandidates.add(h.id))}),(h.courseResults||[]).forEach(x=>{const U=k.get(x.code);U&&(U.WithResults+=1,Number(x.score)>=(m.find(S=>S.code===x.code)?.passThreshold??70)?U.Passes+=1:U.Fails+=1,U.UniqueCandidates.add(h.id))})});const M=[...k.values()].map(h=>({...h,UniqueCandidates:h.UniqueCandidates.size,PassRate:h.WithResults?Math.round(h.Passes/h.WithResults*100):""}));Kl("Courses-Stats.xlsx",M,[{key:"Code"},{key:"Title"},{key:"Tracks"},{key:"Required"},{key:"PassThreshold",label:"Pass "},{key:"Weight"},{key:"Modality"},{key:"Hours"},{key:"Active"},{key:"Enrolled"},{key:"WithResults",label:"With Results"},{key:"Passes"},{key:"Fails"},{key:"PassRate",label:"Pass Rate %"},{key:"UniqueCandidates",label:"Unique Candidates"}],"Course Stats")}const D=u.filter(k=>k.status==="Ready for Hiring").length;return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Hiring-Ready.xlsx"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Minimal PII + last note."}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:d,children:"Download"}),s.jsxs("span",{className:"text-sm text-slate-600",children:[D," candidate(s)"]})]})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Audit Exports"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Snapshot of candidates & append-only audit."}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:j,children:"Download Snapshot"}),s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:w,children:"Download AuditLog"})]})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Courses Catalog"}),s.jsx("p",{className:"text-sm text-slate-500",children:"All course fields (code, title, required, tracks, thresholds, etc.)."}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:g,children:"Download Courses-Catalog.xlsx"})})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg",children:"Courses Statistics"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Enrollments, results, pass/fail, pass rates, unique candidates."}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{className:"rounded-xl border px-4 py-2",onClick:E,children:"Download Courses-Stats.xlsx"})})]})]})}function $x(){const{users:u,adminUpdateUser:b,adminResetPassword:m,adminDeleteUser:d,adminCreateUser:j,user:w}=rt(),[g,E]=F.useState(!1),[D,k]=F.useState({name:"",email:"",role:"Teacher",password:""});function M(){try{const{tempPassword:L}=j(D);alert(`User created.
Email: ${D.email}
Temporary password: ${L}`),k({name:"",email:"",role:"Teacher",password:""}),E(!1)}catch(L){alert(L.message||"Failed to create user")}}const[C,h]=F.useState(""),x=F.useMemo(()=>{const L=C.toLowerCase();return(u||[]).filter(O=>(O.name||"").toLowerCase().includes(L)||(O.email||"").toLowerCase().includes(L)||(O.role||"").toLowerCase().includes(L))},[C,u]);function U(L,O){b(L,{role:O})}function S(L){try{const O=m(L);alert(`Temporary password for ${L}: ${O}`)}catch(O){alert(O.message||"Failed to reset")}}function K(L){if((w?.email||"").toLowerCase()===String(L||"").toLowerCase()){alert("You cannot delete the account that is currently signed in.");return}if(window.confirm(`Delete user ${L}? This cannot be undone.`))try{d(L)}catch(O){alert(O.message||"Failed to delete")}}function ae(){const L=[{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"role",label:"Role"},{key:"createdAt",label:"Created"}],O=(u||[]).map(_=>({name:_.name||"",email:_.email||"",role:_.role||"",createdAt:_.createdAt?new Date(_.createdAt).toLocaleString():""}));Kl("Platform_Users.xlsx",O,L,"Users")}const ee=["Admin","ECAE Manager","ECAE Trainer","Auditor","Teacher"];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Platform Users"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Manage roles, reset passwords, delete, and export"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{className:"rounded-xl border px-3 py-2",placeholder:"Search users",value:C,onChange:L=>h(L.target.value)}),s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:ae,children:"Export XLSX"}),s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-3 py-2",onClick:()=>E(L=>!L),children:g?"Close":"Add user"})]})]}),g&&s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm mt-2",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx("input",{className:"rounded-xl border px-3 py-2",placeholder:"Full name",value:D.name,onChange:L=>k({...D,name:L.target.value})}),s.jsx("input",{type:"email",className:"rounded-xl border px-3 py-2",placeholder:"Email",value:D.email,onChange:L=>k({...D,email:L.target.value})}),s.jsx("select",{className:"rounded-xl border px-3 py-2",value:D.role,onChange:L=>k({...D,role:L.target.value}),children:["Admin","ECAE Manager","ECAE Trainer","Auditor","Teacher"].map(L=>s.jsx("option",{value:L,children:L},L))}),s.jsx("input",{className:"rounded-xl border px-3 py-2",placeholder:"Password (optional)",value:D.password,onChange:L=>k({...D,password:L.target.value})}),s.jsx("div",{className:"md:col-span-4 flex justify-end",children:s.jsx("button",{className:"rounded-xl bg-slate-900 text-white px-4 py-2",onClick:M,children:"Create user"})})]}),s.jsx("div",{className:"text-[11px] text-slate-500 mt-2",children:"If password is empty, a temporary one will be auto-generated."})]}),s.jsx("div",{className:"rounded-2xl border bg-white p-6 shadow-sm overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2",children:"Name"}),s.jsx("th",{className:"px-3 py-2",children:"Email"}),s.jsx("th",{className:"px-3 py-2",children:"Role"}),s.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),s.jsx("tbody",{children:s.jsxs(Mt,{children:[x.map(L=>s.jsxs(Ee.tr,{className:"border-t",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:[s.jsx("td",{className:"px-3 py-2",children:L.name||""}),s.jsx("td",{className:"px-3 py-2",children:L.email}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("select",{className:"rounded-lg border px-2 py-1",value:L.role||"Teacher",onChange:O=>U(L.email,O.target.value),children:ee.map(O=>s.jsx("option",{value:O,children:O},O))})}),s.jsxs("td",{className:"px-3 py-2 space-x-2",children:[s.jsx("button",{className:"rounded-lg border px-3 py-1",onClick:()=>S(L.email),children:"Reset"}),s.jsx("button",{className:"rounded-lg border px-3 py-1 text-rose-700",onClick:()=>K(L.email),children:"Delete"})]})]},L.email)),x.length===0&&s.jsx(Ee.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("td",{colSpan:4,className:"px-3 py-6 text-center text-slate-500",children:"No users found."})},"no-users")]})})]})})]})}function Fx(){const{candidates:u,setCandidates:b}=Qe(),[m,d]=F.useState(""),[j,w]=F.useState("ALL"),g=_x;F.useEffect(()=>{b(h=>h.map(x=>(x.status==="Graduated"||x.status==="Ready for Hiring")&&!x.hiring?{...x,hiring:{stage:"Graduated",updatedAt:new Date().toISOString(),notes:""}}:x))},[b]);const E=F.useMemo(()=>{const h=(u||[]).filter(S=>S.hiring),x=m.toLowerCase(),U=h.filter(S=>(S.name||"").toLowerCase().includes(x)||(S.email||"").toLowerCase().includes(x)||(S.emirate||"").toLowerCase().includes(x)||(S.subject||"").toLowerCase().includes(x)||(S.id||"").toLowerCase().includes(x));return j==="ALL"?U:U.filter(S=>(S.hiring?.stage||"")===j)},[u,m,j]),D=F.useMemo(()=>{const h=(u||[]).filter(ee=>ee.hiring),x=h.length,U=g.reduce((ee,L)=>(ee[L]=0,ee),{});h.forEach(ee=>{U[ee.hiring?.stage||"Graduated"]=(U[ee.hiring?.stage||"Graduated"]||0)+1});const S=h.filter(ee=>ee.hiring?.stage==="Assigned School").length,K=h.filter(ee=>ee.hiring?.stage==="On Hold").length,ae=h.filter(ee=>ee.hiring?.stage==="Rejected/Closed").length;return{total:x,byStage:U,assigned:S,onHold:K,rejected:ae}},[u,g]);function k(h,x){b(U=>U.map(S=>S.id===h?{...S,hiring:{...S.hiring||{},stage:x,updatedAt:new Date().toISOString()}}:S))}function M(h,x){b(U=>U.map(S=>S.id===h?{...S,hiring:{...S.hiring||{},notes:x,updatedAt:new Date().toISOString()}}:S))}function C(){const h=[{key:"id",label:"Candidate ID"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"emirate",label:"Emirate"},{key:"subject",label:"Subject"},{key:"status",label:"Training Status"},{key:"hiringStage",label:"Hiring Stage"},{key:"notes",label:"Notes"},{key:"updatedAt",label:"Updated"}],x=(u||[]).filter(U=>U.hiring).map(U=>({id:U.id,name:U.name,email:U.email,emirate:U.emirate,subject:U.subject,status:U.status,hiringStage:U.hiring?.stage||"",notes:U.hiring?.notes||"",updatedAt:U.hiring?.updatedAt?new Date(U.hiring.updatedAt).toLocaleString():""}));Kl("Hiring_Tracker.xlsx",x,h,"Hiring")}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Hiring Tracker"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Graduates progressing to school assignment"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"rounded-xl border px-3 py-2",placeholder:"Search name, email, ID, emirate",value:m,onChange:h=>d(h.target.value)}),s.jsxs("select",{className:"rounded-xl border px-3 py-2",value:j,onChange:h=>w(h.target.value),children:[s.jsx("option",{value:"ALL",children:"All stages"}),g.map(h=>s.jsx("option",{value:h,children:h},h))]}),s.jsx("button",{className:"rounded-xl border px-3 py-2",onClick:C,children:"Export XLSX"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"In pipeline"}),s.jsx("div",{className:"text-2xl font-semibold",children:D.total})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Assigned school"}),s.jsx("div",{className:"text-2xl font-semibold",children:D.assigned})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"On hold"}),s.jsx("div",{className:"text-2xl font-semibold",children:D.onHold})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"Rejected/Closed"}),s.jsx("div",{className:"text-2xl font-semibold",children:D.rejected})]})]}),s.jsx("div",{className:"rounded-2xl border bg-white p-6 shadow-sm overflow-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2",children:"Candidate"}),s.jsx("th",{className:"px-3 py-2",children:"Contact"}),s.jsx("th",{className:"px-3 py-2",children:"Training"}),s.jsx("th",{className:"px-3 py-2",children:"Hiring Stage"}),s.jsx("th",{className:"px-3 py-2",children:"Notes"})]})}),s.jsx("tbody",{children:s.jsxs(Mt,{children:[E.map(h=>s.jsxs(Ee.tr,{className:"border-t align-top",initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},layout:!0,children:[s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-xs text-slate-500",children:h.id})]}),s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("div",{children:h.email}),s.jsx("div",{className:"text-xs text-slate-500",children:h.emirate})]}),s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("div",{children:h.subject}),s.jsx("div",{className:"text-xs",children:h.status})]}),s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("select",{className:"rounded-lg border px-2 py-1",value:h.hiring?.stage||"Graduated",onChange:x=>k(h.id,x.target.value),children:g.map(x=>s.jsx("option",{value:x,children:x},x))}),s.jsxs("div",{className:"text-[11px] text-slate-400 mt-1",children:["Last update: ",h.hiring?.updatedAt?new Date(h.hiring.updatedAt).toLocaleString():""]})]}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("textarea",{rows:2,className:"w-full rounded-lg border px-2 py-1",placeholder:"Notes",value:h.hiring?.notes||"",onChange:x=>M(h.id,x.target.value)})})]},h.id)),E.length===0&&s.jsx(Ee.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("td",{className:"px-3 py-6 text-center text-slate-500",colSpan:6,children:"No graduated candidates yet."})},"no-graduates")]})})]})})]})}function Wx(){const{user:u}=rt(),b=u?.role==="Admin",{publicNews:m,setPublicNews:d}=Qe(),[j,w]=Ae.useState(""),[g,E]=Ae.useState(""),[D,k]=Ae.useState("");function M(){if(!b)return;const x=j.trim(),U=g.trim();if(!x||!U){alert("Title and body are required.");return}if(D)h(D,{title:x,body:U}),k("");else{const S={id:`NEWS-${Date.now()}`,ts:new Date().toISOString(),title:x,body:U};d(K=>[S,...K])}w(""),E("")}function C(x){b&&window.confirm("Delete this update?")&&d(U=>U.filter(S=>S.id!==x))}function h(x,U){b&&d(S=>S.map(K=>K.id===x?{...K,...U}:K))}return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Landing Page Updates"}),s.jsx("div",{className:"text-sm text-slate-500",children:"These appear on the public landing page."})]})}),!b&&s.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:["Only ",s.jsx("b",{children:"Admin"})," can post or edit landing updates."]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Create a new update"}),s.jsx("input",{className:"w-full rounded-xl border px-3 py-2 mb-2",placeholder:"Title",value:j,onChange:x=>w(x.target.value)}),s.jsx("textarea",{className:"w-full rounded-xl border px-3 py-2 mb-2 h-28 resize-none",placeholder:"Body",value:g,onChange:x=>E(x.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:M,className:"rounded-xl bg-indigo-600 text-white px-4 py-2",children:"Publish"}),s.jsx("button",{onClick:()=>{w(""),E("")},className:"rounded-xl border px-4 py-2",children:"Clear"})]}),s.jsx("div",{className:"text-[11px] text-slate-400 mt-3",children:"(Prototype) Updates are stored locally in this browser via localStorage."})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Live preview"}),s.jsxs("div",{className:"rounded-xl panel border p-4",children:[j?s.jsx("div",{className:"text-lg font-semibold",children:j}):s.jsx("div",{className:"text-lg text-slate-400",children:"Title preview"}),s.jsx("div",{className:"text-sm text-slate-600 mt-2",children:g||s.jsx("span",{className:"text-slate-400",children:"Body preview"})}),s.jsx("div",{className:"text-xs text-slate-400 mt-3",children:new Date().toLocaleString()})]}),s.jsxs("div",{className:"grid gap-3",children:[m.length===0&&s.jsx("div",{className:"text-slate-500",children:"No updates yet."}),m.map(x=>s.jsxs("div",{className:"rounded-xl border panel p-3 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold",children:x.title}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:x.body}),s.jsx("div",{className:"text-xs text-slate-400 mt-2",children:new Date(x.ts).toLocaleString()})]}),b&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("button",{className:"rounded-lg border px-3 py-1 text-sm",onClick:()=>{k(x.id),w(x.title),E(x.body)},children:"Edit"}),s.jsx("button",{className:"rounded-lg border px-3 py-1 text-sm text-rose-700",onClick:()=>C(x.id),children:"Delete"})]})]},x.id))]})]})]})]})})}function Ix(){const[u,b]=F.useState("dashboard");return s.jsx(bx,{children:s.jsx(jx,{children:s.jsxs(np,{children:[s.jsx(kx,{page:u,setPage:b}),s.jsx("footer",{className:"p-6 text-center text-xs text-slate-500",children:" 2025 PD Sector  MVP UI Demo"})]})})})}function Px({onSignIn:u,onSignUp:b}){const{user:m}=rt(),{publicNews:d,setPublicNews:j}=Qe(),[w,g]=F.useState(""),[E,D]=F.useState(""),[k,M]=F.useState(!1),[C,h]=F.useState(!1),[x,U]=F.useState("all");function S(){const X=w.trim(),P=E.trim();if(!X||!P){alert("Please fill a title and body.");return}const se={id:`NEWS-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,ts:new Date().toISOString(),title:X,body:P};j(I=>[se,...I]),g(""),D(""),M(!1)}const K=Array.isArray(d)?d.slice():[],ae=x==="all"?K:K.filter(X=>String(X.category||"").toLowerCase()===String(x||"").toLowerCase()),ee=C?ae:ae.slice(0,5),L=Ae.useMemo(()=>["/Heros/hero.JPG","/Heros/Hero2.JPG","/Heros/Hero3.JPG","/Heros/Hero4.JPG","/Heros/Hero5.JPG"],[]),[O,_]=Ae.useState(L),[Q,Y]=Ae.useState(0),[N,p]=Ae.useState(!0),[o,H]=Ae.useState(!1);return Ae.useEffect(()=>{let X=!1;async function P(){try{const se=await fetch("/api/heros");if(se.ok){const I=await se.json();if(!X&&Array.isArray(I)&&I.length){_(I);return}}}catch{}try{const se=await fetch("/hero-manifest.json");if(se.ok){const I=await se.json();if(!X&&Array.isArray(I)&&I.length){_(I);return}}}catch{}}return P(),()=>{X=!0}},[]),Ae.useEffect(()=>{const X=O&&O.length?O:["/hero.jpg"];if(o)return;const P=setInterval(()=>{Y(se=>(se+1)%X.length)},5e3);return()=>clearInterval(P)},[O,o]),s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-100 via-white to-white",children:[s.jsxs("header",{className:"max-w-6xl mx-auto px-6 py-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-2xl bg-indigo-600 shadow-sm flex items-center justify-center",children:s.jsx(hx,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold tracking-tight",children:"MOE - ECAE"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Talent Tracking System"})]})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm text-slate-600",children:[s.jsx("a",{href:"#updates",className:"hover:text-slate-900 dark:hover:text-white",children:"Updates"}),s.jsx("a",{href:"#about",className:"hover:text-slate-900 dark:hover:text-white",children:"About"}),s.jsx("a",{href:"#faq",className:"hover:text-slate-900 dark:hover:text-white",children:"FAQ"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:u,className:"rounded-xl border px-4 py-2 hover:bg-white",children:"Sign in"}),s.jsx("button",{onClick:b,className:"rounded-xl bg-slate-900 text-white px-4 py-2 hover:opacity-90",children:"Sign up"})]})]}),s.jsx("section",{className:"relative overflow-hidden",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-6 pb-6",children:[s.jsxs("div",{className:"mb-6 max-w-[1110px] mx-auto w-full h-auto object-contain rounded-3xl shadow-lg overflow-hidden relative",onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:[s.jsx("div",{className:"w-full h-full overflow-hidden",children:(()=>{const X=O&&O.length?O.length:1;return s.jsx("div",{className:"flex h-full transition-transform duration-700",style:{width:`${X*100}%`,transform:`translateX(-${Q*(100/X)}%)`},children:O.map((P,se)=>s.jsx("div",{className:"flex-shrink-0 w-full flex items-center justify-center bg-[rgba(255,255,255,0.02)]",style:{width:`${100/X}%`},children:s.jsx("img",{src:P,alt:`hero-${se}`,onLoad:()=>p(!0),onError:()=>Y(I=>(I+1)%(O.length||1)),style:{width:"100%",height:"auto"},className:`object-contain transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`})},P+se))})})()}),s.jsx("button",{"aria-label":"Previous slide",onClick:()=>Y(X=>{const P=O&&O.length?O.length:1;return(X-1+P)%P}),className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 rounded-full p-2 bg-white/20 dark:bg-black/20 hover:bg-white/30 dark:hover:bg-black/30 shadow-none focus:outline-none focus:ring",children:s.jsx("svg",{className:"h-5 w-5 text-black/90",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M15 18l-6-6 6-6"})})}),s.jsx("button",{"aria-label":"Next slide",onClick:()=>Y(X=>{const P=O&&O.length?O.length:1;return(X+1)%P}),className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 rounded-full p-2 bg-white/20 dark:bg-black/20 hover:bg-white/30 dark:hover:bg-black/30 shadow-none focus:outline-none focus:ring",children:s.jsx("svg",{className:"h-5 w-5 text-black/90",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M9 6l6 6-6 6"})})}),s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-3 flex items-center gap-2",children:O.map((X,P)=>s.jsx("button",{onClick:()=>{Y(P),p(!1),setTimeout(()=>p(!0),50)},className:Bt("h-3 w-3 md:h-3 md:w-3 rounded-full transition-all duration-220 transform",Q===P?"bg-indigo-600/90 border-indigo-700/90 shadow-md scale-105":"bg-slate-300/85 border-slate-400/90 hover:scale-105"),"aria-label":`Show slide ${P+1}`},"dot-"+P))})]}),s.jsx("div",{className:"max-w-6xl mx-auto px-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"text-justify",children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-semibold text-slate-900",children:["Launch your teaching journey with the ",s.jsx("span",{className:"text-indigo-600",children:"MOE"})]}),s.jsx("div",{className:"mt-2 text-slate-500 italic",children:"Empowering educators through world-class training and professional development pathways."}),s.jsx("p",{className:"mt-3 text-slate-600 text-base md:text-lg max-w-lg",children:"Build your educator profile, unlock tailored learning opportunities, and track your achievements with ease. From onboarding to advanced training, the platform connects you with the Ministry of Educations initiatives, empowering you to grow, excel, and shape the future of education."}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-start",children:[s.jsxs("button",{onClick:b,className:"rounded-xl bg-indigo-600 text-white px-5 py-3 text-sm md:text-base shadow hover:opacity-90 inline-flex items-center gap-2",children:[s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M12 2v20M2 12h20"})}),"Get started"]}),s.jsxs("button",{onClick:u,className:"rounded-xl border px-5 py-3 text-sm md:text-base inline-flex items-center gap-2",children:[s.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"I already have an account"]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"rounded-3xl border bg-white p-5 shadow-lg",id:"updates",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"h-5 w-5 text-indigo-600",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 3l1.664 5.126H19l-4.332 3.147L16.332 16 12 12.853 7.668 16l1.664-4.727L5 8.126h5.336L12 3z"})}),s.jsx("div",{className:"font-medium",children:"Latest updates"})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:[K.length," total"]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Filter:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>U("all"),className:Bt("text-xs px-2 py-1 rounded",x==="all"?"bg-indigo-600 text-white":"border text-slate-600"),children:"All"}),s.jsx("button",{onClick:()=>U("training"),className:Bt("text-xs px-2 py-1 rounded",x==="training"?"bg-indigo-600 text-white":"border text-slate-600"),children:"Training"}),s.jsx("button",{onClick:()=>U("moe"),className:Bt("text-xs px-2 py-1 rounded",x==="moe"?"bg-indigo-600 text-white":"border text-slate-600"),children:"MOE"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",style:{maxHeight:"250px",overflowY:"auto"},children:[ee.length===0&&s.jsx("div",{className:"text-slate-500",children:"No updates yet."}),ee.map(X=>s.jsxs("div",{className:"rounded-lg border p-3 bg-white",children:[s.jsx("div",{className:"font-medium text-sm mb-1",children:X.title}),s.jsx("div",{className:"text-slate-600 text-sm mb-2",children:X.body}),s.jsxs("div",{className:"text-xs text-slate-400",children:[new Date(X.ts).toLocaleDateString(),"  ",s.jsx("span",{className:"text-slate-500 text-[11px]",children:X.category||"General"})]})]},X.id))]}),K.length>ee.length&&s.jsx("div",{className:"pt-3 text-right",children:s.jsx("button",{onClick:()=>h(X=>!X),className:"text-xs text-indigo-700 hover:underline",children:C?"Show less":`Show all (${K.length})`})}),m?.role==="Admin"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("button",{onClick:()=>M(X=>!X),className:"text-xs text-slate-500 underline",children:k?"Hide manage updates":"Post an update (local)"}),k&&s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{className:"rounded-xl border px-3 py-2",placeholder:"Title",value:w,onChange:X=>g(X.target.value)}),s.jsx("input",{className:"md:col-span-2 rounded-xl border px-3 py-2",placeholder:"Body",value:E,onChange:X=>D(X.target.value)}),s.jsx("button",{onClick:S,className:"md:col-span-3 rounded-xl bg-slate-900 text-white px-4 py-2",children:"Publish"}),s.jsx("div",{className:"md:col-span-3 text-[11px] text-slate-400",children:"Updates are visible to all visitors and saved to this browser only."})]})]})]})})]})})]})}),s.jsxs("section",{id:"about",className:"max-w-6xl mx-auto px-6 py-12",children:[s.jsx("div",{className:"mb-6 grid md:grid-cols-3 gap-4 items-start",children:s.jsxs("div",{className:"md:col-span-3 grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[s.jsx("img",{src:Ex,alt:"Program 1",className:"h-16 w-16 mb-3"}),s.jsx("div",{className:"font-medium",children:"In-Service PGDE"}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Accredited postgraduate diploma pathway for practicing teachers."})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[s.jsx("img",{src:Tx,alt:"Program 2",className:"h-16 w-16 mb-3"}),s.jsx("div",{className:"font-medium",children:"AI in Education"}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Short courses exploring AI tools for classroom practice."})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[s.jsx("img",{src:Dx,alt:"Program 3",className:"h-16 w-16 mb-3"}),s.jsx("div",{className:"font-medium",children:"Leadership Pathways"}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:"Programs for aspiring school leaders and mentors."})]})]})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{title:"Secure profile",desc:"Create your account and manage your personal details in one place.",icon:"M12 2a10 10 0 100 20 10 10 0 000-20zm1 11.73V18h-2v-4.27a2 2 0 112 0zM11 7h2v2h-2z"},{title:"Track progress",desc:"Follow your training assignments and results step by step.",icon:"M5 14h3v6H5Z M11 10h3v10h-3Z M17 6h3v14h-3Z"},{title:"Stay informed",desc:"See official news and updates curated for candidates.",icon:"M4 4h16v6H4zM4 14h10v6H4z"}].map((X,P)=>s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-50 text-indigo-600 grid place-items-center mb-3",children:s.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:X.icon})})}),s.jsx("div",{className:"font-medium",children:X.title}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:X.desc})]},P))})]}),s.jsx("section",{id:"faq",className:"max-w-6xl mx-auto px-6 pb-14",children:s.jsxs("div",{className:"rounded-3xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"font-semibold text-lg mb-4",children:"Frequently asked"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-slate-700",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Is Sign up only for teachers?"}),s.jsx("p",{className:"mt-1",children:"Yes, new users register as teachers. Admin and partner roles use provisioned accounts."})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Can I edit my email later?"}),s.jsx("p",{className:"mt-1",children:"Your email is the account identifier and cant be changed after sign up."})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"How do I express interest?"}),s.jsxs("p",{className:"mt-1",children:["After signing in, open ",s.jsx("b",{children:"My Profile"})," and click ",s.jsx("i",{children:"I'm interested"}),"."]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Where are updates stored?"}),s.jsx("p",{className:"mt-1",children:"Updates are saved to your browsers storage for prototype use."})]})]})]})}),s.jsx("footer",{className:"border-t",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 text-xs text-slate-500 flex items-center justify-between",children:[s.jsxs("div",{children:[" ",new Date().getFullYear()," Ministry of Education (Prototype)"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("a",{className:"hover:text-slate-800",href:"#updates",children:"Updates"}),s.jsx("a",{className:"hover:text-slate-800",href:"#about",children:"About"}),s.jsx("a",{className:"hover:text-slate-800",href:"#faq",children:"FAQ"})]})]})})]})}function ep({onBack:u,onForgot:b}){const{login:m}=rt(),[d,j]=F.useState(""),[w,g]=F.useState(""),[E,D]=F.useState("");function k(M){M.preventDefault(),D("");try{m(d.trim(),w)}catch(C){D(C.message||"Login failed")}}return s.jsx("div",{className:"min-h-screen grid place-items-center bg-slate-50",children:s.jsxs("form",{onSubmit:k,className:"w-[380px] rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Sign in"}),s.jsxs("label",{className:"text-sm block",children:["Email",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:d,onChange:M=>j(M.target.value),placeholder:"email@domain"})]}),s.jsxs("label",{className:"text-sm block",children:["Password",s.jsx("input",{type:"password",className:"mt-1 w-full rounded-xl border px-3 py-2",value:w,onChange:M=>g(M.target.value),placeholder:""})]}),E&&s.jsx("div",{className:"text-sm text-rose-600",children:E}),s.jsx("button",{className:"w-full rounded-xl bg-slate-900 text-white px-4 py-2",children:"Sign in"}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[s.jsx("button",{type:"button",className:"underline",onClick:u,children:" Back"}),s.jsx("button",{type:"button",className:"underline",onClick:b,children:"Forgot password?"})]})]})})}function tp({onBack:u,onSuccess:b}){const{register:m,requestEmailVerification:d,confirmEmailVerification:j,login:w}=rt(),[g,E]=F.useState({name:"",email:"",password:"",confirm:""}),[D,k]=F.useState(""),[M,C]=F.useState("form"),[h,x]=F.useState("");function U(S){S.preventDefault(),k("");try{if(g.password!==g.confirm){k("Passwords do not match");return}m({name:g.name,email:g.email,password:g.password});const K=d(g.email);x(K),C("verify")}catch(K){k(K.message||"Registration failed")}}return s.jsxs("div",{className:"min-h-screen grid place-items-center bg-slate-50",children:[M==="form"&&s.jsxs("form",{onSubmit:U,className:"w-[520px] rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Sign up  Teacher"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm",children:["Full name",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.name,onChange:S=>E({...g,name:S.target.value})})]}),s.jsxs("label",{className:"text-sm",children:["Email",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.email,onChange:S=>E({...g,email:S.target.value}),placeholder:"email@domain"})]}),s.jsxs("label",{className:"text-sm",children:["Password",s.jsx("input",{type:"password",className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.password,onChange:S=>E({...g,password:S.target.value}),placeholder:"min 4 chars"})]}),s.jsxs("label",{className:"text-sm",children:["Confirm password",s.jsx("input",{type:"password",className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.confirm,onChange:S=>E({...g,confirm:S.target.value})})]})]}),D&&s.jsx("div",{className:"text-sm text-red-600",children:D}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"button",onClick:u,className:"rounded-xl border px-3 py-1",children:"Back"}),s.jsx("div",{className:"space-x-2",children:s.jsx("button",{type:"submit",className:"rounded-xl bg-indigo-600 text-white px-4 py-1.5",children:"Sign up"})})]})]}),M==="verify"&&s.jsxs("form",{onSubmit:S=>{S.preventDefault(),k("");try{j(g.email,g.code),w(g.email,g.password),b?.()}catch(K){k(K.message||"Verification failed")}},className:"w-[520px] rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Verify your email"}),s.jsxs("div",{className:"text-sm text-slate-600",children:["We sent a 6-digit code to ",s.jsx("b",{children:g.email}),". Enter it below to continue."]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm col-span-2",children:["Verification code",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.code||"",onChange:S=>E({...g,code:S.target.value})})]}),s.jsxs("div",{className:"text-xs text-slate-500 col-span-2",children:["Demo: code is ",s.jsx("b",{children:h})]})]}),D&&s.jsx("div",{className:"text-sm text-red-600",children:D}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"button",onClick:()=>C("form"),className:"rounded-xl border px-3 py-1",children:"Back"}),s.jsx("button",{type:"submit",className:"rounded-xl bg-emerald-600 text-white px-4 py-1.5",children:"Verify & Continue"})]})]})]})}function lp({onBack:u,onSuccess:b,prefillEmail:m=""}){const{requestPasswordReset:d,confirmPasswordReset:j}=rt(),[w,g]=F.useState("start"),[E,D]=F.useState(m),[k,M]=F.useState(""),[C,h]=F.useState(""),[x,U]=F.useState(""),[S,K]=F.useState(""),[ae,ee]=F.useState(""),[L,O]=F.useState("");async function _(Y){Y?.preventDefault(),ee(""),O("");try{const N=d(E);M(String(N)),g("verify"),O("We sent a reset code to your email. (Demo code shown below.)")}catch(N){ee(N.message||"Could not send reset code")}}function Q(Y){if(Y?.preventDefault(),ee(""),O(""),x!==S){ee("Passwords do not match");return}try{j(E,C,x),alert("Password updated! Please sign in with your new password."),b?.()}catch(N){ee(N.message||"Could not reset password")}}return s.jsxs("div",{className:"min-h-screen grid place-items-center bg-slate-50",children:[w==="start"&&s.jsxs("form",{onSubmit:_,className:"w-[420px] rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Reset password"}),s.jsxs("label",{className:"text-sm block",children:["Email",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:E,onChange:Y=>D(Y.target.value),placeholder:"email@domain"})]}),ae&&s.jsx("div",{className:"text-sm text-rose-600",children:ae}),L&&s.jsx("div",{className:"text-sm text-emerald-700",children:L}),s.jsx("button",{className:"w-full rounded-xl bg-slate-900 text-white px-4 py-2",children:"Send reset code"}),s.jsx("div",{className:"flex justify-between text-xs text-slate-500",children:s.jsx("button",{type:"button",className:"underline",onClick:u,children:" Back"})})]}),w==="verify"&&s.jsxs("form",{onSubmit:Q,className:"w-[420px] rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Enter code & new password"}),s.jsxs("div",{className:"text-xs text-slate-600",children:["We emailed a 6digit code to ",s.jsx("b",{children:E}),". For demo purposes your code is shown here:"]}),s.jsx("div",{className:"text-sm font-mono px-2 py-1 rounded bg-slate-100 inline-block",children:k}),s.jsxs("label",{className:"text-sm block",children:["Reset code",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:C,onChange:Y=>h(Y.target.value),placeholder:"123456"})]}),s.jsxs("label",{className:"text-sm block",children:["New password",s.jsx("input",{type:"password",className:"mt-1 w-full rounded-xl border px-3 py-2",value:x,onChange:Y=>U(Y.target.value),placeholder:""})]}),s.jsxs("label",{className:"text-sm block",children:["Confirm password",s.jsx("input",{type:"password",className:"mt-1 w-full rounded-xl border px-3 py-2",value:S,onChange:Y=>K(Y.target.value),placeholder:""})]}),ae&&s.jsx("div",{className:"text-sm text-rose-600",children:ae}),s.jsx("button",{className:"w-full rounded-xl bg-slate-900 text-white px-4 py-2",children:"Reset password"}),s.jsx("div",{className:"flex justify-between text-xs text-slate-500",children:s.jsx("button",{type:"button",className:"underline",onClick:u,children:" Back"})})]})]})}function ap(){const{user:u,updateProfile:b,logout:m}=rt(),{candidates:d,courses:j,notify:w}=Qe(),[g,E]=F.useState({name:u?.name||"",email:u?.email||"",dob:u?.dob||"",gender:u?.gender||"",preferredSubject:u?.preferredSubject||"",emirate:u?.emirate||"",contactNumber:u?.contactNumber||"",yearsExperience:u?.yearsExperience||"",currentJob:u?.currentJob||"",emiratesIdNumber:u?.emiratesIdNumber||"",otherNotes:u?.otherNotes||"",docs:u?.docs||{}}),D=/^\+9715\d{8}$/,k=/^784-\d{4}-\d{7}-\d{1}$/;function M(_={}){return!!((_.name||"").trim()&&(_.dob||"").trim()&&(_.gender||"").trim()&&(_.preferredSubject||"").trim()&&(_.emirate||"").trim()&&D.test(_.contactNumber||"")&&k.test(_.emiratesIdNumber||""))}const C=M(g);F.useEffect(()=>{E(_=>({..._,name:u?.name||_.name}))},[u?.name]);const h=u?.applicantStatus==="Accepted",x=u?.interested&&u?.applicantStatus!=="Accepted";function U(){b({interested:!0,applicantStatus:"Pending"});try{w({role:"Admin"},{type:"teacher_interest",title:"New teacher interest",body:`${u?.name||u?.email} wants to join MOE`,targetRef:{page:"applicants"}})}catch{}alert("Your interest has been sent. An admin will review your profile.")}const S=F.useMemo(()=>(d||[]).find(_=>(_.email||"").toLowerCase()===(u?.email||"").toLowerCase())||null,[d,u?.email]),K=F.useMemo(()=>(S?.enrollments||[]).filter(Boolean),[S]),ae=F.useMemo(()=>K.filter(_=>String(_.status||"").toLowerCase()==="completed"),[K]),ee=K.length?Math.round(100*ae.length/K.length):0;function L(){if(!S){alert("No candidate record yet.");return}const _=u?.name||u?.email||"User";Rf(S,j,_)}function O(_,Q){if(!Q)return;const Y=new FileReader;Y.onload=()=>E(N=>({...N,docs:{...N.docs||{},[_]:{name:Q.name,data:String(Y.result)}}})),Y.readAsDataURL(Q)}return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"border-b bg-white",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:"My Profile"}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:m,children:"Sign out"})})]})}),s.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Hello",u?.name?",":""," ",u?.name||"there",h&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 dark:bg-emerald-700 dark:text-emerald-100",children:u?.applicantStatus}),s.jsx("div",{className:"mt-1 text-sm text-slate-600",children:h?s.jsxs("div",{className:"tracking-wider",children:[s.jsxs("div",{children:["Candidate ID: ",u.candidateId]}),s.jsxs("div",{className:"text-slate-500",children:["Sponsor: ",S?.sponsor||""]})]}):u?.applicantStatus==="Rejected"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-50 text-red-500 dark:bg-red-700 dark:text-red-100",children:"Rejected"}):s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-50 text-gray-500 dark:bg-gray-700 dark:text-gray-100",children:"New user"})})]}),!h&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"rounded-xl border px-4 py-1.5 "+(x?"opacity-60 pointer-events-none":""),disabled:x,onClick:U,children:x&&u?.applicantStatus!=="Rejected"?"Pending review":u?.applicantStatus=="Rejected"?"Sorry .. Application Rejected":"I want to join MOE as a teacher"})})]})}),s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"font-medium mb-3",children:"Personal & Professional Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("label",{children:["Name ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsx("input",{required:!0,className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.name||"",onChange:_=>E({...g,name:_.target.value})})]}),s.jsxs("label",{children:["Email",s.jsx("input",{disabled:!0,className:"mt-1 w-full rounded-xl border px-3 py-2 bg-slate-100 text-slate-500",value:u?.email,readOnly:!0})]}),s.jsxs("label",{children:["Date of birth ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsx("input",{required:!0,type:"date",className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.dob||"",onChange:_=>E({...g,dob:_.target.value})})]}),s.jsxs("label",{children:["Gender ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsxs("select",{required:!0,className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.gender||"",onChange:_=>E({...g,gender:_.target.value}),children:[s.jsx("option",{value:"",disabled:!0,children:"Select gender"}),s.jsx("option",{children:"Female"}),s.jsx("option",{children:"Male"})]})]}),s.jsxs("label",{children:["Preferred teaching subject ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsxs("select",{required:!0,className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.preferredSubject||"",onChange:_=>E({...g,preferredSubject:_.target.value}),children:[s.jsx("option",{value:"",disabled:!0,children:"Select a subject"}),Mf.map(_=>s.jsx("option",{value:_,children:_},_))]})]}),s.jsxs("label",{children:["Emirate ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsxs("select",{required:!0,className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.emirate||"",onChange:_=>E({...g,emirate:_.target.value}),children:[s.jsx("option",{value:"",disabled:!0,children:"Select an emirate"}),Df.map(_=>s.jsx("option",{value:_,children:_},_))]})]}),s.jsxs("label",{children:["Mobile number ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsx("input",{required:!0,type:"tel",inputMode:"tel",className:"mt-1 w-full rounded-xl border px-3 py-2",placeholder:"+9715XXXXXXXX",pattern:"^\\+9715\\d{8}$",title:"Enter a UAE mobile number like +9715XXXXXXXX",value:g.contactNumber||"",onChange:_=>E({...g,contactNumber:_.target.value})})]}),s.jsxs("label",{children:["Emirates ID number ",s.jsx("span",{className:"text-rose-600",children:"*"}),s.jsx("input",{required:!0,type:"text",className:"mt-1 w-full rounded-xl border px-3 py-2",placeholder:"784-XXXX-XXXXXXX-X",pattern:"^784-\\d{4}-\\d{7}-\\d{1}$",title:"Format: 784-YYYY-XXXXXXX-X",value:g.emiratesIdNumber||"",onChange:_=>E({...g,emiratesIdNumber:_.target.value})})]}),s.jsxs("label",{children:["Current job title",s.jsx("input",{className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.currentJob,onChange:_=>E({...g,currentJob:_.target.value})})]}),s.jsxs("label",{children:["Years of teaching experience",s.jsx("input",{type:"number",className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.yearsExperience,onChange:_=>E({...g,yearsExperience:_.target.value})})]}),s.jsxs("label",{className:"col-span-2",children:["Other notes",s.jsx("textarea",{rows:2,className:"mt-1 w-full rounded-xl border px-3 py-2",value:g.otherNotes,onChange:_=>E({...g,otherNotes:_.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm mt-4",children:[s.jsxs("label",{children:["Upload Emirates ID",s.jsx("input",{type:"file",className:"mt-1 w-full rounded-xl border px-3 py-2",onChange:_=>O("emiratesId",_.target.files?.[0])}),g.docs?.emiratesId?.name&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Uploaded: ",g.docs.emiratesId.name]})]}),s.jsxs("label",{children:["Upload CV",s.jsx("input",{type:"file",className:"mt-1 w-full rounded-xl border px-3 py-2",onChange:_=>O("cv",_.target.files?.[0])}),g.docs?.cv?.name&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Uploaded: ",g.docs.cv.name]})]}),s.jsxs("label",{children:["Upload Teaching License",s.jsx("input",{type:"file",className:"mt-1 w-full rounded-xl border px-3 py-2",onChange:_=>O("teachingLicense",_.target.files?.[0])}),g.docs?.teachingLicense?.name&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Uploaded: ",g.docs.teachingLicense.name]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:`rounded-xl px-4 py-2 text-white ${C?"bg-slate-900":"bg-slate-400 cursor-not-allowed"}`,disabled:!C,onClick:()=>C&&b(g),children:"Save changes"})})]}),h&&s.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium",children:"My Training"}),s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:L,children:"Download my PDF"})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm",children:"Overall progress"}),s.jsx("div",{className:"h-2 rounded bg-slate-200 mt-1",children:s.jsx("div",{className:"h-2 rounded bg-slate-900",style:{width:`${ee}%`}})}),s.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[ee,"% complete (",ae.length," of ",K.length," courses)"]})]}),s.jsx("div",{className:"mt-3 rounded-2xl border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2",children:"Course"}),s.jsx("th",{className:"px-3 py-2",children:"Cohort"}),s.jsx("th",{className:"px-3 py-2",children:"Dates"}),s.jsx("th",{className:"px-3 py-2",children:"Status"})]})}),s.jsx("tbody",{children:K.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-3 text-slate-500",colSpan:4,children:"No enrollments yet."})}):K.map((_,Q)=>{const Y=(j||[]).find(N=>N.code===_.code);return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-3 py-2",children:[s.jsx("div",{className:"font-medium",children:_.code}),s.jsx("div",{className:"text-xs text-slate-500",children:_.title||Y?.title||""})]}),s.jsx("td",{className:"px-3 py-2",children:_.cohort||""}),s.jsxs("td",{className:"px-3 py-2",children:[_.startDate||"","  ",_.endDate||""]}),s.jsx("td",{className:"px-3 py-2",children:_.status||"Enrolled"})]},Q)})})]})})]})]})]})}function sp({page:u,setPage:b}){const[m]=F.useState("");return u==="signin"?s.jsx(ep,{onBack:()=>b("landing"),onForgot:()=>b("forgot")}):u==="signup"?s.jsx(tp,{onBack:()=>b("landing"),onSuccess:()=>b("signin")}):u==="forgot"?s.jsx(lp,{prefillEmail:m,onBack:()=>b("landing"),onSuccess:()=>b("signin")}):s.jsx(Px,{onSignIn:()=>b("signin"),onSignUp:()=>b("signup")})}function np({children:u}){const{user:b}=rt(),[m,d]=F.useState("landing");return b?b.role==="Teacher"?s.jsx(ap,{}):u:s.jsx(sp,{page:m,setPage:d})}function ip(){console.assert(typeof Bs(`A,B
1,2
3,4`)<"u","CSV parses")}if(typeof window<"u")try{ip()}catch(u){console.error("DEV TESTS FAILED:",u)}function cp(){const{users:u,adminUpdateUser:b}=rt(),{notify:m,setCandidates:d}=Qe(),j=u.filter(C=>C.role==="Teacher"&&C.interested),[w,g]=Ae.useState(null),E=Ae.useMemo(()=>j.find(C=>C.email===w)||null,[w,j]);function D(C){const h=u.find(K=>K.email.toLowerCase()===String(C).toLowerCase());if(!h)return;const x=`C-${Date.now().toString().slice(-6)}`,U=jr(h.preferredSubject||""),S={id:x,name:h.name||"",nationalId:h.emiratesIdNumber||"",email:h.email,mobile:h.contactNumber||"",emirate:h.emirate||"",subject:h.preferredSubject||"",gpa:"",trackId:U,status:"Ready",sponsor:"",courseResults:[],enrollments:[],notesThread:[{id:`N-${x}`,who:"Admin",text:"Accepted from applicants.",ts:new Date().toISOString()}]};d(K=>[...K,S]),b(C,{applicantStatus:"Accepted",candidateId:x}),m({role:"Admin"},{type:"applicant_accepted",title:"Applicant accepted",body:`${h.name} moved to Candidates`,target:{page:"candidates",candidateId:x}}),alert("Applicant accepted and added to Candidates.")}function k(C){const h=u.find(x=>x.email.toLowerCase()===String(C).toLowerCase());h&&(b(C,{applicantStatus:"Rejected"}),m({role:"Admin"},{type:"applicant_rejected",title:"Applicant rejected",body:`${h.name} rejected.`}),alert("Applicant rejected."))}function M(){const C=j.map(U=>({Name:U.name||"",Email:U.email||"",Emirate:U.emirate||"",Subject:U.preferredSubject||"",Contact:U.contactNumber||"","Years Exp":U.yearsExperience||"","Current Job":U.currentJob||"","Emirates ID":U.emiratesIdNumber||"",Status:U.applicantStatus||"Pending"})),h=el.book_new(),x=el.json_to_sheet(C);el.book_append_sheet(h,x,"Applicants"),br(h,"Applicants.xlsx")}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Teacher Applicants"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Interested teachers pending review"})]}),s.jsx("button",{className:"rounded-xl border px-3 py-1",onClick:M,children:"Export XLSX"})]}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{className:"text-left",children:[s.jsx("th",{className:"px-3 py-2",children:"Name"}),s.jsx("th",{className:"px-3 py-2",children:"Email"}),s.jsx("th",{className:"px-3 py-2",children:"Emirate"}),s.jsx("th",{className:"px-3 py-2",children:"Subject"}),s.jsx("th",{className:"px-3 py-2",children:"Years Exp"}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),s.jsxs("tbody",{children:[j.map(C=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:C.name}),s.jsx("td",{className:"px-3 py-2",children:C.email}),s.jsx("td",{className:"px-3 py-2",children:C.emirate||""}),s.jsx("td",{className:"px-3 py-2",children:C.preferredSubject||""}),s.jsx("td",{className:"px-3 py-2",children:C.yearsExperience||""}),s.jsx("td",{className:"px-3 py-2",children:C.applicantStatus||"Pending"}),s.jsxs("td",{className:"px-3 py-2 space-x-2",children:[s.jsx("button",{className:"rounded-lg border px-3 py-1",onClick:()=>g(C.email),children:"View"}),s.jsx("button",{className:"rounded-lg border px-3 py-1",onClick:()=>D(C.email),children:"Accept"}),s.jsx("button",{className:"rounded-lg border px-3 py-1",onClick:()=>k(C.email),children:"Reject"})]})]},C.email)),j.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-6 text-center text-slate-500",children:"No applicants yet."})})]})]}),E&&s.jsxs("div",{className:"mt-6 rounded-xl border p-4 bg-slate-50",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Profile preview"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("b",{children:"Name:"})," ",E.name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Email:"})," ",E.email]}),s.jsxs("div",{children:[s.jsx("b",{children:"DOB:"})," ",E.dob||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Gender:"})," ",E.gender||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Subject:"})," ",E.preferredSubject||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Emirate:"})," ",E.emirate||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Contact:"})," ",E.contactNumber||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Years Exp:"})," ",E.yearsExperience||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Current job:"})," ",E.currentJob||""]}),s.jsxs("div",{children:[s.jsx("b",{children:"Emirates ID #:"})," ",E.emiratesIdNumber||""]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("b",{children:"Notes:"})," ",E.otherNotes||""]}),s.jsxs("div",{className:"col-span-2 flex gap-6 mt-2",children:[E.docs?.emiratesId?.data&&s.jsx("a",{download:E.docs.emiratesId.name||"emirates-id",href:E.docs.emiratesId.data,className:"underline",children:"Download Emirates ID"}),E.docs?.cv?.data&&s.jsx("a",{download:E.docs.cv.name||"cv",href:E.docs.cv.data,className:"underline",children:"Download CV"}),E.docs?.teachingLicense?.data&&s.jsx("a",{download:E.docs.teachingLicense.name||"teaching-license",href:E.docs.teachingLicense.data,className:"underline",children:"Download Teaching License"})]})]})]})]})]})}function rp(){const{user:u}=rt(),b=["Admin","ECAE Manager","ECAE Trainer"].includes(u?.role),[m,d]=Ae.useState("manual");return b?s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Course Enrollment"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Assign candidates manually or via CSV (enroll-only)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`px-3 py-2 rounded-xl border ${m==="manual"?"bg-slate-900 text-white":"bg-white"}`,onClick:()=>d("manual"),children:"Manual Assign"}),s.jsx("button",{className:`px-3 py-2 rounded-xl border ${m==="bulk"?"bg-slate-900 text-white":"bg-white"}`,onClick:()=>d("bulk"),children:"Bulk Enroll (CSV)"})]}),m==="manual"&&s.jsx(up,{}),m==="bulk"&&s.jsx(dp,{})]}):s.jsx("div",{className:"p-6",children:"You do not have access to Course Enrollment."})}function up(){const{candidates:u,setCandidates:b,courses:m,notify:d}=Qe(),[j,w]=Ae.useState(""),[g,E]=Ae.useState(""),[D,k]=Ae.useState(""),[M,C]=Ae.useState(""),[h,x]=Ae.useState(""),[U,S]=Ae.useState(""),K=F.useMemo(()=>Array.isArray(u)?u:[],[u]),ae=F.useMemo(()=>Array.isArray(m)?m:[],[m]),ee=Ae.useMemo(()=>K.find(Q=>String(Q.id)===String(g))||null,[K,g]),L=Ae.useMemo(()=>{const Q=j.trim().toLowerCase();return Q?K.filter(Y=>(Y.name||"").toLowerCase().includes(Q)||(Y.email||"").toLowerCase().includes(Q)||String(Y.id||"").toLowerCase().includes(Q)).slice(0,50):K.slice(0,50)},[j,K]);function O(){if(!g||!D){alert("Select a candidate and a course.");return}const Q=String(D).trim().toUpperCase(),Y=K.map(H=>({...H,enrollments:(H.enrollments||[]).map(X=>({...X}))})),N=Y.findIndex(H=>String(H.id)===String(g));if(N===-1){alert("Candidate not found.");return}const p=Y[N],o=(p.enrollments||[]).find(H=>String(H.code).toUpperCase()===Q);if(o)o.cohort=M||o.cohort||"",o.startDate=h||o.startDate||"",U&&(o.endDate=U),o.status||(o.status="Enrolled");else{const H=ae.find(X=>String(X.code).toUpperCase()===Q);p.enrollments=[{id:`ENR-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,code:Q,title:H?.title||Q,required:!!H?.isRequired,type:H?.isRequired?"Required":"Optional",cohort:M||"",startDate:h||"",endDate:U||"",status:"Enrolled",assignedBy:"Manual",assignedTs:new Date().toISOString()},...p.enrollments||[]]}b(Y),d?.("Enrollment",`Assigned ${p.name||p.email}  ${D}`),w(""),k(""),C(""),x(""),S("")}function _(Q){const Y=String(Q||"").toUpperCase();if(!g||!Y){alert("Select a candidate and a course to remove.");return}if(!confirm("Remove this candidate from the selected course?"))return;const N=K.map(P=>({...P,enrollments:(P.enrollments||[]).map(se=>({...se}))})),p=N.findIndex(P=>String(P.id)===String(g));if(p===-1){alert("Candidate not found.");return}const o=N[p],H=o.enrollments?.length||0;o.enrollments=(o.enrollments||[]).filter(P=>String(P.code).toUpperCase()!==Y);const X=o.enrollments.length;b(N),d?.("Enrollment",`Removed ${o.name||o.email} from ${Y}`),H===X&&alert("Candidate was not enrolled in that course.")}return s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm mb-1",children:"Find candidate by name / email / ID"}),s.jsx("input",{value:j,onChange:Q=>w(Q.target.value),placeholder:"Type to search",className:"w-full rounded-xl border px-3 py-2"}),s.jsx("div",{className:"max-h-48 overflow-auto border rounded-xl mt-2",children:L.map(Q=>s.jsxs("button",{onClick:()=>{E(Q.id)},className:`w-full text-left px-3 py-2 border-b hover:bg-slate-50 ${g===Q.id?"bg-slate-100":""}`,children:[s.jsxs("div",{className:"font-medium",children:[Q.name," ",s.jsxs("span",{className:"text-slate-500",children:["(",Q.email,")"]})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:["ID: ",Q.id]})]},Q.id))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-medium",children:"Assign to course"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm mb-1",children:"Course"}),s.jsxs("select",{value:D,onChange:Q=>k(Q.target.value),className:"w-full rounded-xl border px-3 py-2",children:[s.jsx("option",{value:"",children:"Select a course"}),ae.map(Q=>s.jsxs("option",{value:Q.code,children:[Q.code,"  ",Q.title]},Q.code))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm mb-1",children:"Cohort"}),s.jsx("input",{value:M,onChange:Q=>C(Q.target.value),placeholder:"e.g., AY24-25-A",className:"w-full rounded-xl border px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm mb-1",children:"Start date"}),s.jsx("input",{type:"date",value:h,onChange:Q=>x(Q.target.value),className:"w-full rounded-xl border px-3 py-2"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm mb-1",children:"End date (optional)"}),s.jsx("input",{type:"date",value:U,onChange:Q=>S(Q.target.value),className:"w-full rounded-xl border px-3 py-2"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:O,className:"rounded-xl bg-slate-900 text-white px-4 py-2",children:"Assign"})})]})]}),ee&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"text-sm font-semibold mb-2",children:["Current enrollments for ",ee.name||ee.email]}),s.jsx("div",{className:"border rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2",children:"Code"}),s.jsx("th",{className:"text-left p-2",children:"Title"}),s.jsx("th",{className:"text-left p-2",children:"Cohort"}),s.jsx("th",{className:"text-left p-2",children:"Status"}),s.jsx("th",{className:"text-left p-2",children:"Start"}),s.jsx("th",{className:"text-left p-2",children:"End"}),s.jsx("th",{className:"text-left p-2"})]})}),s.jsx("tbody",{children:(ee.enrollments||[]).map(Q=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:Q.code}),s.jsx("td",{className:"p-2",children:Q.title}),s.jsx("td",{className:"p-2",children:Q.cohort}),s.jsx("td",{className:"p-2",children:Q.status}),s.jsx("td",{className:"p-2",children:Q.startDate}),s.jsx("td",{className:"p-2",children:Q.endDate}),s.jsx("td",{className:"p-2 text-right",children:s.jsx("button",{onClick:()=>_(Q.code),className:"text-red-600 hover:underline",children:"Remove"})})]},Q.id))})]})})]})]})}function dp(){const{candidates:u,setCandidates:b,courses:m}=Qe(),[d,j]=Ae.useState([]),[w,g]=Ae.useState(!1),[E,D]=Ae.useState(null),[k,M]=Ae.useState([]);function C(L){if(Array.isArray(L)){if(L.length===0)return[];if(typeof L[0]=="object"&&!Array.isArray(L[0]))return L;if(Array.isArray(L[0])){const H=L[0].map(P=>String(P||"").trim());return L.slice(1).map(P=>{const se={};return H.forEach((I,z)=>se[I]=(P[z]??"").toString().trim()),se})}}const O=String(L||"").replace(/^\uFEFF/,""),_=O.split(/\r?\n/)[0]||"",Q=(_.match(/,/g)||[]).length,N=(_.match(/;/g)||[]).length>Q?";":",",p=O.trim().split(/\r?\n/).filter(Boolean);if(!p.length)return[];const o=p.shift().split(N).map(H=>H.trim());return p.map(H=>{const X=H.split(N).map(se=>se.trim()),P={};return o.forEach((se,I)=>P[se]=X[I]??""),P})}function h(L){const O={};for(const[_,Q]of Object.entries(L)){const Y=String(_).toLowerCase().trim();Y==="candidate_id"||Y==="id"?O.candidate_id=Q:Y==="candidate_email"||Y==="email"||Y==="candidate"?O.candidate_email=Q:Y==="course_code"||Y==="code"?O.course_code=Q:Y==="cohort"?O.cohort=Q:Y==="start_date"||Y==="startdate"?O.start_date=Q:(Y==="end_date"||Y==="enddate")&&(O.end_date=Q)}return O}function x(){const L=["candidate_id,candidate_email,course_code,cohort,start_date,end_date","C-799513,email@domain.com,SCI201,AY24-25-A,2025-09-03,2025-12-11"].join("\\n"),O=new Blob([L],{type:"text/csv"}),_=document.createElement("a");_.href=URL.createObjectURL(O),_.download="bulk_enroll_template.csv",_.click(),URL.revokeObjectURL(_.href)}function U(L){const O=C(L).map(h);let _=0,Q=0,Y=0,N=0;const p=[],o=Object.create(null);for(const I of m||[])I.code&&(o[String(I.code).toUpperCase()]=I);const H=Object.create(null),X=Object.create(null);for(const I of u||[])I.email&&(H[String(I.email).toLowerCase()]=I),I.id!=null&&(X[String(I.id)]=I);const P=O.map(I=>{const z=String(I.candidate_id||"").trim(),J=String(I.candidate_email||"").trim().toLowerCase(),te=String(I.course_code||"").trim().toUpperCase();if(!te||!z&&!J)return p.push(`SKIP: missing identifier/code -> ${JSON.stringify(I)}`),{raw:I,action:"skip",reason:"missing identifier/code"};const ue=String(I.cohort||"").trim(),de=String(I.start_date||"").trim(),Me=String(I.end_date||"").trim(),ye=z?X[z]:J?H[J]:null;if(!ye)return Y++,p.push(`NOT FOUND: id=${z||"-"} email=${J||"-"}`),{raw:I,action:"error",reason:"unknown candidate"};const v=o[te];return v?(ye.enrollments||[]).find(W=>String(W.code).toUpperCase()===te)?(Q++,{raw:I,action:"update",candidateId:ye.id,code:te,cohort:ue,startDate:de,endDate:Me}):(_++,{raw:I,action:"add",candidateId:ye.id,code:te,cohort:ue,startDate:de,endDate:Me,title:v.title||te,required:!!v.isRequired}):(N++,p.push(`UNKNOWN COURSE: ${te} for ${J||z}`),{raw:I,action:"error",reason:"unknown course"})}),se={rows:O.length,willAdd:_,willUpdate:Q,unknownCandidates:Y,unknownCourses:N};return{actions:P,stats:se,logLines:p}}function S(L){const O=(u||[]).map(_=>({..._,enrollments:(_.enrollments||[]).map(Q=>({...Q}))}));for(const _ of L){if(_.action!=="add"&&_.action!=="update")continue;const Q=O.findIndex(p=>String(p.id)===String(_.candidateId));if(Q===-1)continue;const Y=O[Q];let N=(Y.enrollments||[]).find(p=>String(p.code).toUpperCase()===_.code);N?(N.cohort=_.cohort||N.cohort||"",N.startDate=_.startDate||N.startDate||"",_.endDate&&(N.endDate=_.endDate),N.status||(N.status="Enrolled")):(N={id:`ENR-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,code:_.code,title:_.title,required:!!_.required,type:_.required?"Required":"Optional",cohort:_.cohort||"",startDate:_.startDate||"",endDate:_.endDate||"",status:"Enrolled",assignedBy:"Bulk Enroll",assignedTs:new Date().toISOString()},Y.enrollments=[N,...Y.enrollments||[]])}b(O)}function K(L){const O=L.target.files?.[0];if(!O)return;g(!0);const _=new FileReader;_.onload=()=>{try{const Q=_.result,Y=typeof Bs=="function"?Bs(String(Q||"")):String(Q||""),{actions:N,stats:p,logLines:o}=U(Y);D({rows:N,stats:p,logLines:o}),M(N.filter(H=>H.action==="add"||H.action==="update")),j([`Rows: ${p.rows}`,`Will add: ${p.willAdd}`,`Will update: ${p.willUpdate}`,`Unknown candidates: ${p.unknownCandidates}`,`Unknown courses: ${p.unknownCourses}`,...o])}catch(Q){alert("Failed to parse CSV: "+(Q?.message||Q))}finally{g(!1),L.target.value=""}},_.readAsText(O)}function ae(){E&&(S(k),D(null),M([]),j(L=>[`Applied ${L.find(O=>O.startsWith("Will add"))||"Will add: 0"}, ${L.find(O=>O.startsWith("Will update"))||"Will update: 0"}`,...L]))}function ee(){D(null),M([])}return s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:"Bulk Enroll (Enroll-Only)"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Upload a CSV to preview the changes before applying them. No grades are processed here."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:x,className:"rounded-xl border px-3 py-2",children:"Download template"}),s.jsxs("label",{className:`rounded-xl ${w?"bg-slate-200":"bg-slate-900 hover:opacity-90"} text-white px-3 py-2 cursor-pointer`,children:[w?"Processing":"Upload CSV (Dry-run)",s.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:K,disabled:w})]})]})]}),E&&s.jsxs("div",{className:"rounded-xl border bg-slate-50 p-3 space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Dry-run preview"}),s.jsxs("div",{className:"text-xs text-slate-600",children:["Rows: ",E.stats.rows,"  Will add: ",E.stats.willAdd,"  Will update: ",E.stats.willUpdate,"  Unknown candidates: ",E.stats.unknownCandidates,"  Unknown courses: ",E.stats.unknownCourses]}),s.jsx("div",{className:"overflow-auto max-h-64 border rounded-lg bg-white",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2",children:"Action"}),s.jsx("th",{className:"text-left p-2",children:"Candidate"}),s.jsx("th",{className:"text-left p-2",children:"Course"}),s.jsx("th",{className:"text-left p-2",children:"Cohort"}),s.jsx("th",{className:"text-left p-2",children:"Start"}),s.jsx("th",{className:"text-left p-2",children:"End"}),s.jsx("th",{className:"text-left p-2",children:"Reason"})]})}),s.jsx("tbody",{children:E.rows.map((L,O)=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-2",children:L.action}),s.jsx("td",{className:"p-2",children:L.raw?.candidate_id||L.raw?.candidate_email}),s.jsx("td",{className:"p-2",children:L.raw?.course_code}),s.jsx("td",{className:"p-2",children:L.raw?.cohort}),s.jsx("td",{className:"p-2",children:L.raw?.start_date}),s.jsx("td",{className:"p-2",children:L.raw?.end_date}),s.jsx("td",{className:"p-2",children:L.reason||""})]},O))})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ae,disabled:!k.length,className:"rounded-xl bg-green-600 text-white px-3 py-2 disabled:opacity-50",children:"Apply changes"}),s.jsx("button",{onClick:ee,className:"rounded-xl border px-3 py-2 bg-white",children:"Clear"})]})]}),d.length>0&&s.jsx("div",{className:"rounded-xl bg-slate-50 border p-3 text-xs text-slate-700 max-h-56 overflow-auto",children:d.map((L,O)=>s.jsxs("div",{children:[" ",L]},O))})]})}vx.createRoot(document.getElementById("root")).render(s.jsx(F.StrictMode,{children:s.jsx(Ix,{})}));
//# sourceMappingURL=index-eU8CRCVA.js.map
